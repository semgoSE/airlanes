{"version":3,"sources":["img/logo.png","panels/Groups.jsx","components/SnackbarError.jsx","panels/GroupInfo.jsx","components/SubscribeCities.jsx","panels/Catalog.jsx","panels/SectionCatalog.jsx","components/MyGroups.jsx","components/MyDB.jsx","components/Load.jsx","components/InfoPlaceholder.jsx","panels/MySubs.jsx","components/Viget.jsx","panels/Services.jsx","panels/Aviasales.jsx","panels/Help.jsx","panels/Friends.jsx","panels/Settings.jsx","panels/EditSettings.jsx","panels/Admin.jsx","components/QR.jsx","components/ChooseCountryByContinent.jsx","App.js","serviceWorker.js","index.js","img/booking.png"],"names":["module","exports","Groups","id","state","openCatalog","go","left","onClick","catalog","size","map","item","index","key","expandable","SnakbarError","text","is_error","close","onClose","before","fill","GroupInfo","subscribeGroup","allowMessages","group","subscribe","is_watch","snackbar","e","currentTarget","checked","props","setPopout","bridge","sendPromise","app_id","appId","scope","request_id","then","auth","access_token","method","params","group_id","currentGroup","code","v","data","response","fetch","JSON","stringify","user_id","user","checkbox","setState","catch","SnackbarError","subscribeMessages","screenName","name","domain","tags","a","tagsIn","tagsOut","items","forEach","match","matchAll","length","matchOut","push","matchIn","filter","i","indexOf","obj","groupId","from","tag","to","onChangeGroups","openModal","subscribeMessagesAlert","split","actions","title","autoclose","mode","action","openAlert","description","send","console","log","delete","weight","String","json","body","tag_id","check","my_groups","splice","err","share","ee","this","source","href","target","height","width","multiline","after","onChange","members_count","Component","SubscribeCities","all","updateModalHeight","React","withModalRootContext","Catalog","edit","n","arr","itemsWall","tags_name","element","list","currentCatalog","join","el","is","section","chooseSection","style","fontSize","color","bottom","display","marginLeft","goGroup","SectionCatalog","currentSection","marginTop","bannerData","trackingLink","ctaText","advertisingLabel","iconLink","booking","statistics","url","type","MyGroups","groups","isFetching","is_market","deleted","onChangeDelete","findIndex","openConfirm","deleteAll","onChangeCount","t","edit_","tags_obj","onRefresh","arrGroups","arrCategory","category","groupsCategory","group_name","arrG","u","info","info_groups","align","sex","level","fontWeight","transform","res","SEASONS_TRANSCRIPTION","MONTHS_TRANSCRIPTION","0","1","2","3","4","5","6","7","8","9","10","11","12","CONTINENTS","PASSENGERS","url1Business","url2Passengers","urlForma","CURRENCY","AZN","BYN","CNY","EUR","KGS","KZT","RUB","THB","UAH","USD","UZS","CURRENCY1","LANGUAGES","de","en","es","fr","it","ru","th","tr","blue","MyDB","DB","remove","parse","output","setTimeout","requests","info_db","continentDst","countryDst","cityDst","paddingTop","countrySrc","citySrc","dates","year","month","season","dual","forward","passengers","costMin","costMax","currency","interval","updated","limit","language","currencyForUrl","optional","profitability","days","daysOfWeek","every","array","toLowerCase","showAddionalWeather","Load","progress","is_first","weidth","src","logo","vertical","marginBottom","first_name","last_name","countDB","value","InfoPlaceholder","textAlign","MySubs","activeTab","is_open","openMenu","countGroups","selected","justifyContent","paddingBottom","className","openMenuPlaceholder","paddingRight","right","position","backgroundColor","Viget","script","document","createElement","charSet","async","scriptTag","appendChild","ref","Services","viget_activeMenu","search_activeMenu","activeMenu","contextOpened","activeOf","viget_viget","openMenu_2","openMenu_1","viget","activeViget","toggleContext","requestAnimationFrame","MENU","null","tours","func","transfers","packet","separator","aside","opened","asideContent","marker","Date","getFullYear","getMonth","Aviasales","activeMeta","openMenuMeta","openMenuViget","is_meta","window","screen","frameBorder","scrolling","marker_ozon","Help","openMenuTheme","data-story","top","openMenuAbout","openMenuCashback","openMenuUser","Friends","all_friends_boy","all_friends_girl","tooltips","birthday","activeMenu_friends_boy","activeMenu_friends_girl","filter_friends_boy","filter_friends_girl","activeFilter","is_group","friends_boy","friends_girl","getFriends","fields","city","bdate","friend","age","g","sortCity","sortAlfName","sortAge","sortDate","sortOnline","online","sortAgeTo","min","max","sort","b","sortMothTo","Number","arrMoth","moth","concat","cities","friends_name","name_a","name_b","sortAlfLastName","sortZodiac","d1","d2","znak","m","den","search","seacrh_city","open","myCode","friendCode","indexPrice","Object","keys","getText","menu","date","alf","zodiac","isShown","offsetY","cornerOffset","is_group_friends_boy","groups_friends_boy","header","photo_200","status","Fragment","caption","country","last_seen","time","toLocaleString","day","hour","minute","icon","is_group_friends_girl","groups_friends_girl","CONTINENT_DST","E","F","D","A","S","N","Settings","listCountry","datesCnt","activeCnt","randomCost","randomTempDay","randomTempNight","dayTempMin","dayTempMax","onChangeCheck","onChangeFrom","parseInt","addFrom","removeFrom","onChangeDays","allDays","bool","sort_res","citySrcCode","cityDstCode","countryDstCode","countrySrcCode","nighTempMax","nighTempMin","src_name","dst_name","content","searchCountry","unshift","nameTranslations","nameCountry","searchCity","nameCity","s","count_day_Min","count_day_Max","random_day_count","all_flight","padding","placeholder","options","continent","continentCode","Array","step","defaultValue","onFocus","EditSettings","cityDstList","citySrcList","form","api","VKMiniAppAPI","Admin","token","confirmation_code","act","getAccessToken","accessToken","extended","indicator","QR","qrSvg","vkQr","createQR","qrSize","isShowLogo","innerHTML","App","activeStory","activePanel","theme","activeModal","popout","marker_aviakassa","is_admin","history","setTheme","scheme","sortData","sectionIndex","shift","onStoryChange","dataset","story","modal","chooseGlobal","changeDefaultName","save_request","choose","chooseAll","submit","initApp","onUpdateConfig","location","platform","axios","get","defaultCountry","chooseCountryText","changeFunction","calendar","isWebView","tabbar","getStatus","dynamicContentHeight","settlingHeight","overflowX","overflowY","disabled","lineHeight","border","onChangeForm","paddingLeft","price","origin","destination","departure_at","return_at","Boolean","hostname","ReactDOM","render","getElementById","eruda","erudaCode","erudaDom","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.7165eb64.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5ed619d6.png\";","import React from 'react'\nimport { Panel, PanelHeader, List, SimpleCell, PanelSpinner, PanelHeaderBack, Button, FixedLayout } from '@vkontakte/vkui'\nimport Icon28ViewOutline from '@vkontakte/icons/dist/28/view_outline';\nconst Groups = ({ id, state, openCatalog, go }) => (\n  <Panel id={id}>\n    <PanelHeader left={<PanelHeaderBack onClick={() => go('home')} />}>Сообщества</PanelHeader>\n    \n      {state.catalog === null ? \n        <PanelSpinner size='large'/>\n      :\n    <List>\n      {\n        state.catalog && (\n          state.catalog.map((item, index) => \n            <SimpleCell\n              key={item.catalog}\n              id={index}\n              expandable\n              onClick={openCatalog}\n            >\n              {item.catalog}\n            </SimpleCell>\n          )\n        )\n          \n       \n      }\n    </List>\n\n    }\n  </Panel>\n)\n\nexport default Groups\n","import React, { Component } from 'react'\r\nimport { render } from '@testing-library/react';\r\nimport { Snackbar } from '@vkontakte/vkui';\r\n\r\nimport Icon24Error from '@vkontakte/icons/dist/24/error';\r\n\r\nconst SnakbarError = ({ text , is_error, close}) => (\r\n        <Snackbar onClose={close} before={is_error && <Icon24Error fill='#FA5728'/>}>{text ? text : \"Ошибка интернет-соединения.\"}</Snackbar>\r\n        )\r\n    \r\n\r\nexport default SnakbarError;","import React, { Component } from 'react'\r\nimport { Panel, PanelHeader, PanelHeaderBack, RichCell, SimpleCell, Link, Button, Alert, ScreenSpinner, Div, Text, Switch, PanelSpinner, Group, Header, MiniInfoCell, Placeholder, Gallery, Banner } from '@vkontakte/vkui'\r\nimport SnackbarError from '../components/SnackbarError';\r\nimport Icon28SettingsOutline from '@vkontakte/icons/dist/28/settings_outline';\r\nimport Icon28ViewOutline from '@vkontakte/icons/dist/28/view_outline';\r\nimport Icon28MailOutline from '@vkontakte/icons/dist/28/mail_outline';\r\nimport Icon20CommentOutline from '@vkontakte/icons/dist/20/comment_outline';\r\nimport Icon20GlobeOutline from '@vkontakte/icons/dist/20/globe_outline';\r\nimport Icon20ArticleOutline from '@vkontakte/icons/dist/20/article_outline';\r\nimport Icon20CheckBoxOff from '@vkontakte/icons/dist/20/check_box_off';\r\nimport Icon20CheckBoxOn from '@vkontakte/icons/dist/20/check_box_on';\r\nimport Icon20NarrativeOutline from '@vkontakte/icons/dist/20/narrative_outline';\r\nimport Icon28InfoOutline from '@vkontakte/icons/dist/28/info_outline';\r\nimport Icon56InfoOutline from '@vkontakte/icons/dist/56/info_outline';\r\nimport Icon24ViewOutline from '@vkontakte/icons/dist/24/view_outline';\r\nimport Icon20FollowersOutline from '@vkontakte/icons/dist/20/followers_outline';\r\nimport Icon28MessageOutline from '@vkontakte/icons/dist/28/message_outline';\r\nimport Icon28ShareExternalOutline from '@vkontakte/icons/dist/28/share_external_outline';\r\nimport Icon28Notifications from '@vkontakte/icons/dist/28/notifications';\r\nimport Icon28FavoriteOutline from '@vkontakte/icons/dist/28/favorite_outline';\r\nimport Icon24Dropdown from '@vkontakte/icons/dist/24/dropdown';\r\nimport Icon24Qr from '@vkontakte/icons/dist/24/qr';\r\n\r\nimport bridge from '@vkontakte/vk-bridge'\r\n\r\n\r\n\r\n\r\nexport class GroupInfo extends Component {\r\n\r\n  state = {\r\n    subscribeGroup: {},\r\n    allowMessages:{},\r\n    group:null,\r\n    subscribe: false,\r\n    is_watch:false,\r\n    snackbar:null\r\n  }\r\n  // Подписка на сообщество\r\n  subscribe = e => {\r\n    if(e.currentTarget.checked) {\r\n    this.props.setPopout(<ScreenSpinner />)\r\n    const { state } = this.props\r\n    bridge.sendPromise(\"VKWebAppGetAuthToken\", {\r\n      app_id: state.appId,\r\n      scope: \"wall,groups\",\r\n      request_id: 1\r\n    })\r\n    .then(auth => {\r\n      if(auth.access_token && auth.scope === \"wall,groups\"){\r\n        bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\r\n          method: \"groups.getById\",\r\n          request_id: 2,\r\n          params: {\r\n            group_id: this.props.state.currentGroup.code,\r\n            access_token: auth.access_token,\r\n            v: 5.107,\r\n          }\r\n        })\r\n        .then(data => {\r\n          bridge.sendPromise(\"VKWebAppJoinGroup\", {\"group_id\": data.response[0].id})\r\n          .then(() => {\r\n            // Если пользователь подписался, то отправляем запрос \r\n            // на сохранение этих данных\r\n            fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-groups\", {\r\n              \"headers\": {\r\n                \"accept\": \"*/*\",\r\n                \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\r\n                \"content-type\": \"application/json;charset=utf-8\",\r\n              },\r\n              \"body\": JSON.stringify({\r\n                user_id: state.user.id,\r\n                app_id: state.appId,\r\n                checkbox: data.response[0].id\r\n              }),\r\n              \"method\": \"POST\",\r\n            })\r\n            .then(() => {\r\n              this.props.setPopout(null);\r\n              this.setState({ subscribe: true })\r\n            })\r\n            .catch(() => {\r\n              this.props.setPopout(null);\r\n              this.setState({ snackbar: <SnackbarError text=\"Ошибка интернет-соеденения\" onClose={() => this.setState({ snackbar: null})} />})\r\n            })\r\n          })\r\n          .catch(() => {\r\n            this.props.setPopout(null);\r\n            this.setState({ snackbar: <SnackbarError text=\"Вы не подписались на группу.\" onClose={() => this.setState({ snackbar: null})} />}) \r\n          })\r\n        })\r\n        .catch(() => {\r\n          this.props.setPopout(null);\r\n          this.setState({ snackbar: <SnackbarError text=\"Ошибка получения группы\" onClose={() => this.setState({ snackbar: null})} />})\r\n        })\r\n      }\r\n    })\r\n    .catch(() => {\r\n      this.props.setPopout(null);\r\n      this.setState({ snackbar: <SnackbarError text=\"Ошибка получения токена\" onClose={() => this.setState({ snackbar: null})} />})\r\n    })\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    bridge.sendPromise(\"VKWebAppGetAuthToken\", {\r\n      app_id: this.props.state.appId,\r\n      scope:\"\",\r\n      request_id: 1\r\n    })\r\n    .then((auth) => {\r\n      bridge.send(\"VKWebAppCallAPIMethod\", {\"method\": \"groups.isMember\", \"params\": {\"group_id\": this.props.state.currentGroup.code, \"user_id\":this.props.state.user.id, \"v\": \"5.120\", \"access_token\":auth.access_token}})\r\n      .then((response) => {\r\n        console.log(response)\r\n        bridge.send(\"VKWebAppCallAPIMethod\", {\"method\": \"groups.getById\", \"params\": {\"group_id\": this.props.state.currentGroup.code,\"fields\":\"description,members_count\", \"v\": \"5.120\", \"access_token\":auth.access_token}})\r\n        .then((data) => {\r\n          console.log(data)\r\n          this.setState({group: data.response[0], subscribe:(response.response == 1)});\r\n        });\r\n      });\r\n\r\n\r\n    })\r\n\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  // Запрос на сообщения\r\n  subscribeMessages = (screenName, name) => {\r\n    const { state } = this.props\r\n    this.props.setPopout(<ScreenSpinner />)\r\n    bridge.sendPromise(\"VKWebAppGetAuthToken\", {\r\n      app_id: state.appId,\r\n      scope: \"wall,groups\",\r\n      request_id: 1\r\n    })\r\n    .then(auth => {\r\n      if(auth.access_token && auth.scope === \"wall,groups\"){\r\n        bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\r\n          method: \"groups.getById\",\r\n          request_id: 2,\r\n          params: {\r\n            group_id: screenName,\r\n            access_token: auth.access_token,\r\n            v: 5.107,\r\n          }\r\n        })\r\n        .then(data => {\r\n          bridge.sendPromise(\"VKWebAppAllowMessagesFromGroup\", {\"group_id\": data.response[0].id, \"key\": \"dBuBKe1kFcdemzB\"})\r\n          .then(() => {\r\n            bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\r\n              method: \"wall.get\",\r\n              request_id: 2,\r\n              params: {\r\n                domain: screenName,\r\n                access_token: auth.access_token,\r\n                v: 5.107,\r\n              }\r\n            })\r\n            .then(async tags => {\r\n              let tagsIn = [];\r\n              let tagsOut = [];\r\n              let itemsWall = tags.response.items;\r\n              itemsWall.forEach((group) => {\r\n                let match = [...group.text.matchAll(/(#.*@.*)/g)];\r\n                if (match.length) {\r\n                  if (match.length > 2) {\r\n                    let matchOut = match[2];\r\n                    tagsOut.push(matchOut)\r\n                }\r\n                let matchIn = match[0];\r\n                tagsIn.push(matchIn)\r\n                }\r\n              });\r\n              tagsIn = tagsIn.map((item) => \r\n                item[0]\r\n              )\r\n              tagsIn = tagsIn.filter((v,i) => tagsIn.indexOf(v) === i)\r\n              tagsOut = tagsOut.map((item) => \r\n                item[0]\r\n              )\r\n              tagsOut = tagsOut.filter((v,i) => tagsOut.indexOf(v) === i)\r\n              let obj = {\r\n                name:name,\r\n                screenName,\r\n                id:null,\r\n                groupId:data.response[0].id, \r\n                from:tagsOut.map((item) => {\r\n                  return {\r\n                    tag: item,\r\n                    checked: false\r\n                  }\r\n                }),\r\n                to:tagsIn.map((item) => {\r\n                  return {\r\n                    tag: item,\r\n                    checked: false\r\n                  }\r\n                })\r\n\r\n              }\r\n              this.props.onChangeGroups('obj', obj);\r\n              this.props.openModal('subscribeCities')\r\n              this.props.setPopout(null) \r\n              \r\n            })\r\n            .catch(() => {\r\n              this.props.setPopout(null)\r\n              this.setState({ snackbar: <SnackbarError text=\"Ошибка получения записей\" onClose={() => this.setState({ snackbar: null})} />})\r\n            })\r\n          })\r\n          .catch(() => {\r\n            this.props.setPopout(null)\r\n            this.setState({ snackbar: <SnackbarError text=\"Вы не разрешили сообщения\" onClose={() => this.setState({ snackbar: null})} />})\r\n          })\r\n        })\r\n        .catch(() => {\r\n          this.props.setPopout(null)\r\n          this.setState({ snackbar: <SnackbarError text=\"Ошибка получения группы\" onClose={() => this.setState({ snackbar: null})} />})\r\n        })\r\n      }\r\n    })\r\n    .catch(() => {\r\n      this.props.setPopout(null)\r\n      this.setState({ snackbar: <SnackbarError text=\"Ошибка получения токена\" onClose={() => this.setState({ snackbar: null})} />})\r\n    })\r\n  }\r\n\r\n  // Предупреждение с информацией\r\n  subscribeMessagesAlert = e => {\r\n    const screenName = e.currentTarget.id.split(\"com/\")[1]\r\n    const name = e.currentTarget.name\r\n    this.props.setPopout(\r\n      <Alert\r\n        actions={[{\r\n          title: 'Отмена',\r\n          autoclose: true,\r\n          mode: 'cancel'\r\n        }, {\r\n          title: 'Разрешить',\r\n          autoclose: true,\r\n          action: () => this.subscribeMessages(screenName, name),\r\n        }]}\r\n        onClose={() => this.props.setPopout(null)}\r\n      >\r\n        <p>Вы можете получать со стены сообщества в личные сообщения только те авиабилеты, которые Вам интересны. Для этого разрешите сейчас сообщения в сообществе и выберите города прилета из списка.</p>\r\n      </Alert>\r\n    )\r\n  }\r\n\r\n  openAlert = (item, e) => {\r\n    if(e.currentTarget.checked) {\r\n      this.subscribeMessages(item.code, item.description);\r\n    }else {\r\n      this.props.setPopout(<ScreenSpinner />)\r\n      bridge.sendPromise(\"VKWebAppGetAuthToken\", {\r\n        app_id: this.props.state.appId,\r\n        scope:\"\",\r\n        request_id: 1\r\n      })\r\n      .then((auth) => {\r\n          bridge.send(\"VKWebAppCallAPIMethod\", {\"method\": \"groups.getById\", \"params\": {\"group_id\": item.code,\"fields\":\"description\", \"v\": \"5.120\", \"access_token\":auth.access_token}})\r\n          .then((data) => {\r\n            console.log(data);\r\n            this.props.setPopout(\r\n              <Alert\r\n                actions={[{\r\n                  title: 'Отмена',\r\n                  autoclose: true,\r\n                  mode: 'cancel'\r\n                }, {\r\n                  title: 'Удалить',\r\n                  autoclose: true,\r\n                  mode:'destructive',\r\n                  action: () => this.delete(item.code),\r\n                }]}\r\n                onClose={() => this.props.setPopout(null)}\r\n              >\r\n                <Text weight='regular'>Удалить все подписки в личные сообщения из сообщества <b>\"{data.response[0].name}\"</b>?</Text>\r\n              </Alert>\r\n            )\r\n          });\r\n   });\r\n  }\r\n}\r\n\r\n  delete = (code) => {\r\n    this.props.setPopout(<ScreenSpinner />);\r\n    fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-tags\", {\r\n      \"headers\": {\r\n        \"accept\": \"*/*\",\r\n        \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\r\n        \"content-type\": \"application/json;charset=utf-8\",\r\n      },\r\n      \"body\": JSON.stringify({\r\n        user_id: String(this.props.state.user.id)\r\n      }),\r\n      \"method\": \"POST\",\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      let arrCategory = [];\r\n      let arr = [];\r\n      data.tags.forEach(tag => {\r\n        if(tag.body.split('@')[1] == code) {\r\n          fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/remove-tag\", {\r\n            \"headers\": {\r\n              \"accept\": \"*/*\",\r\n              \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\r\n              \"content-type\": \"application/json;charset=utf-8\",\r\n            },\r\n            \"referrer\": \"https://appvk.flights.ru/\",\r\n            \"referrerPolicy\": \"no-referrer-when-downgrade\",\r\n            \"body\": JSON.stringify({tag_id:tag.id, user_id:this.props.state.user.id}),\r\n            \"method\": \"POST\",\r\n          })\r\n          .then(response => response.json())\r\n          .then(check => {\r\n            if(check.response === 'ok'){\r\n            }\r\n          })\r\n        }\r\n      }  \r\n      );\r\n      this.props.state.my_groups.splice(this.props.state.my_groups.indexOf(code), 1);\r\n      console.log(this.props.state.my_groups.indexOf(code), arr)\r\n      this.props.setPopout(null);\r\n    }).catch(err => {\r\n      this.props.setPopout(null)\r\n      this.setState({snackbar:<SnackbarError close={() => this.setState({snackbar:null})}/>, data:'error'})\r\n    })\r\n  }\r\n\r\n  share = () => {\r\n    bridge.send(\"VKWebAppShare\", {\"link\": \"https://vk.com/\" + this.props.state.currentGroup.code})\r\n    .then()\r\n    .catch((ee) => {\r\n      console.log(ee)\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      id,\r\n      state,\r\n      go,\r\n    } = this.props\r\n\r\n    const { group, subscribe } = this.state;\r\n    return (\r\n      <Panel id={id}>\r\n        <PanelHeader\r\n          left={\r\n            <PanelHeaderBack onClick={() => this.props.onChangeGroups('activePanel',state.currentGroup.source)} />\r\n          }\r\n        >{group && group.name}</PanelHeader>\r\n        {\r\n          group == null ? <PanelSpinner /> : (\r\n          <div>  \r\n            <SimpleCell before={<Icon24ViewOutline fill='var(--accent)' />}>\r\n              <Link href={\"https://vk.com/\"+state.currentGroup.code} target=\"_blank\">Перейти в сообщество</Link>\r\n            </SimpleCell>\r\n            <SimpleCell before={<Icon20FollowersOutline height={24} width={24} fill={!subscribe ? '#4BBDE7' : '#0E62F1'}/>} multiline after={<Switch checked={subscribe} onChange={this.subscribe}/>}>\r\n              Добавить дешевые авиабилеты в ленту новостей\r\n            </SimpleCell>\r\n          <SimpleCell before={<Icon28MessageOutline height={24} width={24} fill={state.my_groups.indexOf(state.currentGroup.code) === -1 ? '#4BBDE7' : '#0E62F1'}/>} multiline  after={<Switch onChange={(e) => this.openAlert(state.currentGroup, e)} checked={state.my_groups.indexOf(state.currentGroup.code) !== -1} />}>\r\n          Хочу выбрать дешевые авиабилеты, которые нужно присылать со стены сообщества в личные сообщения\r\n            </SimpleCell>\r\n\r\n\r\n\r\n            <SimpleCell before={<Icon20FollowersOutline />}>\r\n              {group.members_count + ' подписчиков'}\r\n            </SimpleCell>\r\n            <SimpleCell before={<Icon28ShareExternalOutline height={24} width={24} fill='var(--accent)' />} onClick={this.share}>\r\n              <Link>Поделиться с друзьями</Link>\r\n            </SimpleCell>\r\n            {!this.state.is_watch && <SimpleCell onClick={() => this.setState({ is_watch:true})} before={<Icon24Dropdown />}><Link>показать больше</Link></SimpleCell>}\r\n            {this.state.is_watch &&\r\n            <div>\r\n            <SimpleCell before={<Icon28Notifications height={24} width={24} />} after={<Switch />}>\r\n              Уведомлять о записях\r\n            </SimpleCell>\r\n\r\n            <SimpleCell before={<Icon28FavoriteOutline height={24} width={24} />} after={<Switch />}>\r\n              Сохранить в закладках\r\n            </SimpleCell>\r\n\r\n            <SimpleCell before={<Icon24Qr height={24} width={24} fill='var(--accent)' />} onClick={() => this.props.openModal('qr')}>\r\n              <Link>Открыть QR</Link>\r\n            </SimpleCell>\r\n            <Gallery>\r\n              <div>\r\n                <Banner />\r\n              </div>\r\n              <div>\r\n                <Banner />\r\n              </div>\r\n            </Gallery>\r\n            </div>\r\n  }\r\n            {this.state.snackbar}\r\n          </div>\r\n          ) \r\n        }\r\n      </Panel>\r\n    )\r\n  }\r\n}\r\n\r\nexport default GroupInfo\r\n","import React from 'react'\nimport { Div, Checkbox, Title, FormLayout, Switch, Cell, ScreenSpinner, ModalPage, withModalRootContext } from '@vkontakte/vkui'\n\nexport class SubscribeCities extends React.Component {\n  state = {\n    from: null,\n    to: null,\n    all:false,\n  }\n\n  componentDidMount() {\n    this.setState({ from: this.props.state.obj.from, to: this.props.state.obj.to })\n    this.props.updateModalHeight();\n  }\n\n\n\n\n  render() {\n    const {\n      from,\n      to,\n      all\n    } = this.state\n    const {\n      id,\n      close,\n      state\n    } = this.props\n    return (\n    \n<div />\n      \n\n    )\n  }\n}\nexport default withModalRootContext(SubscribeCities);\n\n","import React, { Component } from 'react'\nimport { Panel, PanelHeader, PanelHeaderBack, RichCell, SimpleCell, Link, Button, Alert, ScreenSpinner, Div, Avatar, Switch, Text } from '@vkontakte/vkui'\nimport Icon28SettingsOutline from '@vkontakte/icons/dist/28/settings_outline';\nimport Icon28ViewOutline from '@vkontakte/icons/dist/28/view_outline';\nimport Icon28MailOutline from '@vkontakte/icons/dist/28/mail_outline';\nimport Icon28UserAddOutline from '@vkontakte/icons/dist/28/user_add_outline';\nimport Icon28CheckCircleOutline from '@vkontakte/icons/dist/28/check_circle_outline';\nimport Icon28HelpOutline from '@vkontakte/icons/dist/28/help_outline';\nimport Icon28AddSquareOutline from '@vkontakte/icons/dist/28/add_square_outline';\nimport Icon28CheckSquareOutline from '@vkontakte/icons/dist/28/check_square_outline';\nimport bridge from '@vkontakte/vk-bridge'\nimport SubscribeCities from '../components/SubscribeCities'\nimport SnackbarError from '../components/SnackbarError';\nimport { VKMiniAppAPI } from '@vkontakte/vk-mini-apps-api'\n\n\n\nexport class Catalog extends Component {\n\n  state = {\n    subscribeGroup: {},\n    allowMessages:{},\n \n  }\n  // Подписка на сообщество\n  subscribe = screenName => {\n    this.props.setPopout(<ScreenSpinner />);\n    const { state } = this.props\n    bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n      app_id: state.appId,\n      scope: \"wall,groups\",\n      request_id: 1\n    })\n    .then(auth => {\n      if(auth.access_token && auth.scope === \"wall,groups\"){\n        bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n          method: \"groups.getById\",\n          request_id: 2,\n          params: {\n            group_id: screenName,\n            access_token: auth.access_token,\n            v: 5.107,\n          }\n        })\n        .then(data => {\n          bridge.sendPromise(\"VKWebAppJoinGroup\", {\"group_id\": data.response[0].id})\n          .then(() => {\n            // Если пользователь подписался, то отправляем запрос \n            // на сохранение этих данных\n            fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-groups\", {\n              \"headers\": {\n                \"accept\": \"*/*\",\n                \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n                \"content-type\": \"application/json;charset=utf-8\",\n              },\n              \"body\": JSON.stringify({\n                user_id: state.user.id,\n                app_id: state.appId,\n                checkbox: data.response[0].id\n              }),\n              \"method\": \"POST\",\n            }).then((response) => response.json)\n              .then((response) => {\n                let obj = {...this.state.subscribeGroup, [screenName]:true};\n                \n                this.setState({subscribeGroup: obj})\n                this.props.setPopout(null);\n              })\n              .catch(() => this.props.setPopout(null));\n          }).catch(() => this.props.setPopout(null));\n        }).catch(() => this.props.setPopout(null));\n      }\n    }).catch(() => this.props.setPopout(null));\n  }\n\n  componentDidMount() {\n    bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n      app_id: this.props.state.appId,\n      scope:\"\",\n      request_id: 1\n    })\n    .then((data) => {\n      let list = this.props.state.catalog[this.props.state.currentCatalog].to.map((item) => item.code).join(',');\n      bridge.send(\"VKWebAppCallAPIMethod\", {\"method\": \"execute.getSubscribeGroup\", \"params\": {\"list\": list, \"v\": \"5.120\", \"access_token\":data.access_token}})\n      .then((response) => {\n        let obj = {};\n        response.response.forEach((el) => { \n          obj[el.name] = (el.is == 1);\n        })\n        console.log(obj)\n        this.setState({subscribeGroup: obj});\n      });\n\n    })\n\n\n\n\n\n\n  }\n\n  // Запрос на сообщения\n  subscribeMessages = (screenName, name) => {\n    const { state } = this.props\n    this.props.setPopout(<ScreenSpinner />)\n    bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n      app_id: state.appId,\n      scope: \"wall,groups\",\n      request_id: 1\n    })\n    .then(auth => {\n      if(auth.access_token && auth.scope === \"wall,groups\"){\n        bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n          method: \"groups.getById\",\n          request_id: 2,\n          params: {\n            group_id: screenName,\n            access_token: auth.access_token,\n            v: 5.107,\n          }\n        })\n        .then(data => {\n          bridge.sendPromise(\"VKWebAppAllowMessagesFromGroup\", {\"group_id\": data.response[0].id, \"key\": \"dBuBKe1kFcdemzB\"})\n          .then(() => {\n            bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n              method: \"wall.get\",\n              request_id: 2,\n              params: {\n                domain: screenName,\n                access_token: auth.access_token,\n                v: 5.107,\n              }\n            })\n            .then(async tags => {\n              let tagsIn = [];\n              let tagsOut = [];\n              let itemsWall = tags.response.items;\n              itemsWall.forEach((group) => {\n                let match = [...group.text.matchAll(/(#.*@.*)/g)];\n                if (match.length) {\n                  if (match.length > 2) {\n                    let matchOut = match[2];\n                    tagsOut.push(matchOut)\n                }\n                let matchIn = match[0];\n                tagsIn.push(matchIn)\n                }\n              });\n              tagsIn = tagsIn.map((item) => \n                item[0]\n              )\n              tagsIn = tagsIn.filter((v,i) => tagsIn.indexOf(v) === i)\n              tagsOut = tagsOut.map((item) => \n                item[0]\n              )\n              tagsOut = tagsOut.filter((v,i) => tagsOut.indexOf(v) === i)\n              let obj = {\n                name:name,\n                screenName:screenName,\n                id:null,\n                groupId:data.response[0].id, \n                from:tagsOut.map((item) => {\n                  return {\n                    tag: item,\n                    checked: false\n                  }\n                }),\n                to:tagsIn.map((item) => {\n                  return {\n                    tag: item,\n                    checked: false\n                  }\n                })\n\n              }\n              this.props.onChangeGroups('obj', obj);\n              this.props.openModal('subscribeCities')\n              this.props.setPopout(null) \n              \n            })\n            .catch(() => this.props.setPopout(null))\n          })\n          .catch(() => this.props.setPopout(null))\n        })\n        .catch(() => this.props.setPopout(null))\n      }\n    })\n    .catch(() => this.props.setPopout(null))\n  }\n\n  edit = (item, n) => {\n    let name = item.description;\n    let screenName = item.code;\n    const { state } = this.props\n    this.props.setPopout(<ScreenSpinner />)\n    bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n      app_id: state.appId,\n      scope: \"wall,groups\",\n      request_id: 1\n    })\n    .then(auth => {\n      if(auth.access_token && auth.scope === \"wall,groups\"){\n        bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n          method: \"groups.getById\",\n          request_id: 2,\n          params: {\n            group_id: screenName,\n            access_token: auth.access_token,\n            v: 5.107,\n          }\n        })\n        .then(data => {\n          bridge.sendPromise(\"VKWebAppAllowMessagesFromGroup\", {\"group_id\": data.response[0].id, \"key\": \"dBuBKe1kFcdemzB\"})\n          .then(() => {\n            bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n              method: \"wall.get\",\n              request_id: 2,\n              params: {\n                domain: screenName,\n                access_token: auth.access_token,\n                v: 5.107,\n              }\n            })\n            .then(tags => {\n              fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-tags\", {\n                \"headers\": {\n                  \"accept\": \"*/*\",\n                  \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n                  \"content-type\": \"application/json;charset=utf-8\",\n                },\n                \"body\": JSON.stringify({\n                  user_id: String(this.props.state.user.id)\n                }),\n                \"method\": \"POST\",\n              })\n              .then(response => response.json())\n              .then(arr => {\n                let tagsIn = [];\n                let tagsOut = [];\n                let itemsWall = tags.response.items;\n                let tags_obj = arr.tags.filter(element => { if(element.body.split('@')[1] ===  screenName) { return true; }});\n                let tags_name = arr.tags.map(e => { return e.body});\n                console.log(tags_name);\n                itemsWall.forEach((group) => {\n                  let match = [...group.text.matchAll(/(#.*@.*)/g)];\n                  if (match.length) {\n                    if (match.length > 2) {\n                      let matchOut = match[2];\n                      tagsOut.push(matchOut)\n                  }\n                  let matchIn = match[0];\n                  tagsIn.push(matchIn)\n                  }\n                });\n                tagsIn = tagsIn.map((item) => \n                  item[0]\n                )\n                tagsIn = tagsIn.filter((v,i) => tagsIn.indexOf(v) === i)\n                tagsOut = tagsOut.map((item) => \n                  item[0]\n                )\n                tagsOut = tagsOut.filter((v,i) => tagsOut.indexOf(v) === i)\n                let obj = {\n                  name:name,\n                  \n                  groupId:data.response[0].id, \n                  from:tagsOut.map((item) => {\n                    return {\n                      tag: item,\n                      checked: tags_name.indexOf(item) !== -1\n                    }\n                  }),\n                  to:tagsIn.map((item) => {\n                    return {\n                      tag: item,\n                      checked: tags_name.indexOf(item) !== -1\n                    }\n                  })\n                }\n\n                this.props.onChangeGroups('obj', obj);\n                this.props.openModal('subscribeCities');\n                this.props.setPopout(null);\n              }).catch(err => {\n                this.props.setPopout(null)\n                console.log(err)\n                this.setState({snackbar:<SnackbarError close={() => this.setState({snackbar:null})}/>, data:'error'})\n              })\n            })\n            .catch((err) => {this.props.setPopout(null); console.log('1')})\n          })\n          .catch((err) => {this.props.setPopout(null); console.log('2')})\n        })\n        .catch((err) => {this.props.setPopout(null); console.log('3')})\n      }\n    })\n    .catch(() => {this.props.setPopout(null); console.log('4')})\n  }\n\n\n  // Предупреждение с информацией\n  openAlert = (item, e) => {\n    if(e.currentTarget.checked) {\n      this.subscribeMessages(item.code, item.description);\n    }else {\n      this.props.setPopout(<ScreenSpinner />)\n      bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n        app_id: this.props.state.appId,\n        scope:\"\",\n        request_id: 1\n      })\n      .then((auth) => {\n          bridge.send(\"VKWebAppCallAPIMethod\", {\"method\": \"groups.getById\", \"params\": {\"group_id\": item.code,\"fields\":\"description\", \"v\": \"5.120\", \"access_token\":auth.access_token}})\n          .then((data) => {\n            console.log(data);\n            this.props.setPopout(\n              <Alert\n                actions={[{\n                  title: 'Отмена',\n                  autoclose: true,\n                  mode: 'cancel'\n                }, {\n                  title: 'Удалить',\n                  autoclose: true,\n                  mode:'destructive',\n                  action: () => this.delete(item.code),\n                }]}\n                onClose={() => this.props.setPopout(null)}\n              >\n                <Text weight=\"regular\">Удалить все подписки в личные сообщения из сообщества <b>\"{data.response[0].name}\"</b>?</Text>\n              </Alert>\n            )\n          });\n   });\n  }\n}\n  \n\n  delete = (code) => {\n    this.props.setPopout(<ScreenSpinner />);\n    fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-tags\", {\n      \"headers\": {\n        \"accept\": \"*/*\",\n        \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n        \"content-type\": \"application/json;charset=utf-8\",\n      },\n      \"body\": JSON.stringify({\n        user_id: String(this.props.state.user.id)\n      }),\n      \"method\": \"POST\",\n    })\n    .then(response => response.json())\n    .then(data => {\n      let arrCategory = [];\n      let arr = [];\n      data.tags.forEach(tag => {\n        if(tag.body.split('@')[1] == code) {\n          fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/remove-tag\", {\n            \"headers\": {\n              \"accept\": \"*/*\",\n              \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n              \"content-type\": \"application/json;charset=utf-8\",\n            },\n            \"referrer\": \"https://appvk.flights.ru/\",\n            \"referrerPolicy\": \"no-referrer-when-downgrade\",\n            \"body\": JSON.stringify({tag_id:tag.id, user_id:this.props.state.user.id}),\n            \"method\": \"POST\",\n          })\n          .then(response => response.json())\n          .then(check => {\n            if(check.response === 'ok'){\n            }\n          })\n        }\n      }  \n      );\n      this.props.state.my_groups.splice(this.props.state.my_groups.indexOf(code), 1);\n      console.log(this.props.state.my_groups.indexOf(code), arr)\n      this.props.setPopout(null);\n    }).catch(err => {\n      this.props.setPopout(null)\n      this.setState({snackbar:<SnackbarError close={() => this.setState({snackbar:null})}/>, data:'error'})\n    })\n  }\n\n  render() {\n    const {\n      id,\n      state,\n      go,\n    } = this.props\n    return (\n      <Panel id={id}>\n        <PanelHeader\n          left={\n            <PanelHeaderBack onClick={() => go(\"groups\")} />\n          }\n        >{state.catalog[state.currentCatalog].catalog}</PanelHeader>\n\n        {\n          state.catalog && (\n            state.catalog[state.currentCatalog].to.map((item, index) => \n              item.section ? \n                <SimpleCell\n                  key={index}\n                  expandable\n                  id={index}\n                  onClick={this.props.chooseSection}\n                >\n                  <Link>{item.section}</Link>\n                </SimpleCell>\n              :\n              <div>\n              <RichCell\n                key={index}\n                multiline\n                actions={this.state.subscribeGroup[item.code] || state.my_groups.indexOf(item.code) !== -1 ? <span style={{ fontSize:12, color:'var(--dynamic_gray)'}}>{this.state.subscribeGroup[item.code] && \"добавлено в новостную ленту\"}<br /> {state.my_groups.indexOf(item.code) !== -1 && \"добавлено в личные сообщения\"}</span>:null}\n                bottom={\n                  <Link style={{ display: 'flex' }}>\n                    <Icon28ViewOutline href={\"https://vk.com/\"+item.code} target=\"_blank\" fill=\"#4BBDE7\"/>\n                    <Icon28UserAddOutline style={{ marginLeft:22 }} fill={!this.state.subscribeGroup[item.code] ? \"#4BBDE7\": '#0E62F1'} onClick={() => {if(!this.state.subscribeGroup[item.code]) this.subscribe(item.code)}} />\n                    {<Icon28SettingsOutline style={{ marginLeft:22 }} fill={state.my_groups.indexOf(item.code) === -1 ? '#4BBDE7' : '#0E62F1'} onClick={() => {if(state.my_groups.indexOf(item.code) === -1) this.subscribeMessages(item.code, item.description); else this.edit(item)}} />}\n                    <Icon28HelpOutline style={{ marginLeft:22 }} fill=\"#4BBDE7\" onClick={() => this.props.goGroup({...item, source:'catalog'})}/>\n                  </Link>\n                }\n                \n                after={<Switch onChange={(e) => this.openAlert(item, e)} checked={state.my_groups.indexOf(item.code) !== -1 }/>}\n              >\n                {item.description}\n              </RichCell>\n\n              </div>\n            )\n          )\n        }\n\n      </Panel>\n    )\n  }\n}\n\nexport default Catalog\n","import React, { Component } from 'react'\nimport { Panel, PanelHeader, PanelHeaderBack, Switch, Link, RichCell, Header, ScreenSpinner, Alert, Div, Avatar, Text } from '@vkontakte/vkui'\nimport Icon28SettingsOutline from '@vkontakte/icons/dist/28/settings_outline';\nimport Icon28ViewOutline from '@vkontakte/icons/dist/28/view_outline';\nimport Icon28MailOutline from '@vkontakte/icons/dist/28/mail_outline';\nimport Icon28UserAddOutline from '@vkontakte/icons/dist/28/user_add_outline';\nimport Icon28CheckCircleOutline from '@vkontakte/icons/dist/28/check_circle_outline';\nimport Icon28HelpOutline from '@vkontakte/icons/dist/28/help_outline';\nimport Icon28AddSquareOutline from '@vkontakte/icons/dist/28/add_square_outline';\nimport Icon28CheckSquareOutline from '@vkontakte/icons/dist/28/check_square_outline';\nimport bridge from '@vkontakte/vk-bridge'\nimport SubscribeCities from '../components/SubscribeCities'\nimport SnackbarError from '../components/SnackbarError';\n\nexport class SectionCatalog extends Component {\n\n    state = {\n      my_groups:this.props.state.my_groups,\n      subscribeGroup: {},\n      allowMessages:{},\n    }\n\n    subscribe = screenName => {\n      this.props.setPopout(<ScreenSpinner />);\n      const { state } = this.props\n      bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n        app_id: state.appId,\n        scope: \"wall,groups\",\n        request_id: 1\n      })\n      .then(auth => {\n        if(auth.access_token && auth.scope === \"wall,groups\"){\n          bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n            method: \"groups.getById\",\n            request_id: 2,\n            params: {\n              group_id: screenName,\n              access_token: auth.access_token,\n              v: 5.107,\n            }\n          })\n          .then(data => {\n            bridge.sendPromise(\"VKWebAppJoinGroup\", {\"group_id\": data.response[0].id})\n            .then(() => {\n              // Если пользователь подписался, то отправляем запрос \n              // на сохранение этих данных\n              fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-groups\", {\n                \"headers\": {\n                  \"accept\": \"*/*\",\n                  \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n                  \"content-type\": \"application/json;charset=utf-8\",\n                },\n                \"body\": JSON.stringify({\n                  user_id: state.user.id,\n                  app_id: state.appId,\n                  checkbox: data.response[0].id\n                }),\n                \"method\": \"POST\",\n              }).then((response) => response.json)\n                .then((response) => {\n                  let obj = {...this.state.subscribeGroup, [screenName]:true};\n                  \n                  this.setState({subscribeGroup: obj})\n                  this.props.setPopout(null);\n                })\n                .catch(() => this.props.setPopout(null));\n            }).catch(() => this.props.setPopout(null));\n          }).catch(() => this.props.setPopout(null));\n        }\n      }).catch(() => this.props.setPopout(null));\n    }\n  \n    componentDidMount() {\n      \n      let list = this.props.state.catalog[this.props.state.currentCatalog].to[this.props.state.currentSection].arr.map((item) => item.code).join(',');\n      bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n        app_id: this.props.state.appId,\n        scope:\"\",\n        request_id: 1\n      })\n      .then((data) => {\n        bridge.send(\"VKWebAppCallAPIMethod\", {\"method\": \"execute.getSubscribeGroup\", \"params\": {\"list\": list, \"v\": \"5.120\", \"access_token\":data.access_token}})\n        .then((response) => {\n          let obj = {};\n          response.response.forEach((el) => { \n            obj[el.name] = (el.is == 1);\n          })\n          console.log(obj)\n          this.setState({subscribeGroup: obj});\n        });\n  \n      })\n  \n  \n  \n  \n  \n  \n    }\n  \n    // Запрос на сообщения\n    subscribeMessages = (screenName, name) => {\n      const { state } = this.props\n      this.props.setPopout(<ScreenSpinner />)\n      bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n        app_id: state.appId,\n        scope: \"wall,groups\",\n        request_id: 1\n      })\n      .then(auth => {\n        if(auth.access_token && auth.scope === \"wall,groups\"){\n          bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n            method: \"groups.getById\",\n            request_id: 2,\n            params: {\n              group_id: screenName,\n              access_token: auth.access_token,\n              v: 5.107,\n            }\n          })\n          .then(data => {\n            bridge.sendPromise(\"VKWebAppAllowMessagesFromGroup\", {\"group_id\": data.response[0].id, \"key\": \"dBuBKe1kFcdemzB\"})\n            .then(() => {\n              bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n                method: \"wall.get\",\n                request_id: 2,\n                params: {\n                  domain: screenName,\n                  access_token: auth.access_token,\n                  v: 5.107,\n                }\n              })\n              .then(async tags => {\n                let tagsIn = [];\n                let tagsOut = [];\n                let itemsWall = tags.response.items;\n                itemsWall.forEach((group) => {\n                  let match = [...group.text.matchAll(/(#.*@.*)/g)];\n                  if (match.length) {\n                    if (match.length > 2) {\n                      let matchOut = match[2];\n                      tagsOut.push(matchOut)\n                  }\n                  let matchIn = match[0];\n                  tagsIn.push(matchIn)\n                  }\n                });\n                tagsIn = tagsIn.map((item) => \n                  item[0]\n                )\n                tagsIn = tagsIn.filter((v,i) => tagsIn.indexOf(v) === i)\n                tagsOut = tagsOut.map((item) => \n                  item[0]\n                )\n                tagsOut = tagsOut.filter((v,i) => tagsOut.indexOf(v) === i)\n                let obj = {\n                  name:name,\n                  screenName:screenName,\n                  id:null,\n                  groupId:data.response[0].id, \n                  from:tagsOut.map((item) => {\n                    return {\n                      tag: item,\n                      checked: false\n                    }\n                  }),\n                  to:tagsIn.map((item) => {\n                    return {\n                      tag: item,\n                      checked: false\n                    }\n                  })\n  \n                }\n                this.props.onChangeGroups('obj', obj);\n                this.props.openModal('subscribeCities')\n                this.props.setPopout(null) \n                \n              })\n              .catch(() => this.props.setPopout(null))\n            })\n            .catch(() => this.props.setPopout(null))\n          })\n          .catch(() => this.props.setPopout(null))\n        }\n      })\n      .catch(() => this.props.setPopout(null))\n    }\n\n    edit = (item, n) => {\n      let name = item.description;\n      let screenName = item.code;\n      const { state } = this.props\n      this.props.setPopout(<ScreenSpinner />)\n      bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n        app_id: state.appId,\n        scope: \"wall,groups\",\n        request_id: 1\n      })\n      .then(auth => {\n        if(auth.access_token && auth.scope === \"wall,groups\"){\n          bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n            method: \"groups.getById\",\n            request_id: 2,\n            params: {\n              group_id: screenName,\n              access_token: auth.access_token,\n              v: 5.107,\n            }\n          })\n          .then(data => {\n            bridge.sendPromise(\"VKWebAppAllowMessagesFromGroup\", {\"group_id\": data.response[0].id, \"key\": \"dBuBKe1kFcdemzB\"})\n            .then(() => {\n              bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n                method: \"wall.get\",\n                request_id: 2,\n                params: {\n                  domain: screenName,\n                  access_token: auth.access_token,\n                  v: 5.107,\n                }\n              })\n              .then(tags => {\n                fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-tags\", {\n                  \"headers\": {\n                    \"accept\": \"*/*\",\n                    \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n                    \"content-type\": \"application/json;charset=utf-8\",\n                  },\n                  \"body\": JSON.stringify({\n                    user_id: String(this.props.state.user.id)\n                  }),\n                  \"method\": \"POST\",\n                })\n                .then(response => response.json())\n                .then(arr => {\n                  let tagsIn = [];\n                  let tagsOut = [];\n                  let itemsWall = tags.response.items;\n                  let tags_obj = arr.tags.filter(element => { if(element.body.split('@')[1] ===  screenName) { return true; }});\n                  let tags_name = arr.tags.map(e => { return e.body});\n                  console.log(tags_name);\n                  itemsWall.forEach((group) => {\n                    let match = [...group.text.matchAll(/(#.*@.*)/g)];\n                    if (match.length) {\n                      if (match.length > 2) {\n                        let matchOut = match[2];\n                        tagsOut.push(matchOut)\n                    }\n                    let matchIn = match[0];\n                    tagsIn.push(matchIn)\n                    }\n                  });\n                  tagsIn = tagsIn.map((item) => \n                    item[0]\n                  )\n                  tagsIn = tagsIn.filter((v,i) => tagsIn.indexOf(v) === i)\n                  tagsOut = tagsOut.map((item) => \n                    item[0]\n                  )\n                  tagsOut = tagsOut.filter((v,i) => tagsOut.indexOf(v) === i)\n                  let obj = {\n                    name:name,\n                    \n                    groupId:data.response[0].id, \n                    from:tagsOut.map((item) => {\n                      return {\n                        tag: item,\n                        checked: tags_name.indexOf(item) !== -1\n                      }\n                    }),\n                    to:tagsIn.map((item) => {\n                      return {\n                        tag: item,\n                        checked: tags_name.indexOf(item) !== -1\n                      }\n                    })\n                  }\n  \n                  this.props.onChangeGroups('obj', obj);\n                  this.props.openModal('subscribeCities');\n                  this.props.setPopout(null);\n                }).catch(err => {\n                  this.props.setPopout(null)\n                  console.log(err)\n                  this.setState({snackbar:<SnackbarError close={() => this.setState({snackbar:null})}/>, data:'error'})\n                })\n              })\n              .catch((err) => {this.props.setPopout(null); console.log('1')})\n            })\n            .catch((err) => {this.props.setPopout(null); console.log('2')})\n          })\n          .catch((err) => {this.props.setPopout(null); console.log('3')})\n        }\n      })\n      .catch(() => {this.props.setPopout(null); console.log('4')})\n    }\n  \n  \n    // Предупреждение с информацией\n    openAlert = (item, e) => {\n      if(e.currentTarget.checked) {\n        this.subscribeMessages(item.code, item.description);\n      }else {\n        this.props.setPopout(<ScreenSpinner />)\n        bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n          app_id: this.props.state.appId,\n          scope:\"\",\n          request_id: 1\n        })\n        .then((auth) => {\n            bridge.send(\"VKWebAppCallAPIMethod\", {\"method\": \"groups.getById\", \"params\": {\"group_id\": item.code,\"fields\":\"description\", \"v\": \"5.120\", \"access_token\":auth.access_token}})\n            .then((data) => {\n              console.log(data);\n              this.props.setPopout(\n                <Alert\n                  actions={[{\n                    title: 'Отмена',\n                    autoclose: true,\n                    mode: 'cancel'\n                  }, {\n                    title: 'Удалить',\n                    autoclose: true,\n                    mode:'destructive',\n                    action: () => this.delete(item.code),\n                  }]}\n                  onClose={() => this.props.setPopout(null)}\n                >\n                  <Text>Удалить все подписки в личные сообщения из сообщества <b>\"{data.response[0].name}\"</b>?</Text>\n                </Alert>\n              )\n            });\n     });\n    }\n  }\n  \n    delete = (code) => {\n      this.props.setPopout(<ScreenSpinner />);\n      fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-tags\", {\n        \"headers\": {\n          \"accept\": \"*/*\",\n          \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n          \"content-type\": \"application/json;charset=utf-8\",\n        },\n        \"body\": JSON.stringify({\n          user_id: String(this.props.state.user.id)\n        }),\n        \"method\": \"POST\",\n      })\n      .then(response => response.json())\n      .then(data => {\n        let arrCategory = [];\n        let arr = [];\n        data.tags.forEach(tag => {\n          if(tag.body.split('@')[1] == code) {\n            fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/remove-tag\", {\n              \"headers\": {\n                \"accept\": \"*/*\",\n                \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n                \"content-type\": \"application/json;charset=utf-8\",\n              },\n              \"referrer\": \"https://appvk.flights.ru/\",\n              \"referrerPolicy\": \"no-referrer-when-downgrade\",\n              \"body\": JSON.stringify({tag_id:tag.id, user_id:this.props.state.user.id}),\n              \"method\": \"POST\",\n            })\n            .then(response => response.json())\n            .then(check => {\n              if(check.response === 'ok'){\n              }\n            })\n          }\n        }  \n        );\n        this.props.state.my_groups.splice(this.props.state.my_groups.indexOf(code), 1);\n        console.log(this.props.state.my_groups.indexOf(code), arr)\n        this.props.setPopout(null);\n      }).catch(err => {\n        this.props.setPopout(null)\n        this.setState({snackbar:<SnackbarError close={() => this.setState({snackbar:null})}/>, data:'error'})\n      })\n    }\n\n  render() {\n    const {\n      id,\n      state,\n      go,\n    } = this.props\n    return (\n      <Panel id={id}>\n        <PanelHeader\n          left={\n            <PanelHeaderBack onClick={() => go(\"catalog\")} />\n          }\n        >{state.catalog[state.currentCatalog].catalog}</PanelHeader>\n      \n        {\n          (state.currentSection || state.currentSection === 0) && (\n            <Header>{state.catalog[state.currentCatalog].to[state.currentSection].section}</Header>\n          )\n        }\n        {\n          (state.currentSection || state.currentSection === 0) && (\n            state.catalog && (\n              state.catalog[state.currentCatalog].to[state.currentSection].arr.map((item, index) => \n              <RichCell\n                key={index}\n                multiline\n                actions={this.state.subscribeGroup[item.code] || state.my_groups.indexOf(item.code) !== -1 ? <span style={{ fontSize:12, color:'var(--dynamic_gray)'}}>{this.state.subscribeGroup[item.code] && \"добавлено в новостную ленту\"}<br /> {state.my_groups.indexOf(item.code) !== -1 && \"добавлено в личные сообщения\"}</span> : null}\n                bottom={\n                  <div style={{ marginTop: 8 }}>\n                    <Link href={\"https://vk.com/\"+item.code} target=\"_blank\"><Icon28ViewOutline fill=\"#4BBDE7\"/></Link>\n                    <Link style={{ marginLeft:22 }}>{<Icon28UserAddOutline fill={!this.state.subscribeGroup[item.code] ? \"#4BBDE7\": '#0E62F1'} onClick={() => {if(!this.state.subscribeGroup[item.code]) this.subscribe(item.code)}} />}</Link>\n                    <Link style={{ marginLeft:22 }}>{<Icon28SettingsOutline fill={state.my_groups.indexOf(item.code) === -1 ? '#4BBDE7' : '#0E62F1'} onClick={() => {if(state.my_groups.indexOf(item.code) === -1) this.subscribeMessages(item.code, item.description); else this.edit(item)}} />}</Link>\n                    <Link style={{ marginLeft:22 }}><Icon28HelpOutline fill=\"#4BBDE7\" onClick={() => this.props.goGroup({...item, source:'catalog'})}/></Link>\n                  </div>\n                }\n                \n                after={<Switch onChange={(e) => this.openAlert(item, e)} checked={state.my_groups.indexOf(item.code) !== -1 }/>}\n              >\n                {item.description}\n              </RichCell>\n              )\n            )\n          )\n        }\n \n      </Panel>\n    )\n  }\n}\n\nexport default SectionCatalog\n","import React, { Component } from 'react'\nimport bridge from '@vkontakte/vk-bridge'\nimport { Group, ScreenSpinner, List, Text, Link, Header, Placeholder, ActionSheet, ActionSheetItem, Alert, SimpleCell, PullToRefresh, Checkbox, Div, Separator, Snackbar, Title, PromoBanner } from '@vkontakte/vkui'\nimport Icon28EditOutline from '@vkontakte/icons/dist/28/edit_outline';\nimport Icon28DeleteOutlineAndroid from '@vkontakte/icons/dist/28/delete_outline_android';\nimport Icon24Settings from '@vkontakte/icons/dist/24/settings';\nimport Icon28SettingsOutline from '@vkontakte/icons/dist/28/settings_outline';\nimport Icon28ChevronDownOutline from '@vkontakte/icons/dist/28/chevron_down_outline';\n\nimport SnackbarError from './SnackbarError';\nimport booking from '../img/booking.png';\n\nconst bannerData = {\n  title: 'Отели, хостелы',\n  domain: 'booking.com',\n  trackingLink: 'https://www.booking.com?aid=1540284',\n  ctaText: 'Перейти',\n  advertisingLabel: 'Реклама',\n  iconLink: booking,\n  description: 'Бронирование отелей',\n  statistics: [\n    { url: '', type: 'playbackStarted' },\n    { url: '', type: 'click' }\n  ]\n};\n\nexport class MyGroups extends Component {\n  state = {\n    data: this.props.groups,\n    list:{},\n    snackbar:null,\n    isFetching:false,\n    is_watch:false,\n    is_market:true,\n    deleted:[]\n  }\n\n  componentDidMount() {\n    console.log(this.props.info)\n    let obj = {};\n    this.state.data.forEach((el) => {\n      el.data.forEach((data) => {\n          obj = {...obj, [data.code]:false};\n      })\n    })\n    console.log(obj)\n    this.setState({list:obj});\n  }\n\n  onChangeDelete = (e) => {\n    const { name , checked, id } = e.currentTarget;\n    if(checked) \n      this.state.deleted.push({group:id, to:name});\n    else {\n      let i = this.state.deleted.findIndex(i => i.to === name);\n      this.state.deleted.splice(i, 1);\n    }\n    console.log(this.state.deleted)\n  }\n\n  openConfirm = (name, screenName, n, i) => { \n\n    this.props.setPopout(<ScreenSpinner />)\n      bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n        app_id: this.props.state.appId,\n        scope:\"\",\n        request_id: 1\n      })\n      .then((auth) => {\n          bridge.send(\"VKWebAppCallAPIMethod\", {\"method\": \"groups.getById\", \"params\": {\"group_id\": screenName,\"fields\":\"description\", \"v\": \"5.120\", \"access_token\":auth.access_token}})\n          .then((data) => {\n            this.props.setPopout(\n              <Alert\n                actions={[{\n                  title: 'Отмена',\n                  autoclose: true,\n                  mode: 'cancel'\n                }, {\n                  title: 'Удалить',\n                  autoclose: true,\n                  mode:'destructive',\n                  action: () => this.deleteAll(screenName, n, i),\n                }]}\n                onClose={() => this.props.setPopout(null)}\n              >\n                <Text>Удалить все подписки в личные сообщения из сообщества <b>\"{data.response[0].name}\"</b>?</Text>\n              </Alert>\n            )\n          });\n   });\n  }\n\n  deleteAll = (code, n, i, group) => {\n    this.props.setPopout(<ScreenSpinner />);\n      this.state.data[n].data[i].data.forEach(tag => {\n        if(tag.body.split('@')[1] == code) {\n          fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/remove-tag\", {\n            \"headers\": {\n              \"accept\": \"*/*\",\n              \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n              \"content-type\": \"application/json;charset=utf-8\",\n            },\n            \"referrer\": \"https://appvk.flights.ru/\",\n            \"referrerPolicy\": \"no-referrer-when-downgrade\",\n            \"body\": JSON.stringify({tag_id:tag.id, user_id:this.props.state.user.id}),\n            \"method\": \"POST\",\n          })\n          .then(response => response.json())\n          .then(check => {\n            if(check.response === 'ok'){\n            }\n          })\n        }\n      }  \n      )\n        this.props.state.my_groups.splice(this.props.state.my_groups.indexOf(code), 1);\n        this.props.onChangeCount('countGroups', this.props.state.my_groups.length);\n        this.state.data[n].data.splice(i, 1);\n        this.props.setPopout(null);\n\n  }\n\n  delete = (id, n, i, t) => {\n    console.log(i)\n    this.props.setPopout(<ScreenSpinner />);\n    fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/remove-tag\", {\n      \"headers\": {\n        \"accept\": \"*/*\",\n        \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n        \"content-type\": \"application/json;charset=utf-8\",\n      },\n      \"referrer\": \"https://appvk.flights.ru/\",\n      \"referrerPolicy\": \"no-referrer-when-downgrade\",\n      \"body\": JSON.stringify({tag_id:id, user_id:this.props.state.user.id}),\n      \"method\": \"POST\",\n    })\n    .then(response => response.json())\n    .then(check => {\n      if(check.response === 'ok'){\n        this.state.data[n].data[i].data.splice(t, 1);\n        if(this.state.data[n].data[i].data.length === 0) {\n          this.state.data[n].data.splice(i, 1)\n        }\n        this.props.setPopout(null);\n        this.setState({ snackbar: <Snackbar action=\"Отмена\" onClose={() => this.setState({ snackbar: null})}><Text>Подписка удалена.</Text></Snackbar>})\n      }\n    })\n  }\n\n\n  edit_ = (name, screenName, n, i) => {\n    console.log(screenName)\n    const { state } = this.props\n    this.props.setPopout(<ScreenSpinner />)\n    bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n      app_id: state.appId,\n      scope: \"wall,groups\",\n      request_id: 1\n    })\n    .then(auth => {\n      if(auth.access_token && auth.scope === \"wall,groups\"){\n        bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n          method: \"groups.getById\",\n          request_id: 2,\n          params: {\n            group_id: screenName,\n            access_token: auth.access_token,\n            v: 5.107,\n          }\n        })\n        .then(data => {\n          bridge.sendPromise(\"VKWebAppAllowMessagesFromGroup\", {\"group_id\": data.response[0].id, \"key\": \"dBuBKe1kFcdemzB\"})\n          .then(() => {\n            bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n              method: \"wall.get\",\n              request_id: 3,\n              params: {\n                domain: screenName,\n                access_token: auth.access_token,\n                v: 5.107,\n              }\n            })\n            .then(async tags => {\n              let tagsIn = [];\n              let tagsOut = [];\n              let itemsWall = tags.response.items;\n              let tags_obj = this.state.data[n].data[i].data.filter(element => { if(element.body.split('@')[1] ===  screenName) { return true; }});\n              let tags_name = tags_obj.map(e => { return e.body});\n              console.log(tags_name);\n              itemsWall.forEach((group) => {\n                let match = [...group.text.matchAll(/(#.*@.*)/g)];\n                if (match.length) {\n                  if (match.length > 2) {\n                    let matchOut = match[2];\n                    tagsOut.push(matchOut)\n                }\n                let matchIn = match[0];\n                tagsIn.push(matchIn)\n                }\n              });\n              tagsIn = tagsIn.map((item) => \n                item[0]\n              )\n              tagsIn = tagsIn.filter((v,i) => tagsIn.indexOf(v) === i)\n              tagsOut = tagsOut.map((item) => \n                item[0]\n              )\n              tagsOut = tagsOut.filter((v,i) => tagsOut.indexOf(v) === i)\n              let obj = {\n                name:name,\n                groupId:data.response[0].id, \n                from:tagsOut.map((item) => {\n                  return {\n                    tag: item,\n                    checked: tags_name.indexOf(item) !== -1\n                  }\n                }),\n                to:tagsIn.map((item) => {\n                  return {\n                    tag: item,\n                    checked: tags_name.indexOf(item) !== -1\n                  }\n                })\n              }\n              this.props.onChangeGroups('obj', obj);\n              this.props.openModal('subscribeCities');\n              this.props.setPopout(null);\n\n            })\n            .catch((err) => {this.props.setPopout(null); console.log(err)})\n          })\n          .catch((err) => {this.props.setPopout(null); console.log(err)})\n        })\n        .catch((err) => {this.props.setPopout(null); console.log(err)})\n      }\n    })\n    .catch(() => this.props.setPopout(null))\n  }\n\n  onRefresh = () => {\n    this.setState({ isFetching:true })\n    fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-tags\", {\n      \"headers\": {\n        \"accept\": \"*/*\",\n        \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n        \"content-type\": \"application/json;charset=utf-8\",\n      },\n      \"body\": JSON.stringify({\n        user_id: String(this.props.state.user.id)\n      }),\n      \"method\": \"POST\",\n    })\n    .then(response => response.json())\n    .then(data => {\n      let arrGroups = [];\n      data.tags.forEach(tag => {if(arrGroups.indexOf(tag.body.split('@')[1]) === -1) arrGroups.push(tag.body.split('@')[1])});\n      this.props.onChangeGroups('my_groups', arrGroups);\n      let arrCategory = [];\n      let arr = [];\n      data.tags.forEach(tag => {if(arrCategory.indexOf(tag.category) === -1) arrCategory.push(tag.category)});\n      arrCategory.forEach(category => {\n        let groupsCategory = [];\n        data.tags.forEach(tag => {if(groupsCategory.indexOf(tag.group_name) === -1 && tag.category === category) groupsCategory.push(tag.group_name)});\n        let arrG = [];\n        groupsCategory.forEach(group => {\n          let u = [];\n          u = data.tags.filter(tag => tag.category === category && tag.group_name == group);\n          let code = data.tags.filter(tag => tag.category === category && tag.group_name == group)[0].body.split('@')[1];\n          arrG.push({group, code, data:u});\n        })\n        arr.push({category, data: arrG})   \n      })\n      this.setState({ data: arr, isFetching:false})\n    })\n  }\n\n  render() {\n    const {\n      data\n    } = this.state\n    return (\n      <div>\n        {this.state.is_market && <Div style={{ marginTop: 12 }}>\n        <PromoBanner onClose={() => this.setState({is_market: false})} bannerData={bannerData}/>\n        </Div>}\n      \n      <PullToRefresh isFetching={this.state.isFetching} onRefresh={this.onRefresh}>\n      <div>\n        {this.state.data === 'error' ? <Placeholder>Ошибка интернет-соединения</Placeholder>:\n        data && \n        <div>\n          {(data.length === 0 || this.props.info.info_groups) ? <Placeholder>\n                                    <div align=\"justify\">\n                                      <Text>\n                                      {this.props.state.user.sex == 2 ? \n                                        <div>\n                                          <Title level='3' weight='heavy'>Витрина гипермаркета «Дешевые авиабилеты» - это 700 сообществ</Title>\n                                          <p>\n                                          Мы показываем авиабилеты в момент снижения цены от 30% по заранее выбранным параметрам на витрине гипермаркета.\n                                          </p>\n                                          <p>\n                                          Например, из Москвы или Санкт-Петербурга по частям света, на курорты, к морским и океанским круизам, на выходные и праздники, из всех городов России, во все страны мира, из Европы, СНГ, а в странах, где русскоязычное население составляет больше 0,4% - из каждого города, где есть международный аэропорт.\n                                          </p>\n                                          <p>\n                                          Если твои интересы учтены - найди свой город вылета, подпишись на выбранные сообщества и получай дешевые авиабилеты по всем направлениям в новостной ленте.\n                                          </p>\n                                          <Title level='3' weight='heavy'>Не часто смотришь новости? Хочется большего?</Title>\n                                          <p>\n                                          Цена на авиабилеты постоянно меняется и при ее снижении дешевые авиабилеты раскупаются моментально. Выбери все или отдельные направления полетов в нужном сообществе и получай дешевые авиабилеты в личные сообщения. Так теперь тоже можно, прямо со стены сообщества в личные сообщения. Добавь подписку в этом разделе и узнай первым о снижении цены!\n                                          </p>\n                                          <p>\n                                          Дешевые авиабилеты нас не ждут - все наоборот.\n                                          </p>\n                                          <Title level='3' weight='heavy'>Лететь одному?</Title>\n                                          <p>\n                                          Найди <Link target='_blank' href='https://vk.com/poputchiki'>компанию</Link> и каждый день поездки или путешествия наполнится радостью общения. В любом месте веселее вместе! Делись впечатлениями, обсуждай новое и радуйся вместе с новыми друзьями!\n                                          </p>\n                                          <Title level='3' weight='heavy'>Посетитель или опытный путешественник</Title>\n                                          <p>\n                                          Подписки в разделе «Витина» помогут повысить статус в программе лояльности и откроют в разделе «Мой выбор» дополнительные возможности – получение авиабилетов с увеличенным размером выгоды (до 90%), выбор дней недели вылета, длительности поездки и др.) Узнай больше в разделе «Помощь».\n                                          </p>\n                                          <Link onClick={() => {this.setState({is_watch:!this.state.is_watch})}}>показать еще...</Link>\n                                          {this.state.is_watch && \n                                          <div>\n                                            <p>\n                                            Мы показываем авиабилеты в момент снижения цены от 30% и больше. Интересно, как развивается проект? Узнай в <Link href='https://vk.com/public192548341' target='_blank'>сообществе</Link>.\n                                            </p>\n                                            <p>\n                                            Больше не нужно искать дешевые авиабилеты - теперь они сами находят нас.\n                                            </p>\n                                            \n                                            <Link onClick={() => {this.setState({is_watch:!this.state.is_watch})}}>cвернуть</Link>\n                                          </div>\n                                          }\n                                        </div>: \n                                        <div>\n                                        <div>\n                                          <p>\n                                          Витрина гипермаркета «Дешевые авиабилеты» - это 700 сообществ, в которых ты увидишь дешевые авиабилеты по заранее выбранным нами параметрам.\n                                          Погуляй среди свежих новостей о стоимости перелетов, присмотри что-нибуь вдохновляющее на выходные или даже - для отличного отпуска? Например, из Москвы в Европу или погулять по Санкт-Петербургу… Ты будешь всегда в курсе оптимальных цен на полеты во все туристические локации мира. Возьми подругу или попутчицу, ведь новые туфельки и платье ждут обсуждения на дефиле вечернего променада!\n                                          Дешевые авиабилеты из Москвы, Санкт-Петербурга и еще 140 городов России по частям света, на курорты, к морским и океанским круизам, на выходные и праздники, во все страны мира с выгодой 30-90%, а также вылеты из Европы, стран СНГ, а там, где русскоязычное население составляет больше 0,4% - из каждого города, где есть международный аэропорт. Все это ты увидишь в разделе «Витрина» гипермаркета «Дешевые авиабилеты».                                          \n                                          Найди свой город вылета, подпишись на сообщество и получай дешевые авиабилеты по всем направлениям из твоего города в новостной ленте.\n                                          </p>\n                                          <p>\n                                          Найди свой город вылета, подпишись на сообщество и получай дешевые авиабилеты по всем направлениям из твоего города в новостной ленте.\n                                          </p>\n                                          <Title level='3' weight='heavy'>Хочешь большего?</Title>\n                                          <p>\n                                          Цена на авиабилеты постоянно меняется и при ее снижении дешевые авиабилеты раскупаются моментально. Выбери все или отдельные направления полетов в нужном сообществе и получай дешевые авиабилеты в личные сообщения. Так теперь тоже можно, прямо со стены сообщества в личные сообщения. Добавь подписку в этом разделе и узнай первая о снижении цены!\n                                          </p>\n                                          <p>Дешевые авиабилеты нас не ждут - все наоборот…</p>\n                                          <Title level='3' weight='heavy'>Лететь одной?</Title>\n                                          <p>                                 \n                                          Найди <Link href='https://vk.com/poputchiki' target='_blank'>попутчицу или компанию</Link> и каждый день поездки или путешествия наполнится радостью общения. В любом месте веселее вместе! Делись впечатлениями, обсуждай новое и радуйся вместе с новыми друзьями!\n                                          </p>\n                                          <Title level='3' weight='heavy'>Посетитель или опытная путешественница</Title>\n                                          <p>\n                                          Мы рады каждой подписчице и не важно, сколько стран ты посетила и как часто летаешь на самолетах. Подписки в разделе «Витина» помогут повысить статус в программе лояльности и откроют в соседнем разделе дополнительные возможности – получение авиабилетов с увеличенным размером выгоды (до 90%), выбор дней недели вылета, длительности поездки и др.) Узнай больше в разделе «Помощь».\n                                          </p>\n                                          <Link onClick={() => {this.setState({is_watch:!this.state.is_watch})}}>показать еще</Link>\n                                          {this.state.is_watch && \n                                          <div>\n                                            <p>\n                                            Мы показываем авиабилеты в момент снижения цены от 30%. Интересно, что и как мы делаем? Узнай в <Link href=\"https://vk.com/public192548341\" target=\"_blank\">сообществе</Link> (линк ) проекта\n                                            </p>\n                                            <p>\n                                            Больше не нужно искать дешевые авиабилеты - теперь они сами находят нас.\n                                            </p>\n                                            <Link onClick={() => {this.setState({is_watch:!this.state.is_watch})}}>cвернуть</Link>\n                                          </div>\n                                          }\n                    \n                                        </div>\n                                        </div>\n                                      }\n                                      </Text>\n                                      </div>\n                                  </Placeholder>:\n          <List>\n            {\n                data.map((item, n) => \n                  <div key={n}>\n                    {item.data.map((data, i) =>\n                      <div key={item.category}>\n                        <SimpleCell \n                          onClick={() => this.setState({ list:{...this.state.list, [data.code]:!this.state.list[data.code]}})}\n                          style={{ fontWeight: 'bold', marginTop:(i == 0 ? 24 : 0)}} \n                          after={\n                             <Icon28ChevronDownOutline fill='#4BBDE7' style={{ transform: `rotate(${this.state.list[data.code] ? '180deg' : '0'})` }} />\n                             }>{item.category + \" -  \" + data.group}\n                        </SimpleCell>\n\n                        {this.state.list[data.code] && <div>\n                          <SimpleCell>\n                          <Link style={{ display: 'flex'}}>\n                              <Icon28SettingsOutline onClick={() => this.edit_(data.group, data.code, n, i)} fill='#0E62F1'/>\n                              <Icon28DeleteOutlineAndroid style={{ marginLeft:22 }} fill='#0E62F1' onClick={() => this.openConfirm(data.group, data.code, n, i)}/>\n                          </Link>\n                        </SimpleCell>\n                          {data.data.map((res, t) => \n                            <SimpleCell key={res.id} after={<Link onClick={() => this.delete(res.id, n, i, t)}><Icon28DeleteOutlineAndroid fill='#4BBDE7'/></Link>}>{res.body.split('@')[0].split('#')[1]}</SimpleCell>\n                          )}  \n                          </div>  }               \n                      </div>          \n                    )}\n                </div>  \n                )    \n            }\n          </List>\n          }\n          <Div />\n          <Div />\n          </div>\n        }\n        {this.state.snackbar}\n      </div>\n      </PullToRefresh>\n      \n      </div>\n    )\n  }\n}\n\nexport default MyGroups\n","import React, { Component } from 'react'\nimport SnackbarError from './SnackbarError';\nimport { Group, ScreenSpinner, CardGrid, Card, Div, Button, Alert, Placeholder, List, PromoBanner, PullToRefresh, Link, Title, SimpleCell, Text } from '@vkontakte/vkui'\n\nimport booking from '../img/booking.png';\n\nimport Icon28SettingsOutline from '@vkontakte/icons/dist/28/settings_outline';\nimport Icon28DeleteOutlineAndroid from '@vkontakte/icons/dist/28/delete_outline_android';\nimport Icon28ChevronDownOutline from '@vkontakte/icons/dist/28/chevron_down_outline';\n\n\n\nconst SEASONS_TRANSCRIPTION = {\n  'all': 'любое',\n  'winter': 'зима',\n  'spring': 'весна',\n  'summer': 'лето',\n  'fall': 'осень',\n};\nconst MONTHS_TRANSCRIPTION = {\n  0: 'любой',\n  1: 'январь', 2: 'февраль', 3: 'март', 4: 'апрель',\n  5: 'май', 6: 'июнь', 7: 'июль', 8: 'август',\n  9: 'сентябрь', 10: 'октябрь', 11: 'ноябрь', 12: 'декабрь',\n};\n\nconst CONTINENTS = {\n  'random': 'любая',\n  'E': 'Европа',\n  'F': 'Африка',\n  'O': 'Океания',\n  'A': 'Азия',\n  'S': 'Южная Америка',\n  'N': 'Северная Америка',\n};\n\nconst PASSENGERS = {\n  url: \"1 пассажир, экономкласс\",\n  url1Business: \"1 пассажир, бизнес-класс\",\n  url2Passengers: \"2 пассажира, экономкласс\",\n  urlForma: \"открытая редактируемая форма поиска\"\n}\n\nconst CURRENCY = {\n  AZN: \"манат\",\n  BYN: \"беларусский рубль\",\n  CNY: \"юань\",\n  EUR: \"евро\",\n  KGS: \"сом\",\n  KZT: \"тенге \",\n  RUB: \"рубль \",\n  THB: \"бат\",\n  UAH: \"гривна\",\n  USD: \"доллар\",\n  UZS: \"сум\"\n}\n\nconst CURRENCY1 = {\n  AZN: \"манат\",\n  BYN: \"беларусских рублей\",\n  CNY: \"юань\",\n  EUR: \"евро\",\n  KGS: \"сом\",\n  KZT: \"тенге \",\n  RUB: \"рублей\",\n  THB: \"бат\",\n  UAH: \"гривна\",\n  USD: \"доллар\",\n  UZS: \"сум\"\n}\n\nconst LANGUAGES = {\n  de: \"немецкий\",\n  en: \"английский\",\n  es: \"испанский\",\n  fr: \"французский\",\n  it: \"итальянский\",\n  ru: \"русский\",\n  th: \"тайский\",\n  tr: \"турецкий\"\n}\n\nconst blue = {\n  color:'var(--accent)'\n}\n\nconst bannerData = {\n  title: 'Отели, хостелы',\n  domain: 'booking.com',\n  trackingLink: 'https://www.booking.com?aid=1540284',\n  ctaText: 'Перейти',\n  advertisingLabel: 'Реклама',\n  iconLink: booking,\n  description: 'Бронирование отелей',\n  statistics: [\n    { url: '', type: 'playbackStarted' },\n    { url: '', type: 'click' }\n  ]\n};\n\nexport class MyDB extends Component {\n  state = {\n    snackbar:null,\n    is_watch:false,\n    is_market:true,\n    data:this.props.DB,\n    isFetching:false,\n    list:{}\n  }\n\n\n  componentDidMount() {\n    let obj = {};\n    this.state.data.forEach((el) => {\n      obj = { ...obj, [el.id]:false}\n    })\n    this.setState({list:obj})\n  }\n\n  openAlert = (request_id, i) => {\n    console.log(request_id)\n      this.props.setPopout(\n        <Alert\n        actions={[{\n          title: 'Нет',\n          autoclose: true,\n          mode: 'cancel'\n        }, {\n          title: 'Да',\n          autoclose: true,\n          mode: 'destructive',\n          action: () => this.delete(request_id, i),\n        }]}\n        onClose={() => this.props.setPopout(null)}>\n          <Text>Удалить?</Text>\n        </Alert>\n      )\n  }\n\n  delete = (request_id, i) => {\n    this.props.setPopout(<ScreenSpinner />);\n    fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/delete-request\", {\n      \"headers\": {\n        \"accept\": \"*/*\",\n        \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n        \"content-type\": \"application/json;charset=utf-8\",\n      },\n      \"referrer\": \"https://appvk.flights.ru/\",\n      \"referrerPolicy\": \"no-referrer-when-downgrade\",\n      \"body\": JSON.stringify({request_id:request_id}),\n      \"method\": \"POST\",\n    })\n    .then(response => response.json())\n    .then(check => {\n      if(check.response === 'ok'){\n        let remove = this.state.data.splice(i, 1);\n        this.props.onChangeCount('countDB', remove.length-1);\n        this.props.onChangeGroups('countDB', remove.length-1);\n        this.props.setPopout(null);\n      }\n    })\n  }\n\n  edit = (obj) => {\n    let data = JSON.parse(obj.output);\n    this.props.onChangeGroups('form', {...data, id:obj.id});\n    setTimeout(() => this.props.go('edit_settings'), 500)\n  }\n\n  onRefresh = () => {\n    this.setState({ isFetching:true })\n    fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-requests\", {\n      \"headers\": {\n        \"accept\": \"*/*\",\n        \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n        \"content-type\": \"application/json;charset=utf-8\",\n      },\n      \"body\": JSON.stringify({\n        user_id: String(this.props.state.user.id)\n      }),\n      \"method\": \"POST\",\n    })\n    .then(response => response.json())\n    .then(data => {\n      console.log(data);\n      this.setState({ data: data.requests, isFetching:false })\n      this.props.setPopout(null)\n    }).catch(err => {\n      this.props.setPopout(null)\n      this.setState({snackbar:<SnackbarError close={() => this.setState({snackbar:null})}/>, data:'error'})\n    })\n  }\n  \n\n  render() {\n    const {\n      data\n    } = this.state\n    return (\n      <div>\n        {this.state.is_market && <Div style={{ marginTop: 12 }}>\n        <PromoBanner onClose={() => this.setState({is_market: false})} bannerData={bannerData}/>\n        </Div>}\n      <PullToRefresh isFetching={this.state.isFetching} onRefresh={this.onRefresh}>\n      <div>\n        {\n          data &&        \n          <div>\n          {data === 'error' ? <Placeholder>Ошибка интернет-соединения</Placeholder> :\n          <div>\n            {(data.length === 0 || this.props.info.info_db) ? <Placeholder>\n              {this.props.state.user.sex === 2 ? \n              <div align='justify'>\n                <Title level='3' weight='heavy'>Чем отличаются разделы \"Витрина\" и \"Мой выбор?\"</Title>\n                <p>\n                Ты уже знаешь, что мы показываем авиабилеты в момент снижения цены на 30% или больше.\n                </p>\n                <p>\n                После того, как они попадают в гипермаркет \"Дешевые авиабилеты\" (как и откуда - описано в разделе \"Помощь\") у дешевых авиабилетов есть два пути:\n                </p>\n                <p>\n                Один ты видел - это \"Витрина\" гипермаркета с 700-ми сообществами. Можно подписаться на любые или все сразу, даже не заходя в них и получать билеты в новостную ленту или выборочно со стены - в личные сообщения.\n                </p>\n                <p>\n                Какие там показываются авиабилеты - выбирали мы, на основе своего опыта и изучения спроса пассажиров\n                </p>\n                <p>\n                Второй способ реализован в разделе \"Мой выбор\" и ты сейчас именно здесь.\n                </p>\n                <Title level='3' weight='heavy'>Мой выбор</Title>\n                <p>\n                Это оптовый склад гипермаркета \"Дешевые авиабилеты\" и у тебя теперь есть персональный доступ. Выбери все параметры сам и получай информацию в личные сообщения.\n                </p>\n                <p>\n                Раздел так и называется - \"Мой выбор\". Так ведь и есть? Теперь это - твой уникальный выбор\n                </p>\n                <p>\n                Посмотри вокруг - никого нет, ни охранников, ни расписания работы, ни кассиров... Все работает автоматически, круглосуточно, без выходных, во всех странах мира.\n                </p>\n                <p>\n                Выбирай и получай дешевые авиабилеты в момент снижения цены в личные сообщения.\n                </p>\n                <Link onClick={() => {this.setState({is_watch:!this.state.is_watch})}}>читать далее...</Link>\n                {this.state.is_watch && \n                <div>\n                  <Title level='3' weight='heavy'>Кто владеет информацией - тот владеет миром</Title>\n                  <p>\n                  Более 200 лет назад, в 1815 году произошел обвал на фондовых биржах Европы. Как так получилось и кто былв этом виноват?\n                  </p>\n                  <p>\n                  Вся Европа была напугана возможным реваншем Наполеона. После триумфа «Ста дней» фондовые биржи Англии лихорадило — все с тревогой ждали, чем закончится решающая битва между армиями Наполеона и Веллингтона при Ватерлоо.\n                  </p>\n                  <p>\n                  В начале сражения наблюдателям показалось, что выигрывает Наполеон, о чем срочно сообщили в Лондон. Однако, на помощь войскам Веллингтона подоспел прусский корпус и решил исход боя в пользу союзников. Наполеон бежал.\n                  </p>\n                  <p>\n                  У братьев Ротшильд было хобби - они занимались разведением почтовых голубей и одновременно следили за исходом битвы при Ватерлоо, т.к. были заметными игроками на фондовом рынке, владя крупным банком, через который финансировалась война против Наполеона.\n                  </p>\n                  <p>\n                  Итак, была середина июня, победу в битве должен был одержать Наполеон Банапарт, об этом были извещены в Лондоне, но на помощь Велингтону подоспел прусский корпус Блюхера.\n                  </p>\n                  <p>\n                  Об этом никто в Лондоне не знал...\n                  </p>\n                  <p>\n                  Всё это время шпионы Натана Ротшильда следовали по пятам за войсками и тотчас же отсылали донесения своему хозяину о всех важных событиях. Как? Естественно, голубиной почтой. Последние голуби с шифрованными инструкциями, привязанными к лапкам, были немедленно выпущены сразу после окончания битвы и сообщили хозяину про ее итог.\n                  </p>\n                  <p>\n                  Утром следующего дня Натан Ротшильд явился на Лондонскую биржу. Он был единственным в Лондоне, кто достоверно знал о поражении Наполеона. Сокрушаясь (демонстративно) по поводу успехов Наполеона, он немедленно приступил к массовой продаже своих акций. Все остальные биржевики сразу же последовали его примеру, так как решили, что сражение проиграли англичане. Поднялась паника.\n                  </p>\n                  <p>\n                  Английские, австрийские и прусские ценные бумаги дешевели с каждой минутой. Лондонская биржа буквально ломилась от обесцененных акций, а в это время их тайно скупали подставные агенты Ротшильда.\n                  </p>\n                  <p>\n                  По прошествии суток люди узнали, что Наполеон битву проиграл, но было уже поздно – они успели продать акции, подвергнувшись общей панике.\n                  </p>\n                  <p>\n                  Многие держатели ценных бумаг покончили с собой, а Натан за один день заработал 40 миллионов фунтов стерлингов и овладел большой долей британской экономики.\n                  </p>\n                  <p>\n                  Такую же операцию на Парижской бирже осуществил брат Натана Ротшильда - Якоб.\n                  </p>\n                  <p>\n                  Кто владеет информацией - тот владеет миром – это слова Натана.\n                  </p>\n                  <p>\n                  Владея своевременной информацией о снижении цены на авиабилеты, ты тоже становишься обладателем преимущества, а Ватерлоо - это местечко в 15 км от Брюсселя по дороге из города в аэропорт Шарлеруа. Как-то раз мы проезжали на машине мимо.\n                  </p>\n                  <p>\n                  Вспомни об этой истории, когда будешь в тех краях и увидишь пролетающего над собой голубя...\n                  </p>\n                  <Link onClick={() => {this.setState({is_watch:!this.state.is_watch})}}>свернуть</Link>\n                </div>\n                }\n              </div>: \n              <div>\n                <Title level='3' weight='heavy'>Чем отличается раздел «Витрина» от раздела «Мой выбор»</Title>\n                <p>\n                Не каждой девушке по силам отслеживать колебания цен на авиаполеты...\n                </p>\n                <p>\n                Ты уже знаешь, что мы показываем авиабилеты в момент снижения цены на 30% и даже больше, как повезет. Именно поэтому они и называются «дешевыми».\n                </p>\n                <p>\n                После того, как дешевые авиабилеты попадают к нам в систему (как именно и откуда - описано в разделе \"Помощь\") у них есть два пути:\n                </p>\n                <p>\n                Один мы уже описали - это раздел \"Витрина\" с 700-ми сообществами. Можно подписаться на любые направления полетов, даже не заходя в сообщества и получать дешевые билеты в новостную ленту или выборочно со стены - в личные сообщения. Теперь можно и так.\n                </p>\n                <p>\n                Какие там показываются авиабилеты - выбирали мы, на основе своего опыта путешествий более, чем в 100 странах и изучения спроса пассажиров.\n                </p>\n                <p>\n                Второй способ реализован в разделе \"Мой выбор\" и ты сейчас здесь.\n                </p>\n                <Title level='3' weight='heavy'>Мой выбор</Title>\n                <p>\n                Это оптовый склад-outlet гипермаркета \"Дешевые авиабилеты\" и у тебя теперь есть персональный доступ.\n                </p>\n                <p>\n                Выбери нужные параметры и получай информацию в личные сообщения. Раздел так и называется - \"Мой выбор\". Так ведь и есть? Теперь это - твой уникальный выбор. Увидишь все, что хотела, бюджетные способы побывать во всех пунктиках своего wish-листа.\n                </p>\n                <p>\n                Все можно посмотреть и потрогать, везде тестеры и отливанты. Не понравилось – можно отказаться или поменять подписку. Заведение работает автоматически, круглосуточно, без выходных, во всех странах мира.\n                </p>\n                <p>\n                Выбери то ,что хочешь и получай дешевые авиабилеты самой первой!\n                </p>\n                <Link onClick={() => {this.setState({is_watch:!this.state.is_watch})}}>показать еще...</Link>\n                {this.state.is_watch && \n                <div>\n                  <p>\n                  Более 200 лет назад, в 1815 году произошел обвал на фондовых биржах Европы.\n                  </p>\n                  <p>\n                  Как так получилось и кто был в этом виноват? Более 200 лет назад, в 1815 году произошел обвал на фондовых биржах Европы.\n                  </p>\n                  <p>\n                  Вся Европа была напугана возможным возвращением к власти Наполеона. После триумфа «Ста дней» фондовые биржи Англии лихорадило — все с тревогой ждали, чем закончится решающая битва между армиями Наполеона и Веллингтона при Ватерлоо.\n                  </p>\n                  <p>\n                  В начале сражения наблюдателям показалось, что выигрывает Наполеон, о чем срочно сообщили в Лондон. Однако, на помощь войскам Веллингтона подоспел прусский корпус Блюхера и решил исход боя в пользу союзников. Наполеон бежал.\n                  </p>\n                  <p>\n                  Ах! Бедная Жозефина! К этому моменту они были женаты уже 19 лет.\n                  </p>\n                  <p>\n                  У братьев Ротшильд было хобби - они занимались разведением почтовых голубей и одновременно следили за исходом битвы при Ватерлоо, владея крупным банком, через который финансировалась война против Наполеона.\n                  </p>\n                  <p>\n                  Победу в битве должен был одержать Наполеон Банапарт, об этом были извещены в Лондоне, но на помощь Велингтону подоспел прусский корпус и все закончилось ровно наоборот.\n                  </p>\n                  <p>\n                  Об этом никто в Лондоне не знал...\n                  </p>\n                  <p>\n                  Всё это время шпионы коварного Натана Ротшильда следовали по пятам за войсками и тотчас же отсылали донесения своему хозяину о всех важных событиях. Как? Естественно - голубиной почтой. Последние голуби с шифрованными инструкциями, привязанными к лапкам, были немедленно выпущены сразу после окончания битвы и сообщили хозяину про ее итог.\n                  </p>\n                  <p>\n                  Утром следующего дня Натан Ротшильд явился на Лондонскую биржу. Он был единственным в Лондоне, кто достоверно знал о поражении Наполеона. Сокрушаясь демонстративно по поводу успехов Наполеона, он немедленно приступил к массовой продаже своих акций.\n                  </p>\n                  <p>\n                  Все остальные биржевики сразу же последовали его примеру, так как решили, что сражение проиграли англичане. Поднялась паника. Английские, австрийские и прусские ценные бумаги дешевели с каждой минутой. Лондонская биржа буквально ломилась от обесцененных акций. В это время их тайно скупали подставные агенты Ротшильда.\n                  </p>\n                  <p>\n                  По прошествии суток люди узнали, что Наполеон битву проиграл, но было уже поздно – они успели продать акции, подвергнувшись общей панике. Многие держатели ценных бумаг покончили с собой, а Натан Ротшильд за один день заработал 40 миллионов фунтов стерлингов и овладел большой долей британской экономики. Такую же операцию на Парижской бирже осуществил брат Натана Ротшильда - Якоб.\n                  </p>\n                  <p>\n                  Кто владеет информацией - тот владеет миром – это слова Натана Ротшильда.\n                  </p>\n                  <p>\n                  Владея своевременной информацией о снижении цены на авиабилеты, ты тоже становишься обладателем преимущества. Наряду с женственностью и красотой – это страшная сила!\n                  </p>\n                  <p>\n                  Ватерлоо - местечко в 15 км от Брюсселя по дороге из города в аэропорт Шарлеруа. Как-то раз мы проезжали мимо на машине.\n                  </p>\n                  <p>\n                  Вспомни об этой истории и о любви Мари Роз Жозефа Таше де ла Пажери (так звали Жозефину) и Наполеона, когда будешь в тех краях и увидишь пролетающего над собой голубя...\n                  </p>\n                  <p>\n                  Жозефина была родом с Мартиники, это Антильские острова и билеты туда ты тоже увидишь у нас.\n                  </p>\n                  <Link onClick={() => {this.setState({is_watch:!this.state.is_watch})}}>свернуть</Link>\n                </div>\n                }\n              </div>}\n            </Placeholder>:\n          (\n            <List>\n             {data.map((item, index) =>\n              <div>\n              <SimpleCell onClick={() => this.setState({ list: {...this.state.list, [item.id]:!this.state.list[item.id]}})} style={{ fontWeight:'bold', marginTop:(index == 0 ? 24 : 0)}} after={<Icon28ChevronDownOutline fill='#4BBDE7' style={{ transform: `rotate(${this.state.list[item.id] ? '180deg' : '0'})` }} />}>{CONTINENTS[JSON.parse(item.output).continentDst] + (JSON.parse(item.output).countryDst ? \" - \" + JSON.parse(item.output).countryDst : '') + (JSON.parse(item.output).cityDst ? \" - \" + JSON.parse(item.output).cityDst : '')}</SimpleCell>\n              {this.state.list[item.id] && \n              <div>\n                <SimpleCell>\n                  <Link style={{ display: 'flex'}}><Icon28SettingsOutline onClick={() => this.edit(item)} fill='#0E62F1'/><Icon28DeleteOutlineAndroid style={{ marginLeft:22 }} fill='#0E62F1' onClick={() => this.openAlert(item.id, index)} /></Link>\n                </SimpleCell>\n              <Div style={{ paddingTop: 0 }}>\n                <Title weight='regular' level='3'>\n        Из страны <b style={blue}>{\n          JSON.parse(item.output).countrySrc ? JSON.parse(item.output).countrySrc : \"любая\"\n        }</b> и города <b style={blue}>{JSON.parse(item.output).citySrc ? JSON.parse(item.output).citySrc : \"любой\"}</b><br />\n        В часть света <b style={blue}>{CONTINENTS[JSON.parse(item.output).continentDst]}</b> и страну <b  style={blue}>{ JSON.parse(item.output).countryDst ?  JSON.parse(item.output).countryDst : \"любая\"}</b><br />\n        В город <b  style={blue}>{ JSON.parse(item.output).cityDst ?  JSON.parse(item.output).cityDst : \"любой\"}</b><br />\n        {\n          JSON.parse(item.output).dates.map((item, i) => \n            <div key={i}>\n              <div style={{ color: 'var(--tabbar_inactive_icon)' }}>Период вылета {i+1}</div>\n              год <b style={blue}>{item.year}</b><br />\n              {item.month ==  '0' && <span>время года <b style={blue}>{SEASONS_TRANSCRIPTION[item.season]}</b><br /></span>}\n              месяц <b style={blue}>{MONTHS_TRANSCRIPTION[item.month]}</b><br />\n              \n            </div>    \n          )\n        }<br />\n                Направление полетов: туда-обратно - <b style={blue}>{JSON.parse(item.output).dual ? \"да\" : \"нет\"}</b><br />\n        Направление полетов: туда - <b style={blue}>{JSON.parse(item.output).forward ? \"да\" : \"нет\"}</b><br />\n        Пассажиры <b style={blue}>{PASSENGERS[JSON.parse(item.output).passengers]}</b><br />\n        Цена от <b style={blue}>{JSON.parse(item.output).costMin}</b> до <b style={blue}>{JSON.parse(item.output).costMax}</b> {CURRENCY1[JSON.parse(item.output).currency]}<br />\n\n        Период показа <b style={blue}>{JSON.parse(item.output).interval}</b> минут<br />\n        Глубина поиска <b style={blue}>{JSON.parse(item.output).updated}</b> минут<br />\n        Максимальное количество билетов за 24 часа <b style={blue}>{JSON.parse(item.output).limit === \"0\" ? \"все\" : JSON.parse(item.output).limit}</b><br />\n        Язык (туда-обратно) <b style={blue}>{LANGUAGES[JSON.parse(item.output).language]}</b><br />\n        Валюта (цена) <b style={blue}>{CURRENCY[JSON.parse(item.output).currency]}</b><br />\n        Валюта (метапоисковика) <b style={blue}>{CURRENCY[JSON.parse(item.output).currencyForUrl]}</b><br />\n        {\n          JSON.parse(item.output).optional && (\n            <div><br />\n              <div style={{ color: 'var(--tabbar_inactive_icon)' }}>Дополнительные параметры</div>\n              {\n                JSON.parse(item.output).profitability && (\"Выгодность покупки больше \")\n              }\n              {\n                JSON.parse(item.output).profitability && \n                <b style={blue}>{JSON.parse(item.output).profitability+\"%\"}</b>\n              }<br />\n              Дни недели вылета <b style={blue}>{\n                ((days) => {\n                  const daysOfWeek = [\n                    \"вс\",\n                    \"пн\",\n                    \"вт\",\n                    \"ср\",\n                    \"чт\",\n                    \"пт\",\n                    \"сб\"\n                  ]\n                  let check = 0;\n                  days.every((element, index, array) => {\n                      check++;\n                      return element === true;\n                  });\n                  if (check === 7) {\n                      return 'все';\n                  }\n                  let res = '';\n                  for (let index = 1; index < days.length; index++) {\n                      if (days[index]) {\n                          res += daysOfWeek[index].toLowerCase() + ', ';\n                      }\n                  }\n                  res += daysOfWeek[0].toLowerCase();\n                  return res;\n                })(JSON.parse(item.output).days)\n              }</b><br />\n              {\n                JSON.parse(item.output).showAddionalWeather && (\n                  <div>\n                    Прогноз погоды в день прилета<br />\n                    Днем от <b style={blue}>{JSON.parse(item.output)['dayTemp.min']}</b> С до <b style={blue}>+{JSON.parse(item.output)['dayTemp.max']}</b> С<br />\n                    Ночью от <b style={blue}>{JSON.parse(item.output)['nightTemp.min']}</b> С до <b style={blue}>+{JSON.parse(item.output)['nightTemp.max']}</b> С<br />\n                  </div>\n                )\n              }\n            </div>\n          )\n        }\n              </Title>\n                </Div>\n                </div>\n                }\n              </div>\n             )\n             } \n            </List>\n              \n          )\n            }\n          </div>\n         }\n         </div> \n        }\n        {this.state.snackbar}\n        <Div />\n        <Div />\n      </div>\n      </PullToRefresh>\n      </div>\n    )\n  }\n}\n\nexport default MyDB\n\n{ /*    \n\n  <CardGrid>\n    <Card size=\"l\" mode=\"shadow\">\n      <Div style={{ padding: '20px', lineHeight: 1.5 }}>\n        Из страны <b style={blue}>{\n          JSON.parse(item.output).countrySrc ? JSON.parse(item.output).countrySrc : \"любая\"\n        }</b> и города <b style={blue}>{JSON.parse(item.output).citySrc ? JSON.parse(item.output).citySrc : \"любой\"}</b><br />\n        В часть света <b style={blue}>{CONTINENTS[JSON.parse(item.output).continentDst]}</b> и страну <b style={blue}>{JSON.parse(item.output).countryDst ? JSON.parse(item.output).countryDst : \"любая\"}</b><br />\n        В город <b style={blue}>{JSON.parse(item.output).cityDst ? JSON.parse(item.output).cityDst : \"любой\"}</b><br />\n        Направление полетов: туда-обратно - <b style={blue}>{JSON.parse(item.output).dual ? \"да\" : \"нет\"}</b><br />\n        Направление полетов: туда - <b style={blue}>{JSON.parse(item.output).forward ? \"да\" : \"нет\"}</b><br />\n        {\n          JSON.parse(item.output).dates.map((item, i) => \n            <div key={i}>\n              Год вылета ({i+1}) <b style={blue}>{item.year}</b><br />\n              Время года ({i+1}) <b style={blue}>{SEASONS_TRANSCRIPTION[item.season]}</b><br />\n              Месяц ({i+1}) <b style={blue}>{MONTHS_TRANSCRIPTION[item.month]}</b><br />\n            </div>    \n          )\n        }<br />\n        Пассажиры <b style={blue}>{PASSENGERS[JSON.parse(item.output).passengers]}</b><br />\n        Цена от <b style={blue}>{JSON.parse(item.output).costMin}</b> до <b style={blue}>{JSON.parse(item.output).costMax}</b> {CURRENCY1[JSON.parse(item.output).currency]}<br />\n\n        Период показа <b style={blue}>{JSON.parse(item.output).interval}</b> минут<br />\n        Глубина поиска <b style={blue}>{JSON.parse(item.output).updated}</b> минут<br />\n        Максимальное количество билетов за 24 часа <b style={blue}>{JSON.parse(item.output).limit === \"0\" ? \"все\" : JSON.parse(item.output).limit}</b><br />\n        Язык (туда-обратно) <b style={blue}>{LANGUAGES[JSON.parse(item.output).language]}</b><br />\n        Валюта (цена) <b style={blue}>{CURRENCY[JSON.parse(item.output).currency]}</b><br />\n        Валюта (метапоисковика) <b style={blue}>{CURRENCY[JSON.parse(item.output).currencyForUrl]}</b><br />\n        {\n          JSON.parse(item.output).optional && (\n            <div><br />\n              <div style={{ color: 'var(--tabbar_inactive_icon)' }}>Дополнительные параметры</div>\n              {\n                JSON.parse(item.output).profitability && (\"Выгодность покупки больше \")\n              }\n              {\n                JSON.parse(item.output).profitability && \n                <b style={blue}>{JSON.parse(item.output).profitability+\"%\"}</b>\n              }<br />\n              Дни недели вылета <b style={blue}>{\n                ((days) => {\n                  const daysOfWeek = [\n                    \"вс\",\n                    \"пн\",\n                    \"вт\",\n                    \"ср\",\n                    \"чт\",\n                    \"пт\",\n                    \"сб\"\n                  ]\n                  let check = 0;\n                  days.every((element, index, array) => {\n                      check++;\n                      return element === true;\n                  });\n                  if (check === 7) {\n                      return 'все';\n                  }\n                  let res = '';\n                  for (let index = 1; index < days.length; index++) {\n                      if (days[index]) {\n                          res += daysOfWeek[index].toLowerCase() + ', ';\n                      }\n                  }\n                  res += daysOfWeek[0].toLowerCase();\n                  return res;\n                })(JSON.parse(item.output).days)\n              }</b><br />\n              {\n                JSON.parse(item.output).showAddionalWeather && (\n                  <div>\n                    Прогноз погоды в день прилета<br />\n                    Днем от <b style={blue}>{JSON.parse(item.output)['dayTemp.min']}</b> С до <b style={blue}>{JSON.parse(item.output)['dayTemp.max']}</b> С<br />\n                    Ночью от <b style={blue}>{JSON.parse(item.output)['nightTemp.min']}</b> С до <b style={blue}>{JSON.parse(item.output)['nightTemp.max']}</b> С<br />\n                  </div>\n                )\n              }\n            </div>\n          )\n        }\n      </Div>\n      <Div>\n        <Button\n          onClick={() => this.edit(item)}\n          size=\"xl\"\n        >\n          Редактировать\n        </Button><br />\n        <Button\n          onClick={() => this.openAlert(item.id, index)}\n          size=\"xl\"\n          mode=\"destructive\"\n        >\n          Удалить\n        </Button>\n      </Div>\n    </Card>\n  </CardGrid>\n</Group>\n*/}\n","import React, { Component } from 'react'\r\nimport logo from '../img/logo.png';\r\nimport { Panel, Avatar, Div, Progress, Spinner, FixedLayout, InfoRow } from '@vkontakte/vkui';\r\n\r\nfunction getStatus(n) {\r\n    let name = 'посетитель'\r\n     if(n == 0 || n == 1) {\r\n         return 'посетитель';\r\n     }else if(n >= 2 && n < 5) {\r\n         return 'пользователь'\r\n     } else if(n >=5 && n < 10) {\r\n         return 'опытный пользователь'\r\n     } else if(n >=10 && n < 15) {\r\n         return 'путешественник'\r\n     } else {\r\n         return 'опытный путешественник'\r\n     }\r\n\r\n}\r\n\r\nconst Load =  ({ progress, is_first,state, user}) => (\r\n    \r\n     <Div>\r\n         <Div align='center'>\r\n             {is_first ? <img weidth={120} style={{ marginTop: 60}} height={120} src={logo} /> : <Avatar size={120} src='https://sun9-9.userapi.com/cBhXydLqUUQkHDWZkxYtVMivVmuxM1IRo5JWkQ/yvpKLp5qKus.jpg'/>}\r\n         </Div>\r\n\r\n                <FixedLayout vertical='bottom'>\r\n                {!is_first && <div style={{ marginBottom: 12 }} align='center'><span>{state.user.first_name + \" \" + state.user.last_name}</span><br />{getStatus(state.my_groups.length + state.countDB)}</div>}\r\n                    <Spinner style={{ marginBottom: 12 }}/>\r\n                    <Progress value={progress} />\r\n                </FixedLayout>\r\n             \r\n         \r\n     </Div>\r\n\r\n)\r\n\r\nexport default Load;","import React, { Component } from 'react'\r\nimport { Panel, Avatar, Div, Progress, Spinner, FixedLayout, InfoRow, Link, Title, Text } from '@vkontakte/vkui';\r\n\r\nlet is_watch = false;\r\n\r\nexport class InfoPlaceholder extends Component {\r\n    state = {\r\n      snackbar:null,\r\n      data:this.props.DB,\r\n      is_watch:false\r\n    }\r\n    \r\n\r\n    render() {\r\n        return (\r\n            <Div>\r\n            <Div align='center'>\r\n                <Avatar size={120} style={{ marginTop: 60}} src='https://sun9-9.userapi.com/cBhXydLqUUQkHDWZkxYtVMivVmuxM1IRo5JWkQ/yvpKLp5qKus.jpg'/>\r\n            </Div>\r\n            <Text>\r\n            <div style={{ textAlign: 'center', marginTop:12}}>Привет, {this.props.user.first_name}!<br /></div>\r\n           <div style={{textAlign: 'justify'}}>\r\n           {this.props.user.sex === 2 ? \r\n           <div>\r\n            <br />\r\n            <Title level='3' weight='heavy'>Мы показываем авиабилеты в момент снижения цены на 30% и больше</Title>\r\n           <p>\r\n            Не веришь? Посмотри раздел «Витрина» торгового зала – в 700 сообществах мы 24 часа показываем дешевые авиабилеты во все страны мира, а в странах, где русскоязычное население составляет больше 0,4% - из каждого города вылета.\r\n            Выбери один или все способы получения информации - в новостную ленту и в личные сообщения. Где бы ты ни жил – у нас найдется сообщество с нужным аэропортом. Найди свой город вылета!\r\n           </p>\r\n            <Title weight='heavy' level='3'>Дешевые авиабилеты нас не ждут - все наоборот</Title>\r\n           <p>\r\n            Хочешь заглянуть на склад гипермаркета? Пропуска - в разделе «Мой выбор». Настрой нужные параметры самостоятельно. Управляй подпиской в любой момент - регулируй стоимость, время года, месяц и дни недели вылета, длительность поездки, период и количество получаемых авиабилетов, валюту и язык, выгодность приобретения от 30% до 90% и даже… выбирай дешевые авиабилеты по прогнозу температуры воздуха ночью или днем в день приземления. Хочешь посмотреть вылеты по всем направлениям из твоего города, когда в местах приземления будет холоднее, чем -20 С? А только на майские или на Новый год на несколько лет вперед? А просто в Африку или в Южную Америку? Теперь это возможно.\r\n           </p>\r\n            <Title level='3' weight='heavy'>Навестить друзей из других городов?</Title>\r\n           <p>\r\n             Посмотри карту низких цен и вылетай! Мы знаем, где живут твои друзья. Дешевые авиабилеты показывают самое интересное. Добро пожаловать на борт!\r\n           </p>  \r\n            <Title level='3' weight='heavy'>Экономить - это то же самое, что и зарабатывать?</Title>\r\n           <p>\r\n            Покупаешь туры, путешествуешь, оплачиваешь отели, хостелы или виллы, ищешь гидов, транспорт или входные билеты на мировые шоу?\r\n            Будь во всеоружии! Загляни в раздел «Сервисы» и получи кэшбек по всем тратам в путешествиях и поездках (подробнее - в разделе «Помощь – Cashback»)\r\n           </p>  \r\n            <Title weight='heavy' level='3'>Знаешь точную дату вылета?</Title>\r\n           <p>\r\n           Найди авиабилет в разделе «Авиабилеты». Пользуешься одним метапоисковиком? Узнай про остальные. Изучи «Карту низких цен» из своего города, «Популярные направления», «Спецпредложения авиакомпаний», «100 дешевых авиабилетов» и другую полезную информацию в разделе «Авиабилеты – Виджеты».\r\n           </p>                   \r\n           <Link onClick={() => {this.setState({is_watch:!this.state.is_watch})}}>читать далее...</Link>\r\n            {!this.state.is_watch && <Div><Div /></Div>}\r\n           {this.state.is_watch && \r\n                <div>\r\n\r\n                   <p>\r\n                    Увидеть дешевый авиабилет, например, из Новосибирска на Гаити на узбекском языке в тайских батах с вылетом во вторник следующей зимы в день, когда в Порт-о-Пренс ночью будет больше +23 C, а днем не меньше +34 С и выгода приобретения должна быть больше 60%? Теперь это возможно.\r\n                   </p>\r\n                    <Title level='3' weight='heavy'>Не знаешь, где находится Гаити и тебе ничего не известно о Порт-о-Пренс?</Title>\r\n                   <p>\r\n                   Не беда! В каждом авиабилете мы показываем ссылку на статью из Википедии о месте приземления и карту местности.\r\n\r\n                    Как это работает? Загляни в раздел «Помощь» или на <Link href=\"https://vk.com/feed?w=page-192548341_54349774\" target=\"_blank\">страницу</Link> гипермаркета.\r\n\r\n                    - Если бы авиабилеты стоили дешевле - Вы бы видели меня намного реже?\r\n\r\n                    Если такая мысль близка, поздравляем - ты на шаг ближе к мечте.\r\n\r\n                    Узнай первым о снижении цены на авиабилеты, загляни в свое будущее сегодня!\r\n                   </p>\r\n                   <Link onClick={() => {this.setState({is_watch:!this.state.is_watch})}}>cвернуть</Link>\r\n                    <Div>\r\n                    <Div />\r\n                    </Div>\r\n                    </div>\r\n                        }\r\n                     </div>: \r\n                        <div>\r\n                            <br />\r\n                            <Title level='3' weight='heavy'>Мы показываем авиабилеты в момент снижения цены на 30% и больше</Title>\r\n                            <p>\r\n                            Не веришь? Поброди неспешно в разделе «Витрина» в торговом зале среди 700 сообществ, выбрав один или сразу все способы получения информации - в новостную ленту и в личные сообщения.<br />\r\n                            <Link href=\"https://vk.com/feed?w=page-192548341_54356637\" target=\"_blank\">Найди</Link> свой город вылета!\r\n                            </p>\r\n                            <Title level='3' weight='heavy'>Дешевые авиабилеты нас не ждут - все наоборот</Title>\r\n                            <p>\r\n                            Хочешь заглянуть в аутлет? Cоздай подписку в разделе «Мой выбор» и настрой нужные параметры сама. Управляй подпиской в любой момент - установи стоимость, время года и дни недели вылета, длительность поездки, период и количество получаемых авиабилетов, валюту и язык, выбери выгодность приобретения от 30% до 90% и даже погоду в день приземления ночью и днем. Регулируется всё.\r\n                            </p>\r\n                            <Title level='3' weight='heavy'>Как это работает?</Title>\r\n                            <p>\r\n                            Загляни в раздел «Помощь» или в <Link href='https://vk.com/feed?w=page-192548341_54349774' target='_blank'>уголок</Link> покупателя гипермаркета. Узнай первой о снижении цены на авиабилеты!\r\n                            </p>\r\n                            <Title level='3' weight='heavy'>Навестить друзей или подруг из других городов?</Title>\r\n                            <p>\r\n                            Свежая идея? Посмотри карту низких цен в разделе «Друзья», собери рюкзачок и вылетай!\r\n                            </p>\r\n                            <p>\r\n                            «Дешевые авиабилеты» показывают самое интересное. Добро пожаловать на борт!\r\n                            </p>\r\n                            <Title level='3' weight='heavy'>Траты станут меньше</Title>\r\n                            <p>\r\n                            Туры на море, отели, хостелы или даже виллы, гиды, транспорт и входные билеты на шоу и в музеи? Для всего нужны деньги. Загляни в раздел «Сервисы» и получи кэшбек по всем travel-тратам (подробнее в разделе «Помощь - Cashback»)\r\n                            </p>\r\n                            <Title level='3' weight='heavy'>Знаешь точную дату вылета?</Title>\r\n                            <p>\r\n                            Найди билет в разделе «Авиабилеты - Метапоисковики». Изучи «Карту низких цен» из своего города, «Популярные направления», «Спецпредложения авиакомпаний», «100 дешевых авиабилетов» и другую полезную информацию в разделе «Авиабилеты – Виджеты».\r\n                            </p>\r\n                            <Link onClick={() => {this.setState({is_watch:!this.state.is_watch})}}>читать далее...</Link>\r\n                            {!this.state.is_watch && <Div><Div /></Div>}\r\n                            {this.state.is_watch &&\r\n                            <div>\r\n                                <p>\r\n                                Увидеть дешевый авиабилет, например, из Москвы на Мартинику на французском языке в китайских юанях с вылетом в пятницу, следующей весной, в день, когда в Фор-де-Франс ночью будет больше +20 C, а днем не меньше +30 С?\r\n                                </p>\r\n                                <p>    \r\n                                Да, милая, невозможного теперь нет – смело бери крем для загара!\r\n                                </p>\r\n                                <p>\r\n                                Не уверена, где находится Фор-де-Франс и можешь покраснеть, когда спрашивают, далеко ли Антильские острова от Азорских?\r\n                                </p>\r\n                                <p>\r\n                                Это ненадолго. В каждом дешевом авиабилете мы показываем ссылку на статью из Википедии о месте приземления и карту.\r\n                                </p>\r\n                                <p>\r\n                                Есть два взгляда на будущее: один - с опаской, другой - с предвкушением..\r\n                                </p>\r\n                                <p>Какой выберешь ты? Загляни в свое будущее сегодня!</p>\r\n                                <Link onClick={() => {this.setState({is_watch:!this.state.is_watch})}}>cвернуть</Link>\r\n                            </div>\r\n                            }\r\n                        </div>\r\n                    }\r\n                                     \r\n            </div>\r\n            </Text>    \r\n            \r\n        </Div>\r\n        )\r\n    }\r\n\r\n\r\n\r\n}\r\nexport default InfoPlaceholder;\r\n","import React, { Component } from 'react'\nimport { Panel, PanelHeader, FixedLayout, Tabs, TabsItem, Div, Button, Counter, ActionSheet, ActionSheetItem, MiniInfoCell, PromoBanner } from '@vkontakte/vkui'\nimport MyGroups from '../components/MyGroups'\nimport MyDB from '../components/MyDB';\nimport Load from '../components/Load';\nimport InfoPlaceholder from '../components/InfoPlaceholder';\nimport SnackbarError from '../components/SnackbarError';\n\nimport Icon28AddOutline from '@vkontakte/icons/dist/28/add_outline';\nimport Icon28Send from '@vkontakte/icons/dist/28/send';\nimport Icon28ViewOutline from '@vkontakte/icons/dist/28/view_outline';\nimport Icon20FollowersOutline from '@vkontakte/icons/dist/20/followers_outline';\nimport Icon20MessageOutline from '@vkontakte/icons/dist/20/message_outline';\nimport Icon28HelpOutline from '@vkontakte/icons/dist/28/help_outline';\nimport Icon28ArrowUturnRightOutline from '@vkontakte/icons/dist/28/arrow_uturn_right_outline';\n\nconst SEASONS_TRANSCRIPTION = {\n  'all': 'любое',\n  'winter': 'зима',\n  'spring': 'весна',\n  'summer': 'лето',\n  'fall': 'осень',\n};\nconst MONTHS_TRANSCRIPTION = {\n  0: 'любой',\n  1: 'январь', 2: 'февраль', 3: 'март', 4: 'апрель',\n  5: 'май', 6: 'июнь', 7: 'июль', 8: 'август',\n  9: 'сентябрь', 10: 'октябрь', 11: 'ноябрь', 12: 'декабрь',\n};\n\nconst CONTINENTS = {\n  'random': 'любая',\n  'E': 'Европа',\n  'F': 'Африка',\n  'O': 'Океания',\n  'A': 'Азия',\n  'S': 'Южная Америка',\n  'N': 'Северная Америка',\n};\n\nconst PASSENGERS = {\n  url: \"1 пассажир, экономкласс\",\n  url1Business: \"1 пассажир, бизнес-класс\",\n  url2Passengers: \"2 пассажира, экономкласс\",\n  urlForma: \"открытая редактируемая форма поиска\"\n}\n\nconst CURRENCY = {\n  AZN: \"манат\",\n  BYN: \"беларусский рубль\",\n  CNY: \"юань\",\n  EUR: \"евро\",\n  KGS: \"сом\",\n  KZT: \"тенге \",\n  RUB: \"рубль \",\n  THB: \"бат\",\n  UAH: \"гривна\",\n  USD: \"доллар\",\n  UZS: \"сум\"\n}\n\nconst CURRENCY1 = {\n  AZN: \"манат\",\n  BYN: \"беларусских рублей\",\n  CNY: \"юань\",\n  EUR: \"евро\",\n  KGS: \"сом\",\n  KZT: \"тенге \",\n  RUB: \"рублей\",\n  THB: \"бат\",\n  UAH: \"гривна\",\n  USD: \"доллар\",\n  UZS: \"сум\"\n}\n\nconst LANGUAGES = {\n  de: \"немецкий\",\n  en: \"английский\",\n  es: \"испанский\",\n  fr: \"французский\",\n  it: \"итальянский\",\n  ru: \"русский\",\n  th: \"тайский\",\n  tr: \"турецкий\"\n}\n\nconst blue = {\n  color:'var(--accent)'\n}\n\nexport default class MySubs extends Component {\n  state = {\n    activeTab: '',\n    progress:0,\n    DB:[],\n    info_groups:false, \n    info_db:false,\n    is_open:false,\n    groups:[]\n  }\n\n  //получаем данные подписок\n  componentDidMount() {\n    fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-tags\", {\n      \"headers\": {\n        \"accept\": \"*/*\",\n        \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n        \"content-type\": \"application/json;charset=utf-8\",\n      },\n      \"body\": JSON.stringify({\n        user_id: String(this.props.state.user.id)\n      }),\n      \"method\": \"POST\",\n    })\n    .then(response => response.json())\n    .then(data => {\n      let arrGroups = [];\n      data.tags.forEach(tag => {if(arrGroups.indexOf(tag.body.split('@')[1]) === -1) arrGroups.push(tag.body.split('@')[1])});\n      this.props.onChangeGroups('my_groups', arrGroups);\n      let arrCategory = [];\n      let arr = [];\n      data.tags.forEach(tag => {if(arrCategory.indexOf(tag.category) === -1) arrCategory.push(tag.category)});\n      arrCategory.forEach(category => {\n        let groupsCategory = [];\n        data.tags.forEach(tag => {if(groupsCategory.indexOf(tag.group_name) === -1 && tag.category === category) groupsCategory.push(tag.group_name)});\n        let arrG = [];\n        groupsCategory.forEach(group => {\n          let u = [];\n          u = data.tags.filter(tag => tag.category === category && tag.group_name == group);\n          let code = data.tags.filter(tag => tag.category === category && tag.group_name == group)[0].body.split('@')[1];\n          arrG.push({group, code, data:u});\n        })\n        arr.push({category, data: arrG})   \n      })\n      this.setState({ progress : 50 })\n      fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-requests\", {\n        \"headers\": {\n          \"accept\": \"*/*\",\n          \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n          \"content-type\": \"application/json;charset=utf-8\",\n        },\n        \"body\": JSON.stringify({\n          user_id: String(this.props.state.user.id)\n        }),\n        \"method\": \"POST\",\n      })\n      .then(response => response.json())\n      .then(data => {\n        this.setState({ DB: data.requests, groups: arr, progress:70, countGroups:arrGroups.length,  countDB:data.requests.length, activeTab:(data.requests.length == 0 && arrGroups.length == 0 ? '' : 'groups')});\n        this.props.onChangeGroups('countDB', data.requests.length)\n        setTimeout(() => this.setState({ progress:99 }), 700);\n        setTimeout(() => {this.setState({ progress:100, is_open:(data.requests.length || arrGroups.length) });this.props.onChangeGroups('is_first', false)}, 1200);\n      }).catch(err => {\n        this.props.setPopout(null)\n        this.setState({snackbar:<SnackbarError close={() => this.setState({snackbar:null})}/>, data:'error'})\n      })\n    }).catch(err => {\n      this.props.setPopout(null)\n      this.setState({snackbar:<SnackbarError close={() => this.setState({snackbar:null})}/>, data:'error'})\n    })\n  }\n  //открываем меню 2\n  openMenu = () => {\n    this.props.setPopout(\n      <ActionSheet onClose={() => this.props.setPopout(null)}>\n        <ActionSheetItem autoclose before={<Icon28AddOutline />} onClick={() => this.props.go(this.state.activeTab == 'groups' ? 'groups' : 'settings')}>\n        Добавить подписку на дешевые авиабилеты в разделе \"{this.state.activeTab == 'groups' ? 'Витрина' : 'Мой выбор'}\"\n        </ActionSheetItem>\n        <ActionSheetItem autoclose before={<Icon28AddOutline />} onClick={() => this.props.go(this.state.activeTab != 'groups' ? 'groups' : 'settings')}>\n        Добавить подписку на дешевые авиабилеты в разделе \"{this.state.activeTab != 'groups' ? 'Витрина' : 'Мой выбор'}\"\n        </ActionSheetItem>\n\n          <ActionSheetItem autoclose before={<Icon28HelpOutline />} onClick={() => this.setState({[(this.state.activeTab == 'groups' ? 'info_groups' : 'info_db')]: true})}>\n            О разделе \"{this.state.activeTab == 'groups' ? 'Витрина' : 'Мой выбор'}\"\n          </ActionSheetItem>\n        \n        <ActionSheetItem autoclose before={<Icon28Send />} onClick={() => {this.props.onChangeGroups('is_meta', true); this.props.onChangeGroups('activeStory', 'aviasales')}}>\n        Купить авиабилет \n        </ActionSheetItem>\n      </ActionSheet>\n    )\n  }\n\n  //открываем меню 1\n  openMenuPlaceholder() {\n    this.props.setPopout(\n      <ActionSheet onClose={() => this.props.setPopout(null)}>\n        <ActionSheetItem autoclose before={<Icon28AddOutline />} onClick={() => { this.setState({activeTab: 'groups', is_open:true})}}>\n        Добавить подписку на дешевые авиабилеты в разделе \"Витрина\"\n        </ActionSheetItem>\n        <ActionSheetItem autoclose before={<Icon28AddOutline />} onClick={() => { this.setState({activeTab: 'database', is_open:true})}}>\n        Добавить подписку на дешевые авиабилеты в разделе \"Мой выбор\"\n        </ActionSheetItem>\n        <ActionSheetItem autoclose before={<Icon28Send />}  onClick={() => this.props.onChangeGroups('activeStory', 'aviasales')}>\n        Купить авиабилет \n        </ActionSheetItem>\n      </ActionSheet>\n    )\n  }\n\n  render() {\n    const {\n      activeTab,\n      progress,\n      is_open\n    } = this.state\n    const {\n      id,\n      state\n    } = this.props\n    return (\n      <Panel id={id}>\n        {is_open ? <PanelHeader>Подписки</PanelHeader>:null}\n        {is_open ? \n        <FixedLayout vertical=\"top\"> \n          <Tabs mode='segmented'>\n            <TabsItem\n              after={this.state.countGroups !== 0 && <Counter>{this.state.countGroups}</Counter>}\n              selected={activeTab === 'groups'}\n              onClick={() => {this.setState({ activeTab: 'groups' });}}\n            >Витрина</TabsItem>\n            <TabsItem\n              after={this.state.countDB !== 0 && <Counter>{this.state.countDB}</Counter>}\n              selected={activeTab === 'database'}\n              onClick={() => {this.setState({ activeTab: 'database' });}}\n            >Мой выбор</TabsItem>\n          </Tabs>\n        </FixedLayout>:null\n        }\n\n        {progress == 100 &&\n        <FixedLayout vertical='bottom'>\n          <div align='center' style={{ display: 'flex', justifyContent: 'center'}}>\n          <div style={{ paddingBottom:6 }}>\n            <Button className='circle_button' onClick={() => {\n            if(this.state.is_open) this.openMenu()\n            else this.openMenuPlaceholder()\n          }}>\n              <Icon28AddOutline />\n            </Button>\n          </div>\n          {activeTab == 'groups' && <div style={{ paddingBottom:6,paddingRight:32,right:'0%', position:'absolute' }}>\n            <Button className='circle_button' style={{backgroundColor:'#4BBDE7'}} onClick={() => this.props.openModal('menu_map')}>\n              <Icon28ViewOutline />\n            </Button>\n          </div>\n          }\n          </div>\n        </FixedLayout>\n        }\n        <Div />\n        {progress !== 100 ? <Load progress={progress} is_first={this.props.state.is_first} state={this.props.state} user={this.props.state.user}/> :\n        <div>\n          {this.state.is_open ? \n        <div>\n        {\n          activeTab === 'groups' ? \n            <MyGroups\n              setPopout={this.props.setPopout}\n              info={this.state}\n              onChangeGroups={this.props.onChangeGroups}\n              onChangeCount={(name, value) => this.setState({[name]:value})}\n              openModal={this.props.openModal}\n              groups={this.state.groups}\n              state={state}\n            />\n          :\n            <MyDB\n              info={this.state}\n              onChangeGroups={this.props.onChangeGroups}\n              onChangeCount={(name, value) => this.setState({[name]:value})}\n              DB={this.state.DB}\n              setPopout={this.props.setPopout}\n              state={state}\n              onChange={this.props.onChange}\n              go={this.props.go}\n            />\n        }\n        </div>: <InfoPlaceholder user={this.props.state.user} />\n          }\n      \n        </div>\n        }\n      </Panel>\n    )\n  }\n}\n\n","import  React, { Component } from 'react';\r\n\r\nexport default class Viget extends Component {\r\n    componentDidMount() { \r\n        const script = document.createElement('script') \r\n        console.log(this.props.url)\r\n        script.src = this.props.url;\r\n        script.charSet = 'utf-8' \r\n        script.async = true \r\n        this.scriptTag.appendChild(script) \r\n        }\r\n        \r\n        render() { \r\n        return ( \r\n        <div ref={ref => (this.scriptTag = ref)} /> \r\n        ) \r\n        } \r\n        \r\n}","import React, { Component } from 'react'\r\nimport { Tabs, Panel, TabsItem, PanelHeader, Div, Button, FixedLayout, ActionSheet, ActionSheetItem, Header, Cell, List, PanelHeaderContent, PanelHeaderContext} from '@vkontakte/vkui';\r\n\r\nimport Viget from '../components/Viget';\r\n\r\nimport Icon16Dropdown from '@vkontakte/icons/dist/16/dropdown';\r\nimport Icon24Done from '@vkontakte/icons/dist/24/done';\r\n\r\nimport Icon28AddOutline from '@vkontakte/icons/dist/28/add_outline';\r\nimport Icon28ViewOutline from '@vkontakte/icons/dist/28/view_outline';\r\nimport { render } from '@testing-library/react';\r\n\r\nexport default class Services extends Component {\r\n    state = {\r\n         activeTab: 'viget',\r\n         viget_activeMenu:'tours',\r\n         search_activeMenu:null,\r\n         activeMenu: null, \r\n         contextOpened:false,\r\n         activeOf:0,\r\n         viget_viget: 'best_price',\r\n    }\r\n\r\n    openMenu_2 = () => {\r\n        const name = this.state.activeTab + '_activeMenu';\r\n        this.props.setPopout(\r\n            <ActionSheet onClose={() => this.props.setPopout(null)}>\r\n                <ActionSheetItem autoclose onClick={() => this.setState({ [name]:'packet'})}>\r\n                Пакетные туры\r\n                </ActionSheetItem>\r\n                <ActionSheetItem autoclose onClick={() => this.setState({ activeMenu:'hotel'})}>\r\n                Отели, хостелы, квартиры, дома и др.\r\n                </ActionSheetItem>\r\n                <ActionSheetItem autoclose onClick={() => this.setState({ activeMenu:'st'})}>\r\n                Страхование\r\n                </ActionSheetItem>\r\n                <ActionSheetItem autoclose >\r\n                Авто-, вело- и прокат байков\r\n                </ActionSheetItem>\r\n                <ActionSheetItem autoclose>\r\n                Автобусы\r\n                </ActionSheetItem>\r\n                <ActionSheetItem autoclose>\r\n                Морские круизы\r\n                </ActionSheetItem>\r\n                <ActionSheetItem autoclose>\r\n                Попутчики\r\n                </ActionSheetItem>\r\n                \r\n            </ActionSheet>\r\n        )\r\n    }\r\n\r\n    openMenu_1 = () => {\r\n        const name = this.state.activeTab + '_activeMenu';\r\n        const viget = this.state.activeTab + '_viget'\r\n        this.props.setPopout(\r\n            <ActionSheet onClose={() => this.props.setPopout(null)}>\r\n                <ActionSheetItem autoclose onClick={() => this.setState({ [name]: 'tours',[viget]: 'best_price', activeOf:0})}>Пакетные туры</ActionSheetItem>\r\n                <ActionSheetItem autoclose onClick={() => this.setState({ [name]: null ,  [viget]: 'static', activeOf:0})}>Статистика цен</ActionSheetItem>\r\n                <ActionSheetItem autoclose onClick={() => this.setState({ [name]: null,   [viget]: 'renta', activeOf:0})}>Аренда автомобилей</ActionSheetItem>\r\n                <ActionSheetItem autoclose onClick={() => this.setState({ [name]: 'transfers',[viget]:'1', activeOf:0})}>Трансферы</ActionSheetItem>\r\n                <ActionSheetItem autoclose onClick={() => this.setState({ activeViget: 'excursion', activeOf:0})}>Экскурсии</ActionSheetItem>\r\n                <ActionSheetItem autoclose onClick={() => this.setState({ activeViget: 'museum_ticket', activeOf:0})}>Билеты в музеи</ActionSheetItem>\r\n            </ActionSheet>\r\n        )\r\n    }\r\n\r\n    toggleContext = () => {\r\n        this.setState({ contextOpened: !this.state.contextOpened });\r\n    }\r\n\r\n    openMenu = (to) => {\r\n        const name = this.state.activeTab + '_viget'\r\n        requestAnimationFrame(this.toggleContext);\r\n        this.setState({ [name]:to })\r\n    }\r\n\r\n    render() {\r\n        const { id, state} = this.props;\r\n        const { activeTab, activeViget, activeMenu, activeOf } = this.state;\r\n        const name = activeTab + \"_activeMenu\";\r\n        const viget = this.state.activeTab + '_viget'\r\n        const MENU = {\r\n            null:[],\r\n            tours:[\r\n                {name:'лучшая цена', func: () => this.openMenu('best_price')}, \r\n                {name: 'популярные туры', func:() => this.openMenu('pop_tour')}, \r\n                {name: 'горящие туры', func:() => this.openMenu('hot_tour')}\r\n            ],\r\n            transfers:[\r\n                {name: '1', func:() => this.openMenu('1')},\r\n                {name: '2', func:() => this.openMenu('2')},\r\n                {name: '3', func:() => this.openMenu('3')},\r\n                {name: '4', func:() => this.openMenu('4')}\r\n            ],\r\n            packet:[\r\n                {name:'travelata.ru'}, \r\n                {name: 'onlinetours.ru'}, \r\n                {name: 'level.travel'}\r\n            ]\r\n        }    \r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader separator={false}>\r\n                    {MENU[this.state[name]].length != 0 ?\r\n                    <PanelHeaderContent\r\n                        aside={<Icon16Dropdown style={{ transform: `rotate(${this.state.contextOpened ? '180deg' : '0'})` }} />}\r\n                        onClick={this.toggleContext}\r\n                    >\r\n                     {MENU[this.state[name]][activeOf].name}\r\n                    </PanelHeaderContent> : 'Сервисы'}\r\n                </PanelHeader>\r\n\r\n                <PanelHeaderContext opened={this.state.contextOpened} onClose={this.toggleContext}>\r\n                    <List>\r\n                        {MENU[this.state[name]].map((el, i) => <Cell onClick={() => {el.func(); this.setState({ activeOf:i})}} asideContent={activeOf == i && <Icon24Done fill='var(--accent)'/>}>{el.name}</Cell>)}\r\n                    </List>\r\n                </PanelHeaderContext>\r\n\r\n                    <Tabs>\r\n                        <TabsItem selected={activeTab == 'viget'} onClick={() => this.setState({ activeTab: 'viget' })}>Виджеты</TabsItem>\r\n                        <TabsItem selected={activeTab == 'search'} onClick={() => this.setState({ activeTab: 'search' })}>Системы поиска</TabsItem>\r\n                    </Tabs>\r\n\r\n                {this.state[viget] == 'best_price' && \r\n                    <div>\r\n                        <Header>Лучшая цена</Header>\r\n                        <Viget url={`https://c26.travelpayouts.com/content?promo_id=1151&shmarker=${state.marker}&popular=true&city_from=Moscow&year=${new Date().getFullYear()}&month=${new Date().getMonth() + 1}&title=%D0%9B%D1%83%D1%87%D1%88%D0%B8%D0%B5%20%D1%86%D0%B5%D0%BD%D1%8B%20%D0%BD%D0%B0%20%D1%82%D1%83%D1%80%D1%8B&powered_by=false`}/>\r\n                    </div>\r\n                }\r\n\r\n                {this.state[viget] == 'pop_tour' && \r\n                    <div>\r\n                        <Header>Популярные туры</Header>\r\n                        <Viget url={`https://tp.media/content?promo_id=4097&shmarker=${state.marker}&campaign_id=26&origin_iata=MOW&destination_iata=TR&locale=ru&powered_by=false&currency=rub&min_lines=5&scroll_height=`}/>\r\n                    </div>\r\n                }\r\n\r\n                {this.state[viget] == 'hot_tour' && \r\n                    <div>\r\n                        <Header>Горящие туры</Header>\r\n                        <Viget url={`https://c26.travelpayouts.com/content?promo_id=1494&shmarker=${state.marker}&city=%D0%90%D0%BD%D1%82%D0%B0%D0%BB%D0%B8%D1%8F&startDate=&endDate=&adults=0&scroll=false&powered_by=false`}/>\r\n                    </div>\r\n                }\r\n\r\n                {this.state[viget] == '1' && \r\n                    <div>\r\n                        <Header>1</Header>\r\n                        <Viget url={`https://c22.travelpayouts.com/content?promo_id=3466&shmarker${state.marker}&locale=ru&color_scheme=blue&ag=65&ap=417&re=r4468h219422`}/>\r\n                    </div>\r\n                }\r\n\r\n                {this.state[viget] == '2' && \r\n                    <div>\r\n                        <Header>2</Header>\r\n                        <Viget url={`https://c22.travelpayouts.com/content?promo_id=3507&shmarker=${state.marker}&locale=ru&curr=RUB&color=blue&ag=10&ap=105&rid=5774&hid=`}/>\r\n                    </div>\r\n                }\r\n\r\n                {this.state[viget] == '3' && \r\n                    <div>\r\n                        <Header>3</Header>\r\n                        <Viget url={`https://c22.travelpayouts.com/content?promo_id=3506&shmarker=${state.marker}&locale=ru&color_scheme=blue&powered_by=false`}/>\r\n                    </div>\r\n                }\r\n\r\n                {this.state[viget] == '4' && \r\n                    <div>\r\n                        <Header>4</Header>\r\n                        <Viget url={`https://c1.travelpayouts.com/content?promo_id=1486&shmarker=${state.marker}&language=ru&from=&to=&theme=8&powered_by=false`}/>\r\n                    </div>\r\n                }\r\n\r\n                {this.state[viget] == 'renta' && \r\n                    <div>\r\n                        <Header>Аренда автомобилей</Header>\r\n                        <Viget url={`https://c10.travelpayouts.com/content?promo_id=2082&shmarker=${state.marker}&locale=ru&width=100%25&height=100&powered_by=false`}/>\r\n                    </div>\r\n                }\r\n                {this.state[viget] ==  'static' && \r\n                    <div>\r\n                        <Header>Статистика цен</Header>\r\n                        <Viget url={`https://c26.travelpayouts.com/content?promo_id=1495&shmarker=${state.marker}&from_country=RU&to_country=TH&nights=14&adults=2&stars_from=1&stars_to=5&title_size=15&days_count=31&flex_dates=true&flex_nights=true&countries_list=true&departures=true&shown_nights=true&graph_label=true&week_labels=true&month_labels=true&months_switcher=true&tooltip=true&best_price=true&lines=true&medium_line=true&full_month=true&background=false&minimal=true&focus_target=false&from_city=Moscow&start_date=&powered_by=false`}/>\r\n                    </div>\r\n                }\r\n\r\n\r\n\r\n        \r\n                <FixedLayout vertical='bottom'>\r\n                    <Div align=\"center\" style={{ paddingBottom:6 }}>\r\n                        <Button className='circle_button' onClick={() => {\r\n                            if(activeTab == 'viget') \r\n                                this.openMenu_1()\r\n                            else\r\n                                this.openMenu_2()\r\n                        }}>\r\n                            <Icon28ViewOutline />\r\n                        </Button>\r\n                    </Div>\r\n                </FixedLayout>\r\n            </Panel>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport { Tabs, Panel, TabsItem, PanelHeader, Div, Button, FixedLayout, ActionSheetItem, ActionSheet, Header} from '@vkontakte/vkui';\r\nimport Viget from '../components/Viget';\r\nimport Icon28AddOutline from '@vkontakte/icons/dist/28/add_outline';\r\nimport Icon28ViewOutline from '@vkontakte/icons/dist/28/view_outline';\r\nimport Icon28ChecksOutline from '@vkontakte/icons/dist/28/checks_outline';\r\nimport Icon28DoneOutline from '@vkontakte/icons/dist/28/done_outline';\r\nimport Icon28StudOutline from '@vkontakte/icons/dist/28/stud_outline';\r\nimport Icon24CheckBoxOff from '@vkontakte/icons/dist/24/check_box_off';\r\nimport Icon28SearchOutline from '@vkontakte/icons/dist/28/search_outline';\r\nimport Icon24CheckBoxOn from '@vkontakte/icons/dist/24/check_box_on';\r\n\r\nexport default class Aviasales extends Component {\r\n    state = {\r\n        activeTab:'avia',\r\n        activeViget:'calendar',\r\n        activeMeta:'aviasales'\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(this.props.state.is_meta) {\r\n            this.setState({ activeTab:'avia'});\r\n            this.props.onChangeGroups('is_meta', false)\r\n        }\r\n    }\r\n\r\n    openMenuMeta = () => {\r\n        this.props.setPopout(\r\n        <ActionSheet onClose={() => this.props.setPopout(null)}>\r\n            <ActionSheetItem autoclose before={<Icon28SearchOutline />} onClick={() => this.setState({ activeMeta: 'aviasales' })}>aviasales.ru </ActionSheetItem>\r\n            <ActionSheetItem autoclose before={<Icon28SearchOutline />} onClick={() => this.setState({ activeMeta:'trip'})}>trip.com</ActionSheetItem>\r\n            <ActionSheetItem autoclose before={<Icon28SearchOutline />} onClick={() => this.setState({ activeMeta:'ozon'})}>ozon.travel</ActionSheetItem>\r\n            <ActionSheetItem autoclose before={<Icon28SearchOutline />} onClick={() => this.setState({ activeMeta:'aviakassa'})}>aviakassa.com</ActionSheetItem>\r\n        </ActionSheet>\r\n        )\r\n    }\r\n\r\n    openMenuViget = () => {\r\n        this.props.setPopout(\r\n            <ActionSheet onClose={() => this.props.setPopout(null)}>\r\n                <ActionSheetItem autoclose before={<Icon28StudOutline />} onClick={() => this.setState({ activeViget: 'calendar' })}>Календарь низких цен</ActionSheetItem>\r\n                <ActionSheetItem autoclose before={<Icon28StudOutline />} onClick={() => this.setState({ activeViget:'pop_avisales'})}>Спецпредложения авиакомпаний</ActionSheetItem>\r\n                <ActionSheetItem autoclose before={<Icon28StudOutline />} onClick={() => this.setState({ activeViget:'pop'})}>Популярные направления</ActionSheetItem>\r\n                <ActionSheetItem autoclose before={<Icon28StudOutline />} onClick={() => this.setState({ activeViget:'100'})}>100 дешевых авиабилетов</ActionSheetItem>\r\n            </ActionSheet>\r\n            )        \r\n    }\r\n\r\n    render() {\r\n        const { id, state } = this.props;\r\n        const { activeTab, activeViget, activeMeta } = this.state;\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader separator={false}>Авиабилеты</PanelHeader>\r\n                <Tabs>\r\n                    <TabsItem selected={activeTab === 'viget'} onClick={() => this.setState({ activeTab: 'viget'})}>Виджеты</TabsItem>\r\n                    <TabsItem selected={activeTab === 'avia'} onClick={() => this.setState({ activeTab: 'avia'})}>Поиск</TabsItem>\r\n                </Tabs>\r\n\r\n                {activeTab == 'avia' && activeMeta == 'aviasales' &&\r\n                <div>\r\n                <Header>aviasales.ru</Header>\r\n                <iframe width=\"100%\" height={window.screen.height} frameBorder=\"0\" src=\"https://www.travelpayouts.com/widgets/a92ec352ec5c4a659f1ad07c4bf65d99.html?v=2055\"></iframe>\r\n                </div>\r\n                }\r\n                {activeTab == 'avia' && activeMeta == 'trip' &&\r\n                <div>\r\n                <Header>trip.com</Header>\r\n                <Viget url={`https://tp.media/content?promo_id=4132&shmarker=${state.marker}&campaign_id=121&locale=ru&powered_by=false&border_radius=20&plain=true&color_button=%232681ff&color_button_text=%23ffffff&color_border=%232681ff`}/>\r\n                </div>\r\n                }\r\n                {activeTab == 'avia' && activeMeta == 'ozon' && \r\n                <div>\r\n                <Header>ozon.travel</Header>\r\n                <iframe width=\"100%\" scrolling=\"no\" height=\"500\" frameBorder=\"0\" src={`https://partners.ozon.travel/searchform_v2_0/?forpartner=${state.marker_ozon}&forPartnerRef=vkappui&formOrientation=vertical&tab=avia&tab=railway&tab=insurance&type=avia&bkgrnd_preset=//www.ozon.travel/f/images/index_form_bg.png&bkgrnd=ffffff&color_form=FFFFFF&color_formborder=ffffff&color_blocks=ffffff&color_fields=ffffff&color_button=ff56ff&color_border=ffffff&tab_text_color=757575&active_tab_text_color=494949&inputs_text_color=000000&labels_text_color=757575&button_text_color=ffffff&defaultAvia=`}></iframe>\r\n                </div>\r\n                }\r\n                {activeTab == 'avia' && activeMeta == 'aviakassa' && \r\n                <div>\r\n                <Header>aviakassa.com</Header>\r\n                <Viget url={'https://widgets.aviakassa.com/partner.js'}/>\r\n                </div>\r\n                }\r\n                {activeTab == 'viget' && activeViget == 'calendar' &&   \r\n                <div>\r\n                <Header>Календарь низких цен</Header>\r\n                <Viget url={`https://www.travelpayouts.com/calendar_widget/iframe.js?destination=BKK&marker=${state.marker}&searchUrl=hydra.aviasales.ru&locale=ru&currency=usd&powered_by=true&one_way=false&only_direct=false&period=year&range=7%2C14`}/>\r\n                </div>\r\n                }\r\n\r\n                {activeTab == 'viget' && activeViget == 'pop_avisales' && \r\n                <div>\r\n                <Header>Спецпредложения авиакомпаний</Header>\r\n                 <Viget url={`https://www.travelpayouts.com/ducklett/scripts.js?v=1&marker=122890&widget_type=brickwork&host=hydra.aviasales.ru&locale=ru&currency=rub&limit=9&powered_by=true`} />\r\n                </div>\r\n                }\r\n\r\n                {activeTab == 'viget' && activeViget == 'pop' && \r\n                <div>\r\n                <Header>Популярные направления</Header>\r\n                <Viget url={`https://www.travelpayouts.com/weedle/widget.js?v=1&marker=${state.marker}&host=hydra.aviasales.ru&locale=ru&currency=usd&powered_by=true`} />\r\n                </div>\r\n                }\r\n\r\n                {activeTab == 'viget' && activeViget == '100' && \r\n                <div>\r\n                    <Header>100 дешевых авиабилетов</Header>\r\n                <iframe width='100%' height={570} src='https://top100.aviasales.ru/MOW?_ga=2.230093269.899426115.1587444996-1554969250.1586643377&utm_campaign=as_marketing_top100&utm_medium=aviasales&utm_source=latest_prices'></iframe>\r\n                </div>\r\n                }\r\n\r\n                <FixedLayout vertical='bottom'>\r\n                    <Div align=\"center\" style={{ paddingBottom:6 }}>\r\n                        <Button className='circle_button' onClick={() => {\r\n                            if(activeTab === 'avia') \r\n                                this.openMenuMeta()\r\n                            else \r\n                                this.openMenuViget()\r\n                        }}><Icon28ViewOutline />\r\n                        </Button>\r\n                    </Div>\r\n                </FixedLayout>\r\n            </Panel>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport { Tabs, Panel, TabsItem, PanelHeader, Div, Button, FixedLayout, ActionSheet, ActionSheetItem, FormLayout, Input} from '@vkontakte/vkui';\r\n\r\nimport Icon28AddOutline from '@vkontakte/icons/dist/28/add_outline';\r\nimport Icon28ViewOutline from '@vkontakte/icons/dist/28/view_outline';\r\nimport Icon28UserOutline from '@vkontakte/icons/dist/28/user_outline';\r\nimport Icon28HelpOutline from '@vkontakte/icons/dist/28/help_outline';\r\nimport Icon28UserCircleOutline from '@vkontakte/icons/dist/28/user_circle_outline';\r\n\r\nexport default class Help extends Component {\r\n    state = {\r\n        activeTab: 'about'\r\n    }\r\n\r\n    openMenuAbout() {\r\n        this.props.setPopout(      \r\n        <ActionSheet onClose={() => this.props.setPopout(null)}>\r\n        <ActionSheetItem autoclose>\r\n          Позиция 1 \r\n        </ActionSheetItem>\r\n        <ActionSheetItem autoclose>\r\n          Позиция 2 \r\n        </ActionSheetItem>\r\n        <ActionSheetItem autoclose>\r\n          Позиция 3 \r\n        </ActionSheetItem>\r\n      </ActionSheet>\r\n      )\r\n    }\r\n\r\n    openMenuTheme() {\r\n        this.props.setPopout(\r\n            <ActionSheet onClose={() => this.props.setPopout(null)}>\r\n                <ActionSheetItem autoclose onClick={() => this.props.onChangeGroups('theme','bright_light')}>\r\n                Светлая\r\n                </ActionSheetItem>\r\n                <ActionSheetItem autoclose onClick={() => this.props.onChangeGroups('theme','space_gray')}>\r\n                Темная\r\n                </ActionSheetItem>\r\n            </ActionSheet>\r\n        )\r\n    }\r\n\r\n    openMenuCashback() {\r\n        this.props.setPopout(      \r\n            <ActionSheet onClose={() => this.props.setPopout(null)}>\r\n            <ActionSheetItem autoclose>\r\n                Ссылка 1 \r\n            </ActionSheetItem>\r\n            <ActionSheetItem autoclose>\r\n                Ссылка 2 \r\n            </ActionSheetItem>\r\n            <ActionSheetItem autoclose>\r\n                Ссылка 3 \r\n            </ActionSheetItem>\r\n          </ActionSheet>\r\n          )\r\n    }\r\n\r\n    openMenuUser() {\r\n        this.props.setPopout(     \r\n            <ActionSheet onClose={() => this.props.setPopout(null)}>\r\n            <ActionSheetItem before={<Icon28UserCircleOutline />} autoclose onClick={() => this.props.openModal('status')}>\r\n                Статус\r\n            </ActionSheetItem>\r\n            <ActionSheetItem before={<Icon28UserCircleOutline />} onClick={() => this.openMenuTheme()} autoclose>\r\n                Сменить тему\r\n            </ActionSheetItem>\r\n            <ActionSheetItem data-story='subscribes' onClick={() => this.props.onChangeGroups('activeStory', 'subscribes')} before={<Icon28UserCircleOutline />} autoclose>\r\n                Мои подписки\r\n            </ActionSheetItem>\r\n          </ActionSheet>\r\n          )\r\n    }\r\n\r\n    render() {\r\n        const {activeTab} = this.state;\r\n        const { id } = this.props;\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader separator={false}>Помощь</PanelHeader>\r\n                <Tabs>\r\n                    <TabsItem selected={activeTab === 'about'} onClick={() => this.setState({ activeTab: 'about'})}>Как это сделано?</TabsItem>\r\n                    <TabsItem selected={activeTab === 'cashback'} onClick={() => this.setState({ activeTab: 'cashback' })}>Cashback</TabsItem>\r\n                </Tabs>\r\n\r\n                {activeTab === 'cashback' && \r\n                    <div>\r\n                        <FormLayout>\r\n                            <Input top='Маркер для авиабилетов'/>\r\n                            <Input top='Маркер для booking'/>\r\n                            <Input top='Маркер для OZON'/>\r\n                        </FormLayout>\r\n                    </div>\r\n                }\r\n\r\n                <FixedLayout vertical='bottom'>\r\n                    <div style={{ display:'flex', justifyContent:'center'}}>\r\n                    <div style={{ paddingBottom:6 }}>\r\n                        <Button className='circle_button' onClick={() => {\r\n                                                            if(activeTab === 'about') this.openMenuAbout()\r\n                                                            else this.openMenuCashback()\r\n                        }}><Icon28ViewOutline />\r\n                        </Button>\r\n                    </div>\r\n                    <div style={{ paddingBottom:6,paddingRight:32,right:'0%', position:'absolute' }}>\r\n                        <Button className='circle_button' style={{backgroundColor:'#4BBDE7'}} onClick={() => this.openMenuUser()}>\r\n                            <Icon28UserOutline />\r\n                        </Button>\r\n                    </div>\r\n                    </div>\r\n                </FixedLayout>\r\n            </Panel>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react'\nimport { Panel, PanelHeader, Placeholder, Button, FixedLayout, Avatar, ScreenSpinner, RichCell, Tabs, TabsItem, Div, ActionSheet, ActionSheetItem, List, Group, Header, PanelHeaderContent, PanelHeaderContext, Cell, Search, Tooltip } from '@vkontakte/vkui'\nimport Icon56UsersOutline from '@vkontakte/icons/dist/56/users_outline';\nimport bridge from '@vkontakte/vk-bridge'\nimport { VKMiniAppAPI } from '@vkontakte/vk-mini-apps-api'\nimport SnackbarError from '../components/SnackbarError';\n\nimport Icon24Done from '@vkontakte/icons/dist/24/done';\nimport Icon36Article from '@vkontakte/icons/dist/36/article'\nimport Icon28SettingsOutline from '@vkontakte/icons/dist/28/settings_outline';\nimport Icon28ListOutline from '@vkontakte/icons/dist/28/list_outline';\nimport Icon28SortOutline from '@vkontakte/icons/dist/28/sort_outline';\nimport Icon28SortHorizontalOutline from '@vkontakte/icons/dist/28/sort_horizontal_outline';\nimport Icon28ViewOutline from '@vkontakte/icons/dist/28/view_outline';\nimport Icon16Dropdown from '@vkontakte/icons/dist/16/dropdown';\nimport Icon24Help from '@vkontakte/icons/dist/24/help';\n\n\nexport class Friends extends Component {\n  state = {\n    activeTab:'friends_boy',\n\n    all_friends_boy:null,\n    all_friends_girl:null,\n\n    tooltips: {\n      birthday:true,\n    },\n    activeMenu_friends_boy: null,\n    activeMenu_friends_girl: null,\n\n    filter_friends_boy:null,\n    filter_friends_girl:null,\n    \n\n    activeFilter:0,\n    is_group:false,\n    friends_boy: null,\n    friends_girl: null,\n    snackbar:null,\n    contextOpened:false\n  }\n\n  componentDidMount() {\n    this.getFriends()\n  }\n  \n  getFriends = () => {\n    this.props.setPopout(<ScreenSpinner />)\n    bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n      app_id: this.props.state.appId,\n      scope: \"friends\"\n    })\n    .then(data => {\n      if(data.access_token){\n        if(data.scope === \"friends\"){\n          bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n            method: \"friends.get\",\n            params: {\n              access_token: data.access_token,\n              fields: \"city,photo_200,country,bdate,status,last_seen,sex,domain\",\n              v: 5.107\n            },\n            request_id: '3'\n          })\n          .then(data => {\n            if(data.response.items){\n              let arrFriends = data.response.items.filter((item) => item.city).filter((item) => item.city.id !== this.props.state.user.city.id && item.bdate)\n              let arr = arrFriends.map((friend) => { \n                  let data = friend.bdate.split('.');\n                  if(data[2]) {\n                    let age = new Date().getFullYear() - data[2];\n                    return {...friend, age}\n                  } else {\n                    return {...friend, age:100}\n                  }\n                } \n              )\n      \n              this.setState({\n                friends_boy: arr.filter(friend => friend.sex == 2),\n                friends_girl: arr.filter(friend => friend.sex == 1),\n                all_friends_girl: arr.filter(friend => friend.sex == 1),\n                all_friends_boy: arr.filter(friend => friend.sex == 2),\n                filter_friends_boy: arr.filter(friend => friend.sex == 2),\n                filter_friends_girl: arr.filter(friend => friend.sex == 1)\n              })\n              this.props.setPopout(null)\n            }else{\n              this.setState({snackbar:<SnackbarError text={\"У вас нет друзей\"} close={() => this.setState({snackbar:null})}/>})\n              this.props.setPopout(null)\n            }\n          })\n          .catch((err) => {\n            console.log(err)\n            this.props.setPopout(null)\n            this.setState({snackbar:<SnackbarError text={\"Не удалось получить друзей\"} close={() => this.setState({snackbar:null})}/>})\n          })\n        }else{\n          this.setState({snackbar:<SnackbarError text={\"Не удалось доступ к друзьям\"} close={() => this.setState({snackbar:null})}/>})\n          this.props.setPopout(null)\n        }\n      }else{\n        this.setState({snackbar:<SnackbarError text={\"Ошибка получения токена\"} close={() => this.setState({snackbar:null})}/>})\n        this.props.setPopout(null)\n      }\n    })\n    .catch(() => {\n      this.props.setPopout(null)\n      this.setState({snackbar:<SnackbarError text={\"Вы не дали доступ к друзьям\"} close={() => this.setState({snackbar:null})}/>})\n    })\n  }\n\n   isEmpty(obj) {\n    for (let key in obj) {\n      return false;\n    }\n    return true;\n  }\n\n  openMenu = () => {\n    const name = 'activeMenu_' + this.state.activeTab;\n    const g = 'all_' + this.state.activeTab; \n    this.props.setPopout(\n      <ActionSheet onClose={() => this.props.setPopout(null)}>\n        <ActionSheetItem autoclose before={<Icon28ListOutline />} onClick={() => {this.sortCity(); this.setState({activeFilter:0, [name]:null, [this.state.activeTab]:this.state[g]})}}>по городу</ActionSheetItem>\n        <ActionSheetItem autoclose before={<Icon28ListOutline />} onClick={() => {this.sortAlfName(); this.setState({activeFilter:0, [name]:'alf', [this.state.activeTab]:this.state[g]})}}>по алфавиту</ActionSheetItem>\n        <ActionSheetItem autoclose before={<Icon28ListOutline />} onClick={() => {this.sortAge(); this.setState({activeFilter:0, [name]:'age',[this.state.activeTab]:this.state[g]})}}>по возрасту</ActionSheetItem>\n        <ActionSheetItem autoclose before={<Icon28ListOutline />} onClick={() => {this.sortDate(this.state[g]); this.setState({activeFilter:0, [name]:'birthday'})}}>по дням рождения</ActionSheetItem>\n        <ActionSheetItem autoclose before={<Icon28ListOutline />} onClick={() => {this.sortDate(this.state[g]); this.setState({activeFilter:0, [name]:'zodiac'})}}>по знакам зодиака</ActionSheetItem>\n        <ActionSheetItem autoclose before={<Icon28ListOutline />} onClick={() => {this.sortOnline(1); this.setState({activeFilter:0, [name]:'online',[this.state.activeTab]:this.state[g]})}}>сейчас на сайте</ActionSheetItem>\n      </ActionSheet>\n    )\n  }\n\n  sortOnline = (i) => {\n    const { activeTab } = this.state;\n    const g = 'all_' + this.state.activeTab; \n    this.setState({[activeTab]:this.state[g]}, () => {\n      let arr = this.state[activeTab].filter((el) => el.online == i);\n      let filter = 'filter_' + activeTab;\n      setTimeout(() =>this.setState({[activeTab]: arr, [filter]: arr}), 200)\n    \n    })\n  }\n\n  sortAgeTo = (min, max) => {\n    const { activeTab } = this.state;\n    const g = 'all_' + this.state.activeTab; \n    this.setState({[activeTab]:this.state[g]}, () => {\n      let arr = this.state[activeTab].filter((el) => el.age >= min && el.age <= max);\n      arr.sort((a, b) => {\n        return a.age-b.age\n      })\n      let filter = 'filter_' + activeTab;\n      this.setState({ [activeTab]: arr, [filter]: arr});\n    })\n  }\n\n  sortMothTo = (min, max) => {\n    const { activeTab } = this.state;\n    const g = 'all_' + this.state.activeTab; \n    this.setState({[activeTab]:this.state[g]}, () => {\n      let arr = this.state[activeTab].filter((el) => Number(el.bdate.split('.')[1]) >= min && Number(el.bdate.split('.')[1]) <= max);\n      let filter = 'filter_' + activeTab;\n      this.sortDate(arr);\n    })\n    \n  }\n\n  sortDate = (data) => {\n    const { activeTab } = this.state;\n    let filter = 'filter_' + activeTab;\n    let arrMoth = [];\n    let arr = [];\n    data.forEach(el => {\n      if(arrMoth.indexOf(Number(el.bdate.split('.')[1])) == -1) \n        arrMoth.push(Number(el.bdate.split('.')[1]));\n    })\n    arrMoth.sort((a, b) => {\n      return a-b\n    })\n  \n    arrMoth.forEach(e => {\n      let obj  =  { moth:e, \n                    data:\n                      this.state[activeTab].filter((i) => Number(i.bdate.split('.')[1]) == e).sort((a, b) => {\n                        return Number(a.bdate.split('.')[0]) - Number(b.bdate.split('.')[0])\n                      })};\n      arr.push(obj);\n    })\n    let all = [];\n    arr.forEach(e => { \n      all = all.concat(e.data)\n    })\n    this.setState({ [activeTab]:all, [filter]:all })\n  \n  }\n\n  sortCity = () => {\n    const { activeTab } = this.state;\n    let cities = [];\n    this.state[activeTab].forEach((el) => {\n        if(cities.indexOf(el.city.title) == -1) cities.push(el.city.title);\n    });\n    console.log(cities);\n    let name = 'is_group_' + activeTab; \n    let friends_name = 'groups_' + activeTab;\n    let filter = 'filter_' + activeTab;\n    let arr = cities.map((city) =>  ({ city, data:this.state[activeTab].filter((friend) => friend.city.title == city)}));\n    this.setState({ [friends_name]:arr,[filter]:arr, [name]:true });\n  }\n\n  sortAge = () => {\n    const { activeTab }  = this.state;\n    this.state[activeTab].sort((a, b) => {\n      return a.age-b.age\n    })\n    let name = 'is_group_' + activeTab;\n    let filter = 'filter_' + activeTab;\n    this.setState({ [name]:false, [activeTab]:  this.state[activeTab], [filter]:this.state[activeTab]});\n  }\n\n  sortAlfName = () => {\n    const { activeTab } = this.state;\n    this.setState({ activeMenu: 'alf'});\n    this.state[activeTab].sort((a, b) => {\n      let name_a = a.first_name.toLowerCase() \n      let name_b = b.first_name.toLowerCase() \n      if (name_a < name_b)\n        return -1\n      if (name_a > name_b)\n        return 1\n      return 0 \n      })\n      let name = 'is_group_' + activeTab;\n      let filter = 'filter_' + activeTab;\n     this.setState({ [name]:false, [activeTab]:  this.state[activeTab], [filter]:this.state[activeTab]});\n  }\n\n  sortAlfLastName = () => {\n    const { activeTab } = this.state;\n    this.setState({ activeMenu: 'alf'});\n    this.state[activeTab].sort((a, b) => {\n      let name_a = a.last_name.toLowerCase();\n      let name_b = b.last_name.toLowerCase();\n      if (name_a < name_b)\n        return -1\n      if (name_a > name_b)\n        return 1\n      return 0 \n      })\n      let name = 'is_group_' + activeTab;\n      let filter = 'filter_' + activeTab;\n     this.setState({ [name]:false, [activeTab]:  this.state[activeTab], [filter]:this.state[activeTab] });\n  }\n\n  sortZodiac = (d1, d2) => {\n    const data_1 = d1.split('.');\n    const data_2 = d2.split('.');\n\n    const { activeTab } = this.state;\n    const g = 'all_' + this.state.activeTab; \n    this.setState({[activeTab]:this.state[g]}, () => {\n      let arr = this.state[activeTab].filter((e) => {\n        const m  = Number(e.bdate.split('.')[1]);\n        const den = Number(e.bdate.split('.')[0]);\n        let znak;\n        switch (m) {\n            case 1:\n                if (den <= 19)\n                    znak = 'Козерог';\n                else\n                    znak = 'Водолей';\n                break;\n            case 2:\n                if (den <= 18)\n                    znak = 'Водолей';\n                else\n                    znak = 'Рыбы';\n                break;\n            case 3:\n                if (den <= 20)\n                    znak = 'Рыбы';\n                else\n                    znak = 'Овен';\n                break;\n            case 4:\n                if (den <= 19)\n                    znak = 'Овен';\n                else\n                    znak = 'Телец';\n                break;\n            case 5:\n                if (den <= 20)\n                    znak = 'Телец';\n                else\n                    znak = 'Близнецы';\n                break;\n            case 6:\n                if (den <= 21)\n                    znak = 'Близнецы';\n                else\n                    znak = 'Рак';\n                break;\n            case 7:\n                if (den <= 22)\n                    znak = 'Рак';\n                else\n                    znak = 'Лев';\n                break;\n            case 8:\n                if (den <= 22)\n                    znak = 'Лев';\n                else\n                    znak = 'Дева';\n                break;\n            case 9:\n                if (den <= 22)\n                    znak = 'Дева';\n                else\n                    znak = 'Весы';\n                break;\n            case 10:\n                if (den <= 22)\n                    znak = 'Весы';\n                else\n                    znak = 'Скорпион';\n                break;\n            case 11:\n                if (den <= 22)\n                    znak = 'Скорпион';\n                else\n                    znak = 'Стрелец';\n                break;\n            case 12:\n                if (den <= 21)\n                    znak = 'Стрелец';\n                else\n                    znak = 'Козерог';\n                break;\n        }\n        if(znak == d1 || znak == d2 || d1 == 'all')  {\n          return true;\n        } else { return false; }\n      })\n\n      let filter = 'filter_' + activeTab;\n      this.sortDate(arr)\n    })\n  }\n\n  search = (value) => {\n    const { activeTab } = this.state;\n    const search = value.toLowerCase();\n    let filter = 'filter_' + activeTab;\n    this.setState({ [activeTab]:this.state[filter]}, () => {\n      this.setState({[activeTab]: this.state[activeTab].filter(({first_name, last_name}) => first_name.toLowerCase().indexOf(search) > -1 || last_name.toLowerCase().indexOf(search) > -1)});\n    })\n    \n  }\n\n\n  date(date) {\n    if(date == \"\" || date == null) {\n      return \"нет данных\";\n    }\n    let arr = date.split('.');\n    switch (arr[1]) {\n      case '1':\n        return arr[0]+' января';\n      break\n\n      case '2':\n        return arr[0]+' февраля';\n      break\n\n      case '3':\n        return arr[0]+' марта';\n      break\n\n      case '4':\n        return arr[0]+' апреля';\n      break\n      case '5':\n        return arr[0]+' мая';\n      break\n      case '6':\n        return arr[0]+' июня';\n      break\n      case '7':\n        return arr[0]+' июля';\n      break\n      case '8':\n        return arr[0]+' августа';\n      break\n      case '9':\n        return arr[0]+' сентября';\n      break\n\n      case '10':\n        return arr[0]+' октября';\n      break \n        \n      case '11':\n        return arr[0]+' ноября';\n      break\n      case '12':\n        return arr[0]+' декабря';\n      break\n    }\n  }\n\n  seacrh_city  = (value) => {\n    const { activeTab } = this.state;\n    const search = value.toLowerCase();\n    let filter = 'filter_' + activeTab;\n\n  }\n\n  open = (friend) => {\n    console.log(friend)\n    this.props.setPopout(<ScreenSpinner />)\n    fetch(\"https://cors-anywhere.herokuapp.com/https://api.travelpayouts.com/data/ru/cities.json\")\n    .then(response => response.json())\n    .then(cities => {\n      let myCode = cities.filter((item) => item.name === this.props.state.user.city.title)[0].code\n      const friendCode = cities.filter((item) => item.name === friend.city.title)[0].code\n      fetch(`https://cors-anywhere.herokuapp.com/https://api.travelpayouts.com/v1/prices/calendar?&origin=${myCode}&destination=${friendCode}&calendar_type=departure_date&token=d378bb3f3b879e6fc87899314ba5ce5d`)\n      .then(response => response.json())\n      .then(data => {\n        console.log(data);\n        let indexPrice = Object.keys(data.data)[0]\n        if(Object.keys(data.data).length > 3){\n          indexPrice = Object.keys(data.data)[3]\n        }\n        console.log(String(indexPrice))\n        if(String(indexPrice) !== 'undefined') {\n        this.props.onChangeGroups('friend',friend); \n        this.props.onChangeGroups('calendar',data.data);\n        this.props.openModal('bullet_to_friend')\n        this.props.setPopout(null)\n        } else {\n          this.setState({snackbar:<SnackbarError text={`Мы не нашли авиарейсов из города ${this.props.state.user.city.title} в город ${friend.city.title}, где живет ${friend.first_name} ${friend.last_name}. Возможно, скоро мы покажем другие возможности навестить ${friend.sex == 2 ? 'его':'ее'}, например, поехать на поезде или автобусе`} close={() => this.setState({snackbar:null})}/>})}\n          this.props.setPopout(null)\n      }).catch(err => {\n        this.props.setPopout(null)\n        this.setState({snackbar:<SnackbarError text={`Мы не нашли авиарейсов из города ${this.props.state.user.city.title} в город ${friend.city.title}, где живет ${friend.first_name} ${friend.last_name}. Возможно, скоро мы покажем другие возможности навестить ${friend.sex == 2 ? 'его':'ее'}, например, поехать на поезде или автобусе`} close={() => this.setState({snackbar:null})}/>})\n      })\n    }).catch(err => {\n      this.props.setPopout(null)\n      this.setState({snackbar:<SnackbarError text={`Мы не нашли авиарейсов из города ${this.props.state.user.city.title} в город ${friend.city.title}, где живет ${friend.first_name} ${friend.last_name}. Возможно, скоро мы покажем другие возможности навестить ${friend.sex == 2 ? 'его':'ее'}, например, поехать на поезде или автобусе`} close={() => this.setState({snackbar:null})}/>})\n    })\n\n  }\n\n  toggleContext = () => {\n    this.setState({ contextOpened: !this.state.contextOpened });\n  }\n\n\n\n  getText = (menu) => {\n    console.log(menu)\n      switch (menu) {\n        case 'birthday':\n          return 'выберите месяц'\n        case 'age':\n          return 'выберите возраст'\n        case 'zodiac':\n          return 'выберите знак зодиака'\n\n        case 'alf':\n          return 'выберите порядок'\n\n        case 'online':\n          return 'выберите'\n      }\n  }\n\n  render() {\n    const {   id } = this.props\n    const {\n      activeTab,\n      friends_boy,\n      friends_girl,\n      activeMenu,\n      activeFilter\n    } = this.state\n    const MENU = {\n      null:[],\n      alf:[{name:'по имени', func:() => this.sortAlfName()}, {name:'по фамилии', func:() => this.sortAlfLastName()}],\n      age:[\n        {name:'любой возраст', func:() => this.sortAge()},\n        {name:'до 18 лет', func:() => this.sortAgeTo(0, 18)}, \n        {name:'18-25 лет', func:() => this.sortAgeTo(18, 25)},\n        {name:'25-30 лет', func:() => this.sortAgeTo(25, 30)},\n        {name:'30-35 лет', func:() => this.sortAgeTo(30, 35)},\n        {name:'35-45 лет', func:() => this.sortAgeTo(35, 45)}, \n        {name:'45-55 лет', func:() => this.sortAgeTo(45, 55)}, \n        {name:'старше 55 лет', func:() => this.sortAgeTo(55, 99)}, \n        {name:'возраст не указан', func:() => this.sortAgeTo(100, 100)}\n          ],\n      birthday:[\n        {name: 'показать всех', func:() => this.sortMothTo(1, 12)},\n        {name:'Январь - Февраль', func:() => this.sortMothTo(1, 2)}, \n        {name:'Март - Апрель', func:() => this.sortMothTo(3, 4)}, \n        {name:'Май - Июнь', func:() => this.sortMothTo(5, 6)}, \n        {name:'Июль - Август', func:() => this.sortMothTo(7, 8)}, \n        {name:'Сентябрь - Октябрь', func:() => this.sortMothTo(9, 10)}, \n        {name:'Ноябрь - Декабрь', func:() => this.sortMothTo(11, 12)}, \n      ],\n      zodiac:[\n        {name:'все знаки зодиака', func: () => this.sortZodiac('all', 'all')},\n        {name:'Овен - Телец', func:() => this.sortZodiac('Овен', 'Телец')}, \n        {name:'Близнецы - Рак', func:() => this.sortZodiac('Близнецы', 'Рак')},\n        {name:'Лев - Дева', func:() => this.sortZodiac('Лев', 'Дева')},\n        {name:'Весы - Скорпион', func:() => this.sortZodiac('Весы', 'Скорпион')},\n        {name:'Стрелец - Козегорог',func:() => this.sortZodiac('Стрелец', 'Козегорог')},\n        {name:'Водолей - Рыбы', func:() => this.sortZodiac('Водолей', 'Рыбы')},\n      ],\n      online:[\n        {name: 'сейчас на сайте', func:() => this.sortOnline(1)}, \n        {name:'офлайн ', func:() => this.sortOnline(0)}\n      ]\n    }\n    const name = 'activeMenu_' + this.state.activeTab;\n\n    return (\n      <Panel id={id}>\n        <PanelHeader separator={false}>\n            {this.state[name] ? \n            <Tooltip onClose={() => this.setState({ tooltips:{ ...this.state.tooltips, [this.state[name]]: false} })} isShown={this.state.tooltips[this.state[name]]} offsetY={-2} cornerOffset={10} text={this.getText(this.state[name])}>\n            <PanelHeaderContent\n              aside={<Icon16Dropdown style={{ transform: `rotate(${this.state.contextOpened ? '180deg' : '0'})` }} />}\n              onClick={this.toggleContext}\n            >\n              {MENU[this.state[name]][activeFilter].name}\n            </PanelHeaderContent>\n            </Tooltip>: \"Слетать к \" + (activeTab == 'friends_boy' ? 'друзьям': 'подругам')}\n        </PanelHeader>\n        <PanelHeaderContext opened={this.state.contextOpened} onClose={this.toggleContext}>\n            <List>\n              {MENU[this.state[name]].map((item, i) => \n                <Cell before={<Icon28SortHorizontalOutline />} onClick={() => {item.func(); this.setState({ activeFilter:i});requestAnimationFrame(this.toggleContext);}} asideContent={activeFilter == i && <Icon24Done fill='var(--accent)'/>}>\n                  {item.name}\n                </Cell>\n              )}\n            </List>\n          </PanelHeaderContext>\n\n        {friends_boy && \n        <FixedLayout vertical='bottom'>\n          <div align='center' style={{ display: 'flex', justifyContent: 'center'}}>\n            <div style={{  paddingBottom:6 }}>\n              <Button className='circle_button' onClick={() => this.openMenu()}>\n                <Icon28SortOutline />\n              </Button>\n            </div>\n            <div style={{ paddingBottom:6,paddingRight:32,right:'0%', position:'absolute' }}>\n            <Button className='circle_button' style={{backgroundColor:'#4BBDE7'}} onClick={() => this.props.openModal('menu_map')}>\n              <Icon36Article height={28} width={28}/>\n            </Button>\n            </div>\n          </div>\n        </FixedLayout>}\n        <Tabs>\n          <TabsItem selected={activeTab == 'friends_boy'} onClick={() => this.setState({ activeTab: 'friends_boy' })}>Друзья</TabsItem>\n          <TabsItem selected={activeTab == 'friends_girl'} onClick={() => this.setState({activeTab: 'friends_girl'})}>Подруги</TabsItem>\n        </Tabs>\n\n        {activeTab == 'friends_boy' ? \n          <div>\n            { friends_boy ? \n            (\n              this.state.is_group_friends_boy ? \n              <List>\n                {this.state.groups_friends_boy.map((city) => \n                <Group header={<Header>{city.city}</Header>}>\n                  {city.data.map((friend) => \n                      <RichCell \n                        before={<Avatar size={64} src={friend.photo_200}/>} \n                        multiline\n                        text={friend.status}\n                        actions={\n                          <React.Fragment>\n                            <Button target='_blank' href={\"https://vk.com/\"+friend.domain}>Профиль</Button>\n                            <Button mode=\"secondary\" onClick={() => this.open(friend)}>Календарь низких цен</Button>\n                          </React.Fragment>\n                        }\n                        caption={friend.city == null || friend.country == null ? '??':<span>{friend.country.title+\", \"+friend.city.title}<br /> {\"День рождения \"+this.date(friend.bdate)}</span>}\n                        after={friend.online == 1  ? <span style={{ color: 'var(--dynamic_green)', fontSize:12 }}>online</span> : (friend.last_seen ? <span style={{ fontSize: 12, color:'var(--dynamic_gray)'}}>{new Date(friend.last_seen.time*1000).toLocaleString('ru', {  year: 'numeric', month: 'numeric',day: 'numeric', hour: 'numeric',minute: 'numeric'})}</span>: <span style={{ color: 'var(--dynamic_gray)', fontSize:12}}>offline</span>)}\n                      >\n                      {friend.first_name+\" \"+friend.last_name}\n                      </RichCell>\n                  )}\n                </Group>\n                )}\n              </List>: \n              <List>\n                <Search onChange={(e) => this.search(e.target.value)} />\n                {friends_boy.map((friend, i) => \n                    <RichCell \n                      key={i} \n                      before={<Avatar size={64} src={friend.photo_200}/>} \n                      multiline\n                      text={friend.status}\n                      caption={friend.city == null || friend.country == null ? '??':<span>{friend.country.title+\", \"+friend.city.title}<br /> {\"День рождения \"+this.date(friend.bdate)}</span>}\n                      after={friend.online == 1  ? <span style={{ color: 'var(--dynamic_green)', fontSize:12 }}>online</span> : (friend.last_seen ? <span style={{ fontSize: 12, color:'var(--dynamic_gray)'}}>{new Date(friend.last_seen.time*1000).toLocaleString('ru', {  year: 'numeric', month: 'numeric',day: 'numeric', hour: 'numeric',minute: 'numeric'})}</span>: <span style={{ color: 'var(--dynamic_gray)', fontSize:12}}>offline</span>)}\n                      actions={\n                        <React.Fragment>\n                          <Button target='_blank' href={\"https://vk.com/\"+friend.domain}>Профиль</Button>\n                          <Button mode=\"secondary\" onClick={() => this.open(friend)}>Календарь низких цен</Button>\n                        </React.Fragment>\n                      }\n                    >\n                    {friend.first_name+\" \"+friend.last_name}\n                    </RichCell>\n                )}\n              </List>\n            )\n          :\n          <Placeholder\n            icon={<Icon56UsersOutline />}\n            header=\"Друзья\"\n            action={<Button onClick={this.getFriends} size=\"l\">Показать список</Button>}\n          >\n            Чтобы получить список к друзьям, вам нужно предоставить доступ приложению.\n          </Placeholder>}\n          </div>\n          :\n          <div>\n          {\n            friends_girl ?  (\n              this.state.is_group_friends_girl ? \n              <List>\n                {this.state.groups_friends_girl.map((city) =>\n                  <Group header={<Header>{city.city}</Header>}>\n                    {city.data.map((friend) =>\n                      <RichCell \n                        before={<Avatar size={64} src={friend.photo_200}/>} \n                        multiline\n                        text={friend.status}\n                        caption={friend.city == null || friend.country == null ? '??':<span>{friend.country.title+\", \"+friend.city.title}<br /> {\"День рождения \"+this.date(friend.bdate)}</span>}\n                        after={friend.online == 1  ? <span style={{ color: 'var(--dynamic_green)', fontSize:12 }}>online</span> : (friend.last_seen ? <span style={{ fontSize: 12, color:'var(--dynamic_gray)'}}>{new Date(friend.last_seen.time*1000).toLocaleString('ru', {  year: 'numeric', month: 'numeric',day: 'numeric', hour: 'numeric',minute: 'numeric'})}</span>: <span style={{ color: 'var(--dynamic_gray)', fontSize:12}}>offline</span>)}\n                        actions={\n                          <React.Fragment>\n                            <Button target='_blank' href={\"https://vk.com/\"+friend.domain}>Профиль</Button>\n                            <Button mode=\"secondary\" onClick={() => this.open(friend)}>Календарь низких цен</Button>\n                          </React.Fragment>\n                        }\n                      >\n                      {friend.first_name+\" \"+friend.last_name}\n                      </RichCell>\n                    )}\n                  </Group>\n                )}\n              </List>\n              : \n              <List>\n                <Search onChange={(e) => this.search(e.target.value)} />\n                {friends_girl.map((friend) =>\n                  <RichCell \n                    before={<Avatar size={64} src={friend.photo_200}/>} \n                    multiline\n                    text={friend.status}\n                    caption={friend.city == null || friend.country == null ? '??':<span>{friend.country.title+\", \"+friend.city.title}<br /> {\"День рождения \"+this.date(friend.bdate)}</span>}\n                    after={friend.online == 1  ? <span style={{ color: 'var(--dynamic_green)', fontSize:12 }}>online</span> : (friend.last_seen ? <span style={{ fontSize: 12, color:'var(--dynamic_gray)'}}>{new Date(friend.last_seen.time*1000).toLocaleString('ru', {  year: 'numeric', month: 'numeric',day: 'numeric', hour: 'numeric',minute: 'numeric'})}</span>: <span style={{ color: 'var(--dynamic_gray)', fontSize:12}}>offline</span>)}\n                    actions={\n                      <React.Fragment>\n                        <Button target='_blank' href={\"https://vk.com/\"+friend.domain}>Профиль</Button>\n                        <Button mode=\"secondary\" onClick={() => this.open(friend)}>Календарь низких цен</Button>\n                      </React.Fragment>\n                    }\n                  >\n                  {friend.first_name+\" \"+friend.last_name}\n                  </RichCell>\n                )}\n              </List>\n            )\n            :\n          <Placeholder\n            icon={<Icon56UsersOutline />}\n            header=\"Друзья\"\n            action={<Button onClick={this.getFriends} size=\"l\">Показать список</Button>}\n          >\n            Чтобы получить список к друзьям, вам нужно предоставить доступ приложению.\n          </Placeholder>\n        }\n          <Div />\n          <Div />\n          </div>\n        }\n        {this.state.snackbar}\n      </Panel>\n    )\n  }\n}\n\nexport default Friends\n","import React, { Component } from 'react'\nimport SnackbarError from '../components/SnackbarError'; \nimport { Panel, PanelHeader, FormLayout, Header, Input, Select, Checkbox, Button, Div, RangeSlider, PanelHeaderBack, ScreenSpinner, SimpleCell, Cell, Switch, FormLayoutGroup, Tabs, TabsItem, Separator } from '@vkontakte/vkui'\nimport Icon28AddOutline from '@vkontakte/icons/dist/28/add_outline';\nimport Icon28CancelCircleOutline from '@vkontakte/icons/dist/28/cancel_circle_outline';\nimport Icon16Add from '@vkontakte/icons/dist/16/add';\nimport Icon16Cancel from '@vkontakte/icons/dist/16/cancel';\nimport Icon28RecentOutline from '@vkontakte/icons/dist/28/recent_outline';\n\nimport SelectSearch from 'react-select-search';\n\nconst SEASONS_TRANSCRIPTION = {\n  'all': 'любое',\n  'winter': 'зима',\n  'spring': 'весна',\n  'summer': 'лето',\n  'fall': 'осень',\n};\n\nconst MONTHS_TRANSCRIPTION = {\n  0: 'любой',\n  1: 'январь', 2: 'февраль', 3: 'март', 4: 'апрель',\n  5: 'май', 6: 'июнь', 7: 'июль', 8: 'август',\n  9: 'сентябрь', 10: 'октябрь', 11: 'ноябрь', 12: 'декабрь',\n};\n\nconst CONTINENT_DST = {\n  E:'Европа',\n  F:\"Африка\",\n  D:'Океания',\n  A:\"Азия\",\n  S:\"Южная Америка\",\n  N:\"Северная Америка\"\n}\n\nconst LANGUAGES = {\n  de: \"немецкий\",\n  en: \"английский\",\n  es: \"испанский\",\n  fr: \"французский\",\n  it: \"итальянский\",\n  ru: \"русский\",\n  th: \"тайский\",\n  tr: \"турецкий\"\n}\n\nconst CURRENCY = {\n  AZN: {name:\"манат\", min:5, max:7000},\n  BYN: {name:\"беларусский рубль\", min:10, max:10000},\n  CNY: {name:\"юань\", min:10, max:30000},\n  EUR: {name:\"евро\", min:1, max:4000},\n  KGS: {name:\"сом\", min:100, max:300000},\n  KZT: {name:\"тенге\", min:500, max:1500000},\n  RUB: {name:\"рубль\", min:100, max:300000},\n  THB: {name:\"бат\", min:10, max:150000},\n  UAH: {name:\"гривна\", min:50, max:100000},\n  USD: {name:\"доллар\", min:1, max:5000},\n  UZS: {name:\"сум\", min:500, max:500000}\n}\n\nconst PASSENGERS = {\n  url: \"1 пассажир, экономкласс\",\n  url2Passengers: \"2 пассажира, экономкласс\",\n  url1Business: \"1 пассажир, бизнес-класс\",\n  urlForma: \"другой вариант\"\n}\n\nconst checkbox = {\n  paddingTop:0, paddingBottom:0\n}\n\nexport class Settings extends Component {\n  state = {\n    data:[],\n    listCountry:[],\n    cities:[],\n    updated: \"60\",\n    interval: \"60\",\n    limit: \"0\",\n    countryDst:'all',\n    continentDst:'E',\n    cityDst:'all',\n    datesCnt: [{\n      year: (new Date()).getFullYear(),\n      season: 'all',\n      month: '0'\n    }],\n    activeCnt:0,\n    language: 'ru',\n    dual: true,\n    forward: true,\n    profitability:30,\n    currency: 'RUB',\n    currencyForUrl: 'RUB',\n    passengers:'url',\n    randomCost:true,\n    randomTempDay:true,\n    randomTempNight:true,\n    costMin: 100,\n    costMax: 500000,\n    dayTempMin:-50,\n    dayTempMax:50,\n    interval:'60',\n    nighTempMin:-50,\n    nighTempMax:50,\n    days:[true, true, true, true, true, true, true],\n    allDays:true,\n    snackbar:null,\n    all_flight:true,\n    random_day_count:true,\n    count_day_Min:3,\n    count_day_Max:20\n  }\n\n\n  componentDidMount() {\n    this.props.setPopout(<ScreenSpinner />);\n    fetch(`https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Countries`)\n    .then(response => response.json())\n    .then(listCountry => {\n        listCountry.unshift({code:'all', nameTranslations:{ru:\"любая\"}})\n        let s = listCountry.filter(country => country.nameTranslations.ru.indexOf(this.props.state.user.country.title) > -1)[0];\n        fetch(`https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Cities/byCountry/`+s.code)\n          .then(response => response.json())\n          .then(cities => {\n              cities.unshift({code:'all', nameTranslations:{ru:\"любая\"}})\n              let n = cities.filter(city => city.nameTranslations.ru != null && city.nameTranslations.ru.indexOf(this.props.state.user.city.title) > -1)[0];\n              console.log(n);\n              this.setState({ listCountry, cities, countrySrc:s.code,  countrySrcCode:s.nameTranslations.ru, citySrc:n.code, citySrcCode:n.nameTranslations.ru}, this.props.setPopout(null));\n        })\n    })\n\n    /**/\n  }\n\n  onChange = e => {\n    this.setState({\n      [e.currentTarget.name]: e.currentTarget.value\n    })\n  }\n\n  onChangeCheck = (e) => {\n    this.setState({\n      [e.currentTarget.name]: e.currentTarget.checked\n    })\n  }\n\n  onChangeFrom = e => {\n    const { datesCnt } = this.state\n    datesCnt[parseInt(e.currentTarget.id, 10)][e.currentTarget.name] = e.currentTarget.value\n    if([e.currentTarget.name] == 'year') {\n      console.log('p');\n      datesCnt[parseInt(e.currentTarget.id, 10)]['season'] = 'all';\n      datesCnt[parseInt(e.currentTarget.id, 10)]['month'] = 0;\n    }\n    this.setState({\n      datesCnt\n    })\n  }\n\n  addFrom = () => {\n    const { datesCnt } = this.state\n    datesCnt.push({\n      year: (new Date()).getFullYear(),\n      season: 'all',\n      month: '0'\n    })\n    this.setState({\n      datesCnt,\n      activeCnt:datesCnt.length-1\n    })\n  }\n\n  removeFrom = () => {\n    const { datesCnt, activeCnt } = this.state\n    this.setState({\n      activeCnt: (activeCnt != 0 ? activeCnt -1 : 0),\n      datesCnt: datesCnt.splice(0, datesCnt.length-1)\n    })\n  }\n\n  onChangeDays = (e) => {\n    console.log(e.currentTarget.name);\n    if(e.currentTarget.name == 'all') {\n      this.setState({ allDays:!this.state.allDays, days:[false, false, false, false, false, false, false]});\n    }else{\n      //this.setState({ allDays:!this.state.allDays});\n      let bool = !this.state.days[Number(e.currentTarget.name)];\n      let days = this.state.days.splice([Number(e.currentTarget.name)], 1, bool);\n      console.log(this.state.days);\n      \n      let t = true;\n      this.state.days.forEach(e => {\n        if(!e) t = false\n      })\n      this.setState({ days:this.state.days, allDays:t });\n    }\n\n  }\n\n//готовим данные к отправке\n  sort_res = () => { \n    this.props.setPopout(<ScreenSpinner />)\n    const { user } = this.props.state;\n    const { citySrcCode, cityDstCode, countryDstCode, countrySrcCode,citySrc, cityDst, countryDst, countrySrc, costMax, costMin, currency,currencyForUrl,language, randomCost, dual,forward, datesCnt, profitability, dayTempMin, dayTempMax, nighTempMax, nighTempMin,passengers, updated, interval, limit, continentDst } = this.state;\n    let days;\n    if(this.state.allDays) {\n      days = [true, true, true, true, true, true, true];\n    }else{\n      days = this.state.days;\n    }\n    let output = {\n      citySrc:citySrcCode, \n      cityDst:cityDstCode,\n      countryDst:countryDstCode,\n      countrySrc:countrySrcCode,\n      continentDst,\n      costMax, \n      costMin,\n      currency,\n      currencyForUrl, \n      language,\n      randomCost,\n      forward,\n      dual,\n      passengers,\n      updated:Number(updated),\n      limit,\n      interval,\n      optional:true,\n      dates:datesCnt,\n      showAddionalWeather:true,\n      profitability:String(profitability),\n      ['nightTemp.max']:nighTempMax,\n      ['nightTemp.min']:nighTempMin,\n      ['dayTemp.max']:dayTempMax,\n      ['dayTemp.min']:dayTempMin,\n      days\n    }\n\n    let src_name;\n    let dst_name;\n    fetch(` https://translate.yandex.net/api/v1.5/tr.json/translate?key=trnsl.1.1.20191125T185829Z.bafa3ff776a2185a.64a334987cf74f3b022d5c07a4b67f2247dbc05b&lang=ru-en&text=${citySrcCode}`)\n    .then(response => response.json())\n    .then(res => {\n      src_name = res.text;\n      fetch(` https://translate.yandex.net/api/v1.5/tr.json/translate?key=trnsl.1.1.20191125T185829Z.bafa3ff776a2185a.64a334987cf74f3b022d5c07a4b67f2247dbc05b&lang=ru-en&text=${cityDstCode}`)\n      .then(response => response.json())\n      .then(res => {\n        dst_name = res.text;\n        let content = {\n          ['src.CountryCode']:countrySrc,\n          ['src.name']:src_name,\n          ['dst.name']:dst_name,\n          ['Discount']:{ ['$gte']:profitability},\n          ['SrcDayOfWeek']:{['$in']:days.map((item, i) => { if(item == true) return i})},\n          ['Dst.CountryCode']:(countryDst == 'all' ? null : countryDst),\n          ['Price']:{['$gte']:costMin, ['$lte']:costMax},\n          ['Temp.Max']:{['$gte']:dayTempMin, ['$lte']:dayTempMax},\n          ['Temp.Min']:{['$gte']:nighTempMin, ['$lte']:nighTempMax},\n          ['Dst.continentCode']:continentDst,\n        }\n        let obj = {\n          id:null,\n          interval:interval,\n          limit:limit,\n          updated:Number(updated),\n          user_id:user.id,\n          output,\n          content\n        }\n        //this.save_request(obj);\n        this.props.onChangeGroups('item', obj);\n        this.props.openModal('confirm_settings');\n        this.props.setPopout(null);\n      })\n    })\n  }\n\n// автокомплит стран\n  searchCountry = (value, obj, name) => { // автокомплит\n        let type = 'citySrc';\n        if(name == 'countryDst') type = 'cityDst';\n        this.setState({ [name]: value, [type]:null });\n        this.props.setPopout(<ScreenSpinner />)\n        if(value !== 'all') {\n        fetch(`https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Cities/byCountry/${value}`)\n        .then(response => response.json())\n        .then(list => {\n          list.unshift({code:'all', nameTranslations:{ ru: \"любой\"}})\n          let nameCountry = name+\"Code\";\n          this.setState({cities:list, [nameCountry]: obj.name})\n      })\n      }\n      this.props.setPopout(null)\n  }\n\n//// автокомплит городов\n  searchCity = (value, obj, name) => {\n    let nameCity = name+\"Code\";\n    this.setState({ [name]: value, [nameCity]: obj.name});\n    console.log(this.state)\n  }\n\n\n\n  render() {\n    const {\n      id,\n      state,\n    } = this.props\n    const {\n      count_day_Min,\n      count_day_Max,\n      random_day_count,\n      datesCnt,\n      currency,\n      currencyForUrl,\n      language,\n      countrySrc,\n      countrySrcCode,\n      countryDstCode,\n      citySrc,\n      countryDst,\n      cityDst,\n      continentDst,\n      randomCost,\n      randomTempDay,\n      randomTempNight,\n      costMin,\n      costMax,\n      dayTempMin,\n      dayTempMax,\n      nighTempMax,\n      nighTempMin,\n      days,\n      dual,\n      updated,\n      interval,\n      forward,\n      activeCnt,\n      all_flight\n    } = this.state\n    return (\n      <Panel id={id}>\n        <PanelHeader left={<PanelHeaderBack onClick={() => this.props.go('home')}/>}>Мой выбор</PanelHeader>\n        <FormLayout>\n        <Header style={{ color: 'var(--accent)' }}>Откуда</Header>\n          <FormLayoutGroup top=\"Страна\">\n            <div align=\"left\" style={{ padding:\"0 12px\"}}>\n              <SelectSearch \n                placeholder=\"Выберите страну\" \n                options={this.state.listCountry.filter((el) => el.code != 'all').map((el, i) => {return {name: el.nameTranslations.ru, value: el.code}})} \n                value={countrySrc} \n                onChange={(value, obj) => this.searchCountry(value, obj, \"countrySrc\")}\n                search\n              />\n           </div>\n          </FormLayoutGroup>\n         {countrySrcCode != null ? \n          <FormLayoutGroup top=\"Город\">\n          <div align=\"left\" style={{ padding:\"0 12px\"}}>\n            <SelectSearch \n              placeholder=\"Выберите город\" \n              options={this.state.cities.filter((el) => el.code != 'all').map((el, i) => {return {name: el.nameTranslations.ru, value: el.code}})} \n              value={citySrc} \n              onChange={(value, obj) => this.searchCity(value, obj, \"citySrc\")}\n              search\n            />\n         </div>\n        </FormLayoutGroup>:null\n         }\n         </FormLayout>\n         <datalist id='citySrc'>\n             <option>любой</option>\n            {this.state.data.map((city) => \n             <option value={city.nameTranslations.ru}>{city.code}</option>\n            )}\n          </datalist>\n          <FormLayout>\n          <Header style={{ color: 'var(--accent)' }}>Куда</Header>\n\n          <Select\n            top=\"Часть света\"\n            name=\"continentDst\"\n            onChange={(e) => { this.onChange(e); this.setState({countryDst:'all', cityDst:'all'}, console.log(this.state)) }}\n            value={continentDst}\n          >\n            {\n              Object.keys(CONTINENT_DST).map((continent) => \n                <option value={continent} key={continent}>\n                  {CONTINENT_DST[continent]}\n                </option>\n              )\n            }\n          </Select>\n            {continentDst == null || continentDst == 'all' ? null :\n          <FormLayoutGroup top=\"Страна\">\n          <div align=\"left\" style={{ padding:\"0 12px\"}}>\n            <SelectSearch \n              placeholder=\"Выберите страну\" \n              options={this.state.listCountry.filter(city => city.continentCode == continentDst || city.code == 'all').map((el, i) => {return {name: el.nameTranslations.ru, value: el.code}})} \n              value={countryDst} \n              onChange={(value, obj) => this.searchCountry(value, obj, \"countryDst\")}\n              search\n            />\n         </div>\n        </FormLayoutGroup>}\n\n          {countryDst == 'all' || countryDst == null || continentDst == 'all' ? null :\n          <FormLayoutGroup top=\"Город\">\n          <div align=\"left\" style={{ padding:\"0 12px\"}}>\n            <SelectSearch \n              placeholder=\"Выберите город\" \n              options={this.state.cities.map((el, i) => {return {name: el.nameTranslations.ru, value: el.code}})} \n              value={countryDst} \n              onChange={(value, obj) => this.searchCity(value, obj, \"cityDst\")}\n              search\n            />\n         </div>\n        </FormLayoutGroup>\n            }\n\n<FormLayoutGroup top=\"Направление полетов\">\n            <SimpleCell after={<Switch name=\"all_flight\" style={checkbox} onChange={(e) => { this.onChangeCheck(e); this.setState({ forward: e.target.checked, dual:e.target.checked})}} checked={all_flight || (dual && forward)} />}>любое</SimpleCell>\n            {!all_flight && <SimpleCell after={<Switch name=\"forward\" onChange={this.onChangeCheck} checked={forward} />}>туда</SimpleCell>}\n            {!all_flight && <SimpleCell after={<Switch name=\"dual\" style={checkbox} onChange={this.onChangeCheck} checked={dual} />}>туда-обратно</SimpleCell>}\n          </FormLayoutGroup> \n\n\n      <Header>Когда</Header>\n          <Tabs mode=\"buttons\">\n            {datesCnt && (\n              datesCnt.map((item, i) => <TabsItem style={{ marginLeft: 14 }} selected={activeCnt == i} onClick={() => this.setState({ activeCnt: i })}><Icon28RecentOutline fill={activeCnt == i ? '#0E62F1':'#4BBDE7'}/></TabsItem>)\n            )}\n            {datesCnt.length < 3 && <TabsItem onClick={this.addFrom}><Icon16Add /></TabsItem>}\n            {datesCnt.length > 1 && <TabsItem onClick={this.removeFrom} ><Icon16Cancel fill=\"rgb(255, 26, 0)\"/></TabsItem>}\n          </Tabs>\n          </FormLayout>\n                <FormLayout key={activeCnt}>\n                  <Header mode='secondary'>{\"Период вылета \"+(activeCnt+1)+\" \"}</Header>\n                  <Select\n                    top={`год`}\n                    name=\"year\"\n                    id={activeCnt}\n                    onChange={this.onChangeFrom}\n                    value={datesCnt[activeCnt].year}\n                  >\n                    {\n                      Array.from(Array(31).keys()).map((year) => \n                        <option key={year} value={(new Date()).getFullYear()+year}>\n                          {(new Date()).getFullYear()+year}\n                        </option>\n                      )\n                    }\n                  </Select>\n                  {datesCnt[activeCnt].season == 'all' && datesCnt[activeCnt].month == '0' && <Select\n                    top={`время года`}\n                    name=\"season\"\n                    id={activeCnt}\n                    onChange={this.onChangeFrom}\n                    value={datesCnt[activeCnt].season}\n                  >\n                    {\n                      Object.keys(SEASONS_TRANSCRIPTION).filter((e) => {\n                        let s = e;\n                        let m = new Date().getMonth()+1;\n                      if(new Date().getFullYear() == datesCnt[activeCnt].year) {\n                        if(s == 'all') \n                          return s;\n                        if(s == 'winter' && m <= 12)\n                          return s;\n                        if(s == 'spring' && m <= 5) \n                          return s;\n                        if(s == 'summer' && m <= 8) \n                          return s;\n                        if(s == 'fall' && m <= 11)\n                          return s;\n                      }else return e;\n                      }).map((season) => \n                        <option value={season} key={season}>\n                          {SEASONS_TRANSCRIPTION[season]}\n                        </option>\n                      )\n                    }\n                  </Select>  \n                  }   \n                 <Select\n                    top={`месяц`}\n                    name=\"month\"\n                    id={activeCnt}\n                    onChange={this.onChangeFrom}\n                    value={datesCnt[activeCnt].month}\n                  >\n                    {\n                      Object.keys(MONTHS_TRANSCRIPTION).filter((n) => {\n                        if(n == 0) {\n                          return n;\n                        }\n                        let m = new Date().getMonth()+1;\n                       if(new Date().getFullYear() == datesCnt[activeCnt].year) { \n                        switch(datesCnt[activeCnt].season) {\n                          case 'all': \n                            return n;\n                          break;\n\n                          case 'winter':\n                            if((n == 12 && m <= n) || (n == 1 && m <= n) || (n == 2 && m <= n)) {\n                              return n;\n                            }\n                          break;  \n                          case 'summer':\n                            if((n == 6 && m <= n) || (n == 7 && m <= n) || (n == 8 && m <= n)) {\n                              return n;\n                            }\n                          break;  \n                          case 'fall':\n                            if((n == 9 && n >= m) || (n == 10 && n >= m) || (n == 11 && n >= m)) {\n                              return n;\n                            }\n                          break; \n\n                          case 'spring':\n                            if((n == 3 && n >= m) || (n == 4 && n >= m) || (n == 5 && n >= m)) {\n                              return n;\n                            }\n                          break;  \n                        }\n                      }else{\n                        switch(datesCnt[activeCnt].season) {\n                          case 'all': \n                            return n;\n                          break;\n\n                          case 'winter':\n                            if((n == 12 ) || (n == 1) || (n == 2)) {\n                              return n;\n                            }\n                          break;  \n                          case 'summer':\n                            if((n == 6 ) || (n == 7) || (n == 8)) {\n                              return n;\n                            }\n                          break;  \n                          case 'fall':\n                            if((n == 9) || (n == 10) || (n == 11)) {\n                              return n;\n                            }\n                          break; \n\n                          case 'spring':\n                            if((n == 3 ) || (n == 4 ) || (n == 5)) {\n                              return n;\n                            }\n                          break;  \n                        }\n                      }\n                      }).map((month) => \n                        <option value={month} key={month}>\n                          {MONTHS_TRANSCRIPTION[month]}\n                        </option>\n                      )\n                    }\n                  </Select>\n                  </FormLayout>\n              <FormLayout>     \n        \n      <FormLayoutGroup top='Количество дней поездки'>\n      <SimpleCell after={\n                       <Switch\n                       checked={random_day_count}\n                       onChange={(e) => {\n                        if(!((state.my_groups.length+state.countDB) < 2)) \n                         this.setState({\n                           count_day_Min: e.currentTarget.checked ? 3 : count_day_Min,\n                           count_day_Max: e.currentTarget.checked ? 20 : count_day_Max,\n                           random_day_count: e.currentTarget.checked\n                         })\n                        else this.props.openModal('info_status');\n                       }}\n                     />\n           }>любое</SimpleCell>\n          {!random_day_count && \n            <RangeSlider \n              min={3}\n              max={20}\n              step={1}\n              value={[count_day_Min, count_day_Max]}\n              defaultValue={[count_day_Min, count_day_Max]}\n              onChange={(value) => {\n                this.setState({\n                  count_day_Min:value[0],\n                  count_day_Max:value[1]\n                })\n              }}\n            />\n          }\n\n          {!random_day_count && \n                <div style={{ display: 'flex' }}>\n                      <Input\n                      onFocus={() => {\n                        console.log('focus')\n                      }}\n                      value={count_day_Min}\n                      type=\"number\"\n                      onChange={(e) => {\n                        const value = parseInt(e.currentTarget.value, 10)\n                        if(value){\n                          if(value < count_day_Max && value >= 3){\n                            this.setState({ count_day_Min: value })\n                          }\n                        }\n                      }}\n                    />\n                    <Input\n                      value={count_day_Max}\n                      type=\"number\"\n                      onChange={(e) => {\n                        const value = parseInt(e.currentTarget.value, 10)\n                        if(value){\n                          if(value > count_day_Min && value <= 20){\n                            this.setState({ count_day_Max: value })\n                          }\n                        }\n                      }}\n                    />\n                </div>    \n                    }\n      </FormLayoutGroup>\n\n       <Select\n            top=\"Пассажиры\"\n            name=\"passengers\"\n            onChange={this.onChange}\n          >\n            {\n              Object.keys(PASSENGERS).map((passengers) => \n                <option value={passengers} key={passengers}>\n                  {PASSENGERS[passengers]}\n                </option>\n              )\n            }\n          </Select>             \n      \n      <Header style={{ color: 'var(--accent)' }}>Выберите условия</Header>\n          <Select\n            top=\"Получать дешевые авиабилеты один раз в\"\n            name=\"interval\"\n            onChange={this.onChange}\n          >\n            <option value=\"60\">1 час</option>\n            <option value=\"240\">4 часа</option>\n            <option value=\"480\">8 часов</option>\n            <option value=\"1440\">24 часа</option>\n          </Select>\n\n          <Select\n            top=\"Получать информацию за крайние N, часов\"\n            name=\"updated\"\n            onChange={this.onChange}\n            defaultValue=\"60\"\n          >\n      <option value=\"60\">1 час</option>\n      {Number(interval) > 60 ? <option value=\"120\">2 часа</option> : null}\n      {Number(interval) > 60 ? <option value=\"180\">3 часа</option> : null}\n      {Number(interval) > 60 ? <option value=\"240\">4 часа</option> : null}\n      {Number(interval) > 240 ? <option value=\"240\">5 часов</option> : null}\n      {Number(interval) > 240 ? <option value=\"240\">6 часов</option> : null}\n      {Number(interval) > 240 ? <option value=\"240\">7 часов</option> : null}\n      {Number(interval) > 240 ? <option value=\"240\">8 часов</option> : null}\n      </Select>\n\n          <Select\n            top=\"Сколько дешевых авиабилетов показывать в сутки?\"\n            name=\"limit\"\n            defaultValue=\"0\"\n          >\n            <option value=\"0\">все</option>\n            <option value=\"20\">20</option>\n            <option value=\"50\">50</option>\n            <option value=\"100\">100</option>\n            <option value=\"300\">300</option>\n          </Select>\n                     \n         \n          <Select\n            top=\"Язык\"\n            name=\"language\"\n            onChange={this.onChange}\n            value={language}\n          >\n            {\n              Object.keys(LANGUAGES).map((language) => \n                <option value={language} key={language}>\n                  {LANGUAGES[language]}\n                </option>\n              )\n            }\n          </Select>\n          <Select\n            top=\"Валюта в билете\"\n            name=\"currency\"\n            onChange={(e) => {this.onChange(e); this.setState({randomCost:true, costMin:CURRENCY[e.currentTarget.value].min, costMax:CURRENCY[e.currentTarget.value].max})}}\n            value={currency}\n          >\n            {\n              Object.keys(CURRENCY).map((currency) => \n                <option value={currency} key={currency}>\n                  {CURRENCY[currency].name}\n                </option>\n              )\n            }\n          </Select>\n          <Select\n            top=\"Валюта покупки\"\n            name=\"currencyForUrl\"\n            onChange={this.onChange}\n            value={currencyForUrl}\n          >\n            {\n              Object.keys(CURRENCY).map((currency) => \n                <option value={currency} key={currency}>\n                  {CURRENCY[currency].name}\n                </option>\n              )\n            }\n          </Select>\n\n          <FormLayoutGroup top={\"Выберите минимальную и максимальную стоимость авиабилетов, \" + currency}>\n          \n\n           <SimpleCell after={\n                       <Switch\n                       checked={randomCost}\n                       onChange={(e) => {\n                         this.setState({\n                           costMin: e.currentTarget.checked ? CURRENCY[currency].min : costMin,\n                           costMax: e.currentTarget.checked ? CURRENCY[currency].max : costMax,\n                           randomCost: e.currentTarget.checked\n                         })\n                       }}\n                     />\n           }>любая</SimpleCell>\n            \n           {!randomCost &&\n          <RangeSlider\n            top={costMin + \" - \" + costMax}\n            min={CURRENCY[currency].min}\n            max={CURRENCY[currency].max}\n            step={100}\n            defaultValue={[costMin, costMax]}\n            value={[costMin, costMax]}\n            onChange={(value) => {\n              this.setState({\n                costMin: value[0],\n                costMax: value[1],\n                randomCost: false\n              })\n            }}\n          />\n          }\n          {!randomCost &&\n          <div style={{ display: 'flex' }}>\n            <Input\n              onFocus={() => {\n                console.log('focus')\n              }}\n              value={costMin}\n              type=\"number\"\n              onChange={(e) => {\n                const value = parseInt(e.currentTarget.value, 10)\n                if(value){\n                  if(value < costMax && value >= CURRENCY[currency].min){\n                    this.setState({ costMin: value })\n                  }\n                }\n              }}\n            />\n            <Input\n              value={costMax}\n              type=\"number\"\n              onChange={(e) => {\n                const value = parseInt(e.currentTarget.value, 10)\n                if(value){\n                  if(value > costMin && value <= CURRENCY[currency].max){\n                    this.setState({ costMax: value })\n                  }\n                }\n              }}\n            />\n          </div>\n  }\n          </FormLayoutGroup> \n          <Select name='profitability' onChange={this.onChange} top=\"Показывать авиабилеты только с выгодой больше, %\">\n            <option value='30'>30</option>\n            {(state.my_groups.length+state.countDB) >= 2 && <option value='30'>40</option>}\n            {(state.my_groups.length+state.countDB) >= 5 && <option value='30'>50</option>}\n            {(state.my_groups.length+state.countDB) >= 10 && <option value='30'>60</option>}\n            {(state.my_groups.length+state.countDB) >= 15 && <option value='30'>70</option>}\n            {(state.my_groups.length+state.countDB) >= 15 && <option value='30'>80</option>}\n            {(state.my_groups.length+state.countDB) >= 15 && <option value='30'>90</option>}\n          </Select>\n          <FormLayoutGroup top=\"Хочу вылететь в определенный день недели\">\n              <SimpleCell after={<Switch checked={this.state.allDays} name='all' onChange={(e) => {if(!((state.my_groups.length+state.countDB) < 5)) this.onChangeDays(e); else this.props.openModal('info_status')}} />}>в любой</SimpleCell>\n              {!this.state.allDays &&\n              <div>\n                <SimpleCell after={<Switch name='0' onChange={this.onChangeDays} checked={days[0] || this.state.allDays} />}>понедельник</SimpleCell>\n                <SimpleCell after={<Switch name='1' onChange={this.onChangeDays} checked={days[1] || this.state.allDays} />}>вторник</SimpleCell>\n                <SimpleCell after={<Switch name='2' onChange={this.onChangeDays} checked={days[2] || this.state.allDays} />}>среда</SimpleCell>\n                <SimpleCell after={<Switch name='3' onChange={this.onChangeDays} checked={days[3] || this.state.allDays} />}>четверг</SimpleCell>\n                <SimpleCell after={<Switch name='4' onChange={this.onChangeDays} checked={days[4] || this.state.allDays} />}>пятница</SimpleCell>\n                <SimpleCell after={<Switch name='5' onChange={this.onChangeDays} checked={days[5] || this.state.allDays} />}>суббота</SimpleCell>\n                <SimpleCell after={<Switch name='6' onChange={this.onChangeDays} checked={days[6] || this.state.allDays} />}>воскресенье</SimpleCell>\n                \n              \n              \n              \n              \n              \n              \n              </div>\n              }\n          </FormLayoutGroup>  \n          <FormLayoutGroup top=\"Температура воздуха днем в день прилета, C\">\n              <SimpleCell after={          \n          <Switch\n            checked={randomTempDay}\n            onChange={(e) => {\n              if(!((state.my_groups.length+state.countDB) < 1)) \n              this.setState({\n                dayTempMin: e.currentTarget.checked ? -50 : dayTempMin,\n                dayTempMax: e.currentTarget.checked ?  50 : dayTempMax,\n                randomTempDay: e.currentTarget.checked\n              });\n              else this.props.openModal('info_status')\n            }}\n          />}>\n                любая\n              </SimpleCell>\n\n            \n         {!randomTempDay &&\n          <RangeSlider\n            min={-50}\n            max={50}\n            step={1}\n            defaultValue={[dayTempMin, dayTempMax]}\n            value={[dayTempMin, dayTempMax]}\n            onChange={(value) => {\n              this.setState({\n                dayTempMin: value[0],\n                dayTempMax: value[1],\n                randomTempDay: false\n              })\n            }}\n          />\n          }\n          {!randomTempDay &&\n          <div style={{ display: 'flex' }}>\n            <Input\n              onFocus={() => {\n                console.log('focus')\n              }}\n              value={dayTempMin}\n              type=\"number\"\n              onChange={(e) => {\n                const value = parseInt(e.currentTarget.value, 10)\n                if(value){\n                  if(value < dayTempMax && value >= -50){\n                    this.setState({ dayTempMin: value })\n                  }\n                }\n              }}\n            />\n            <Input\n              value={dayTempMax}\n              type=\"number\"\n              onChange={(e) => {\n                const value = parseInt(e.currentTarget.value, 10)\n                if(value){\n                  if(value > dayTempMin && value <= 50){\n                    this.setState({ dayTempMax: value })\n                  }\n                }\n              }}\n            />\n          </div>\n          }     \n          </FormLayoutGroup>\n          \n          <FormLayoutGroup top=\"Температура воздуха ночью в день прилета, C\">     \n            <SimpleCell after={\n                         <Switch\n                         checked={randomTempNight}\n                         onChange={(e) => {\n                          if(!((state.my_groups.length+state.countDB) < 1)) \n                           this.setState({\n                             nighTempMin: e.currentTarget.checked ? -50 : nighTempMin,\n                             nighTempMax: e.currentTarget.checked ?  50 : nighTempMax,\n                             randomTempNight: e.currentTarget.checked\n                           });\n                           else this.props.openModal('info_status')\n                         }}\n                       />\n            }>любая</SimpleCell>    \n\n          {!randomTempNight &&\n          <RangeSlider\n            min={-50}\n            max={50}\n            step={1}\n            defaultValue={[nighTempMin, nighTempMax]}\n            value={[nighTempMin, nighTempMax]}\n            onChange={(value) => {\n              this.setState({\n                nighTempMin: value[0],\n                nighTempMax: value[1],\n                randomTempNight: false\n              })\n            }}\n          />\n          }\n          {!randomTempNight && \n           <div style={{ display: 'flex' }}>\n            <Input\n              onFocus={() => {\n                console.log('focus')\n              }}\n              value={nighTempMin}\n              type=\"number\"\n              onChange={(e) => {\n                const value = parseInt(e.currentTarget.value, 10)\n                if(value){\n                  if(value < nighTempMin && value >= -50){\n                    this.setState({ nighTempMin: value })\n                  }\n                }\n              }}\n            />\n            <Input\n              value={nighTempMax}\n              type=\"number\"\n              onChange={(e) => {\n                const value = parseInt(e.currentTarget.value, 10)\n                if(value){\n                  if(value > nighTempMax && value <= 50){\n                    this.setState({ nighTempMax: value })\n                  }\n                }\n              }}\n            />\n          </div>\n            }\n          </FormLayoutGroup>\n          <Button mode='primary' size='xl' onClick={this.sort_res}>Подписаться</Button>\n        </FormLayout>\n        {this.state.snackbar}\n      </Panel>\n    )\n  }\n}\n\nexport default Settings \n","\r\nimport React, { Component } from 'react'\r\nimport SnackbarError from '../components/SnackbarError'; \r\nimport { Panel, PanelHeader, FormLayout, Header, Input, Select, FormLayoutGroup, Button, Div, RangeSlider, SelectMimicry, ScreenSpinner, SimpleCell, Cell, Switch, PanelHeaderBack, Tabs, TabsItem, Separator } from '@vkontakte/vkui'\r\nimport Icon16Add from '@vkontakte/icons/dist/16/add';\r\nimport Icon16Cancel from '@vkontakte/icons/dist/16/cancel';\r\nimport Icon28RecentOutline from '@vkontakte/icons/dist/28/recent_outline';\r\nimport SelectSearch from 'react-select-search';\r\n\r\nconst checkbox = {\r\n  paddingTop:0, paddingBottom:0\r\n}\r\n\r\nconst SEASONS_TRANSCRIPTION = {\r\n  'all': 'любое',\r\n  'winter': 'зима',\r\n  'spring': 'весна',\r\n  'summer': 'лето',\r\n  'fall': 'осень',\r\n};\r\n\r\nconst MONTHS_TRANSCRIPTION = {\r\n  0: 'любой',\r\n  1: 'январь', 2: 'февраль', 3: 'март', 4: 'апрель',\r\n  5: 'май', 6: 'июнь', 7: 'июль', 8: 'август',\r\n  9: 'сентябрь', 10: 'октябрь', 11: 'ноябрь', 12: 'декабрь',\r\n};\r\n\r\nconst CONTINENT_DST = {\r\n  all:\"любая\",\r\n  E:'Европа',\r\n  F:\"Африка\",\r\n  D:'Океания',\r\n  A:\"Азия\",\r\n  S:\"Южная Америка\",\r\n  N:\"Северная Америка\"\r\n}\r\n\r\nconst LANGUAGES = {\r\n  de: \"немецкий\",\r\n  en: \"английский\",\r\n  es: \"испанский\",\r\n  fr: \"французский\",\r\n  it: \"итальянский\",\r\n  ru: \"русский\",\r\n  th: \"тайский\",\r\n  tr: \"турецкий\"\r\n}\r\n\r\nconst CURRENCY = {\r\n  AZN: {name:\"манат\", min:5, max:7000},\r\n  BYN: {name:\"беларусский рубль\", min:10, max:10000},\r\n  CNY: {name:\"юань\", min:10, max:30000},\r\n  EUR: {name:\"евро\", min:1, max:4000},\r\n  KGS: {name:\"сом\", min:100, max:300000},\r\n  KZT: {name:\"тенге\", min:500, max:1500000},\r\n  RUB: {name:\"рубль\", min:100, max:300000},\r\n  THB: {name:\"бат\", min:10, max:150000},\r\n  UAH: {name:\"гривна\", min:50, max:100000},\r\n  USD: {name:\"доллар\", min:1, max:5000},\r\n  UZS: {name:\"сум\", min:500, max:500000}\r\n}\r\n\r\nconst PASSENGERS = {\r\n  url: \"1 пассажир, экономкласс\",\r\n  url2Passengers: \"2 пассажира, экономкласс\",\r\n  url1Business: \"1 пассажир, бизнес-класс\",\r\n  urlForma: \"другой вариант\"\r\n}\r\n\r\nexport class EditSettings extends Component {\r\n\r\n  state = {\r\n    data:[],\r\n    listCountry:[],\r\n    cityDstList:[],\r\n    cities:[],\r\n    citySrcList:[],\r\n    continentDst:this.props.state.form.continentDst,\r\n    updated: this.props.state.form.updated,\r\n    countrySrc: this.props.state.form.countrySrc,\r\n    citySrc: this.props.state.form.citySrc,\r\n    countryDst: this.props.state.form.countryDst,\r\n    cityDst: this.props.state.form.cityDst,\r\n    limit: this.props.state.form.limit,\r\n    datesCnt: this.props.state.form.dates,\r\n    language: this.props.state.form.language,\r\n    profitability:this.props.state.form.profitability,\r\n    currency: this.props.state.form.currency,\r\n    currencyForUrl: this.props.state.form.currencyForUrl,\r\n    passengers:this.props.state.form.passengers,\r\n    randomCost:this.props.state.form.randomCost,\r\n    costMin: this.props.state.form.costMin,\r\n    costMax: this.props.state.form.costMax,\r\n    dayTempMin: this.props.state.form['dayTemp.min'],\r\n    dayTempMax: this.props.state.form['dayTemp.max'],\r\n    interval: this.props.state.form.interval,\r\n    nighTempMin:this.props.state.form['nightTemp.min'],\r\n    nighTempMax:this.props.state.form['nightTemp.max'],\r\n    dual:this.props.state.form.dual,\r\n    forward:this.props.state.form.forward,\r\n    days:this.props.state.form.days,\r\n    allDays:(this.props.state.form.days.indexOf(false) == -1 ? true : false),\r\n    all_flight:(this.props.state.form.dual && this.props.state.form.forward),\r\n    randomTempDay:(this.props.state.form['dayTemp.min'] == -50 && this.props.state.form['dayTemp.max'] == 50),\r\n    randomTempNight:(this.props.state.form['nightTemp.min'] == -50 && this.props.state.form['nightTemp.max'] == 50),\r\n    activeCnt:0,\r\n    snackbar:null\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setPopout(<ScreenSpinner />);\r\n    fetch(`https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Countries`)\r\n    .then(response => response.json())\r\n    .then(listCountry => {\r\n        listCountry.unshift({code:'all', nameTranslations:{ru:\"любая\"}})\r\n        let s = listCountry.filter(country => country.nameTranslations.ru.indexOf(this.props.state.user.country.title) > -1)[0];\r\n        fetch(`https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Cities/byCountry/`+s.code)\r\n          .then(response => response.json())\r\n          .then(cities => {\r\n              cities.unshift({code:'all', nameTranslations:{ru:\"любая\"}})\r\n              let n = cities.filter(city => city.nameTranslations.ru != null && city.nameTranslations.ru.indexOf(this.props.state.user.city.title) > -1)[0];\r\n              console.log(n);\r\n              this.setState({ listCountry, cities, countrySrc:s.code,  countrySrcCode:s.nameTranslations.ru, citySrc:n.code, citySrcCode:n.nameTranslations.ru}, this.props.setPopout(null));\r\n        })\r\n    })\r\n\r\n    /**/\r\n  }\r\n\r\n  onChange = e => {\r\n    this.setState({\r\n      [e.currentTarget.name]: e.currentTarget.value\r\n    })\r\n  }\r\n\r\n  onChangeCheck = (e) => {\r\n    this.setState({\r\n      [e.currentTarget.name]: e.currentTarget.checked\r\n    })\r\n  }\r\n\r\n  onChangeFrom = e => {\r\n    const { datesCnt } = this.state\r\n    datesCnt[parseInt(e.currentTarget.id, 10)][e.currentTarget.name] = e.currentTarget.value\r\n    if([e.currentTarget.name] == 'year') {\r\n      console.log('p');\r\n      datesCnt[parseInt(e.currentTarget.id, 10)]['season'] = 'all';\r\n      datesCnt[parseInt(e.currentTarget.id, 10)]['month'] = 0;\r\n    }\r\n    this.setState({\r\n      datesCnt\r\n    })\r\n  }\r\n\r\n  addFrom = () => {\r\n    const { datesCnt } = this.state\r\n    datesCnt.push({\r\n      year: (new Date()).getFullYear(),\r\n      season: 'all',\r\n      month: '0'\r\n    })\r\n    this.setState({\r\n      datesCnt,\r\n      activeCnt:datesCnt.length-1\r\n    })\r\n  }\r\n\r\n  removeFrom = () => {\r\n    const { datesCnt, activeCnt } = this.state\r\n    this.setState({\r\n      activeCnt: (activeCnt != 0 ? activeCnt -1 : 0),\r\n      datesCnt: datesCnt.splice(0, datesCnt.length-1)\r\n    })\r\n  }\r\n\r\n  onChangeDays = (e) => {\r\n    console.log(e.currentTarget.name);\r\n    if(e.currentTarget.name == 'all') {\r\n      this.setState({ allDays:!this.state.allDays, days:[false, false, false, false, false, false, false]});\r\n    }else{\r\n      //this.setState({ allDays:!this.state.allDays});\r\n      let bool = !this.state.days[Number(e.currentTarget.name)];\r\n      let days = this.state.days.splice([Number(e.currentTarget.name)], 1, bool);\r\n      console.log(this.state.days);\r\n      \r\n      let t = true;\r\n      this.state.days.forEach(e => {\r\n        if(!e) t = false\r\n      })\r\n      this.setState({ days:this.state.days, allDays:t });\r\n    }\r\n\r\n  }\r\n\r\n//готовим данные к отправке\r\n  sort_res = () => { \r\n    this.props.setPopout(<ScreenSpinner />)\r\n    const { user } = this.props.state;\r\n    const { citySrcCode, cityDstCode, countryDstCode, countrySrcCode,citySrc, cityDst, countryDst, countrySrc, costMax, costMin, currency,currencyForUrl,language, randomCost, dual,forward, datesCnt, profitability, dayTempMin, dayTempMax, nighTempMax, nighTempMin,passengers, updated, interval, limit, continentDst } = this.state;\r\n    let days;\r\n    if(this.state.allDays) {\r\n      days = [true, true, true, true, true, true, true];\r\n    }else{\r\n      days = this.state.days;\r\n    }\r\n    let output = {\r\n      citySrc:citySrcCode, \r\n      cityDst:cityDstCode,\r\n      countryDst:countryDstCode,\r\n      countrySrc:countrySrcCode,\r\n      continentDst,\r\n      costMax, \r\n      costMin,\r\n      currency,\r\n      currencyForUrl, \r\n      language,\r\n      randomCost,\r\n      forward,\r\n      dual,\r\n      passengers,\r\n      updated:Number(updated),\r\n      limit,\r\n      interval,\r\n      optional:true,\r\n      dates:datesCnt,\r\n      showAddionalWeather:true,\r\n      profitability:String(profitability),\r\n      ['nightTemp.max']:nighTempMax,\r\n      ['nightTemp.min']:nighTempMin,\r\n      ['dayTemp.max']:dayTempMax,\r\n      ['dayTemp.min']:dayTempMin,\r\n      days\r\n    }\r\n\r\n    let src_name;\r\n    let dst_name;\r\n    fetch(` https://translate.yandex.net/api/v1.5/tr.json/translate?key=trnsl.1.1.20191125T185829Z.bafa3ff776a2185a.64a334987cf74f3b022d5c07a4b67f2247dbc05b&lang=ru-en&text=${citySrcCode}`)\r\n    .then(response => response.json())\r\n    .then(res => {\r\n      src_name = res.text;\r\n      fetch(` https://translate.yandex.net/api/v1.5/tr.json/translate?key=trnsl.1.1.20191125T185829Z.bafa3ff776a2185a.64a334987cf74f3b022d5c07a4b67f2247dbc05b&lang=ru-en&text=${cityDstCode}`)\r\n      .then(response => response.json())\r\n      .then(res => {\r\n        dst_name = res.text;\r\n        let content = {\r\n          ['src.CountryCode']:countrySrc,\r\n          ['src.name']:src_name,\r\n          ['dst.name']:dst_name,\r\n          ['Discount']:{ ['$gte']:profitability},\r\n          ['SrcDayOfWeek']:{['$in']:days.map((item, i) => { if(item == true) return i})},\r\n          ['Dst.CountryCode']:(countryDst == 'all' ? null : countryDst),\r\n          ['Price']:{['$gte']:costMin, ['$lte']:costMax},\r\n          ['Temp.Max']:{['$gte']:dayTempMin, ['$lte']:dayTempMax},\r\n          ['Temp.Min']:{['$gte']:nighTempMin, ['$lte']:nighTempMax},\r\n          ['Dst.continentCode']:continentDst,\r\n        }\r\n        let obj = {\r\n          id:null,\r\n          interval:interval,\r\n          limit:limit,\r\n          updated:Number(updated),\r\n          user_id:user.id,\r\n          output,\r\n          content\r\n        }\r\n        //this.save_request(obj);\r\n        this.props.onChangeGroups('item', obj);\r\n        this.props.openModal('confirm_settings');\r\n        this.props.setPopout(null);\r\n      })\r\n    })\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n// автокомплит стран\r\n  searchCountry = (value, obj, name) => { // автокомплит\r\n        let type = 'citySrc';\r\n        if(name == 'countryDst') type = 'cityDst';\r\n        this.setState({ [name]: value, [type]:null });\r\n        this.props.setPopout(<ScreenSpinner />)\r\n        if(value !== 'all') {\r\n        fetch(`https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Cities/byCountry/${value}`)\r\n        .then(response => response.json())\r\n        .then(list => {\r\n          list.unshift({code:'all', nameTranslations:{ ru: \"любой\"}})\r\n          let nameCountry = name+\"Code\";\r\n          this.setState({cities:list, [nameCountry]: obj.name})\r\n      })\r\n      }\r\n      this.props.setPopout(null)\r\n  }\r\n\r\n//// автокомплит городов\r\n  searchCity = (value, obj, name) => {\r\n    let nameCity = name+\"Code\";\r\n    this.setState({ [name]: value, [nameCity]: obj.name});\r\n    console.log(this.state)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      id,\r\n      state\r\n    } = this.props\r\n    const {\r\n      datesCnt,\r\n      currency,\r\n      currencyForUrl,\r\n      language,\r\n      countrySrc,\r\n      countrySrcCode,\r\n      countryDstCode,\r\n      citySrc,\r\n      countryDst,\r\n      cityDst,\r\n      continentDst,\r\n      randomCost,\r\n      randomTempDay,\r\n      randomTempNight,\r\n      costMin,\r\n      costMax,\r\n      dayTempMin,\r\n      dayTempMax,\r\n      nighTempMax,\r\n      nighTempMin,\r\n      days,\r\n      dual,\r\n      updated,\r\n      interval,\r\n      forward,\r\n      activeCnt,\r\n      all_flight\r\n    } = this.state\r\n    return (\r\n      <Panel id={id}>\r\n        <PanelHeader left={<PanelHeaderBack onClick={() => this.props.go('home')}/>}>Параметры</PanelHeader>\r\n        <FormLayout>\r\n        <Header style={{ color: 'var(--accent)' }}>Откуда</Header>\r\n          <FormLayoutGroup top=\"Страна\">\r\n            <div align=\"left\" style={{ padding:\"0 12px\"}}>\r\n              <SelectSearch \r\n                placeholder=\"Выберите страну\" \r\n                options={this.state.listCountry.filter((el) => el.code != 'all').map((el, i) => {return {name: el.nameTranslations.ru, value: el.code}})} \r\n                value={countrySrc} \r\n                onChange={(value, obj) => this.searchCountry(value, obj, \"countrySrc\")}\r\n                search\r\n              />\r\n           </div>\r\n          </FormLayoutGroup>\r\n         {countrySrcCode != null ? \r\n          <FormLayoutGroup top=\"Город\">\r\n          <div align=\"left\" style={{ padding:\"0 12px\"}}>\r\n            <SelectSearch \r\n              placeholder=\"Выберите город\" \r\n              options={this.state.cities.filter((el) => el.code != 'all').map((el, i) => {return {name: el.nameTranslations.ru, value: el.code}})} \r\n              value={citySrc} \r\n              onChange={(value, obj) => this.searchCity(value, obj, \"citySrc\")}\r\n              search\r\n            />\r\n         </div>\r\n        </FormLayoutGroup>:null\r\n         }\r\n         </FormLayout>\r\n         <datalist id='citySrc'>\r\n             <option>любой</option>\r\n            {this.state.data.map((city) => \r\n             <option value={city.nameTranslations.ru}>{city.code}</option>\r\n            )}\r\n          </datalist>\r\n          <FormLayout>\r\n          <Header style={{ color: 'var(--accent)' }}>Куда</Header>\r\n\r\n          <Select\r\n            top=\"Часть света\"\r\n            name=\"continentDst\"\r\n            onChange={(e) => { this.onChange(e); this.setState({countryDst:'all', cityDst:'all'}, console.log(this.state)) }}\r\n            value={continentDst}\r\n          >\r\n            {\r\n              Object.keys(CONTINENT_DST).map((continent) => \r\n                <option value={continent} key={continent}>\r\n                  {CONTINENT_DST[continent]}\r\n                </option>\r\n              )\r\n            }\r\n          </Select>\r\n            {continentDst == null || continentDst == 'all' ? null :\r\n          <FormLayoutGroup top=\"Страна\">\r\n          <div align=\"left\" style={{ padding:\"0 12px\"}}>\r\n            <SelectSearch \r\n              placeholder=\"Выберите страну\" \r\n              options={this.state.listCountry.filter(city => city.continentCode == continentDst || city.code == 'all').map((el, i) => {return {name: el.nameTranslations.ru, value: el.code}})} \r\n              value={countryDst} \r\n              onChange={(value, obj) => this.searchCountry(value, obj, \"countryDst\")}\r\n              search\r\n            />\r\n         </div>\r\n        </FormLayoutGroup>}\r\n\r\n          {countryDst == 'all' || countryDst == null || continentDst == 'all' ? null :\r\n          <FormLayoutGroup top=\"Город\">\r\n          <div align=\"left\" style={{ padding:\"0 12px\"}}>\r\n            <SelectSearch \r\n              placeholder=\"Выберите город\" \r\n              options={this.state.cities.map((el, i) => {return {name: el.nameTranslations.ru, value: el.code}})} \r\n              value={countryDst} \r\n              onChange={(value, obj) => this.searchCity(value, obj, \"cityDst\")}\r\n              search\r\n            />\r\n         </div>\r\n        </FormLayoutGroup>\r\n            }\r\n\r\n<FormLayoutGroup top=\"Направление полетов\">\r\n            <SimpleCell after={<Switch name=\"all_flight\" style={checkbox} onChange={(e) => { this.onChangeCheck(e); this.setState({ forward: e.target.checked, dual:e.target.checked})}} checked={all_flight || (dual && forward)} />}>любое</SimpleCell>\r\n            {!all_flight && <SimpleCell after={<Switch name=\"forward\" onChange={this.onChangeCheck} checked={forward} />}>туда</SimpleCell>}\r\n            {!all_flight && <SimpleCell after={<Switch name=\"dual\" style={checkbox} onChange={this.onChangeCheck} checked={dual} />}>туда-обратно</SimpleCell>}\r\n          </FormLayoutGroup> \r\n\r\n\r\n      <Header>Когда</Header>\r\n          <Tabs mode=\"buttons\">\r\n            {datesCnt && (\r\n              datesCnt.map((item, i) => <TabsItem style={{ marginLeft: 14 }} selected={activeCnt == i} onClick={() => this.setState({ activeCnt: i })}><Icon28RecentOutline fill={activeCnt == i ? '#0E62F1':'#4BBDE7'}/></TabsItem>)\r\n            )}\r\n            {datesCnt.length < 3 && <TabsItem onClick={this.addFrom}><Icon16Add /></TabsItem>}\r\n            {datesCnt.length > 1 && <TabsItem onClick={this.removeFrom} ><Icon16Cancel fill=\"rgb(255, 26, 0)\"/></TabsItem>}\r\n          </Tabs>\r\n          </FormLayout>\r\n                <FormLayout key={activeCnt}>\r\n                  <Header mode='secondary'>{\"Период вылета \"+(activeCnt+1)+\" \"}</Header>\r\n                  <Select\r\n                    top={`год`}\r\n                    name=\"year\"\r\n                    id={activeCnt}\r\n                    onChange={this.onChangeFrom}\r\n                    value={datesCnt[activeCnt].year}\r\n                  >\r\n                    {\r\n                      Array.from(Array(31).keys()).map((year) => \r\n                        <option key={year} value={(new Date()).getFullYear()+year}>\r\n                          {(new Date()).getFullYear()+year}\r\n                        </option>\r\n                      )\r\n                    }\r\n                  </Select>\r\n                  {datesCnt[activeCnt].season == 'all' && datesCnt[activeCnt].month == '0' && <Select\r\n                    top={`время года`}\r\n                    name=\"season\"\r\n                    id={activeCnt}\r\n                    onChange={this.onChangeFrom}\r\n                    value={datesCnt[activeCnt].season}\r\n                  >\r\n                    {\r\n                      Object.keys(SEASONS_TRANSCRIPTION).filter((e) => {\r\n                        let s = e;\r\n                        let m = new Date().getMonth()+1;\r\n                      if(new Date().getFullYear() == datesCnt[activeCnt].year) {\r\n                        if(s == 'all') \r\n                          return s;\r\n                        if(s == 'winter' && m <= 12)\r\n                          return s;\r\n                        if(s == 'spring' && m <= 5) \r\n                          return s;\r\n                        if(s == 'summer' && m <= 8) \r\n                          return s;\r\n                        if(s == 'fall' && m <= 11)\r\n                          return s;\r\n                      }else return e;\r\n                      }).map((season) => \r\n                        <option value={season} key={season}>\r\n                          {SEASONS_TRANSCRIPTION[season]}\r\n                        </option>\r\n                      )\r\n                    }\r\n                  </Select>  \r\n                  }   \r\n                 <Select\r\n                    top={`месяц`}\r\n                    name=\"month\"\r\n                    id={activeCnt}\r\n                    onChange={this.onChangeFrom}\r\n                    value={datesCnt[activeCnt].month}\r\n                  >\r\n                    {\r\n                      Object.keys(MONTHS_TRANSCRIPTION).filter((n) => {\r\n                        if(n == 0) {\r\n                          return n;\r\n                        }\r\n                        let m = new Date().getMonth()+1;\r\n                       if(new Date().getFullYear() == datesCnt[activeCnt].year) { \r\n                        switch(datesCnt[activeCnt].season) {\r\n                          case 'all': \r\n                            return n;\r\n                          break;\r\n\r\n                          case 'winter':\r\n                            if((n == 12 && m <= n) || (n == 1 && m <= n) || (n == 2 && m <= n)) {\r\n                              return n;\r\n                            }\r\n                          break;  \r\n                          case 'summer':\r\n                            if((n == 6 && m <= n) || (n == 7 && m <= n) || (n == 8 && m <= n)) {\r\n                              return n;\r\n                            }\r\n                          break;  \r\n                          case 'fall':\r\n                            if((n == 9 && n >= m) || (n == 10 && n >= m) || (n == 11 && n >= m)) {\r\n                              return n;\r\n                            }\r\n                          break; \r\n\r\n                          case 'spring':\r\n                            if((n == 3 && n >= m) || (n == 4 && n >= m) || (n == 5 && n >= m)) {\r\n                              return n;\r\n                            }\r\n                          break;  \r\n                        }\r\n                      }else{\r\n                        switch(datesCnt[activeCnt].season) {\r\n                          case 'all': \r\n                            return n;\r\n                          break;\r\n\r\n                          case 'winter':\r\n                            if((n == 12 ) || (n == 1) || (n == 2)) {\r\n                              return n;\r\n                            }\r\n                          break;  \r\n                          case 'summer':\r\n                            if((n == 6 ) || (n == 7) || (n == 8)) {\r\n                              return n;\r\n                            }\r\n                          break;  \r\n                          case 'fall':\r\n                            if((n == 9) || (n == 10) || (n == 11)) {\r\n                              return n;\r\n                            }\r\n                          break; \r\n\r\n                          case 'spring':\r\n                            if((n == 3 ) || (n == 4 ) || (n == 5)) {\r\n                              return n;\r\n                            }\r\n                          break;  \r\n                        }\r\n                      }\r\n                      }).map((month) => \r\n                        <option value={month} key={month}>\r\n                          {MONTHS_TRANSCRIPTION[month]}\r\n                        </option>\r\n                      )\r\n                    }\r\n                  </Select>\r\n                  </FormLayout>\r\n              <FormLayout>     \r\n\r\n       <Select\r\n            top=\"Пассажиры\"\r\n            name=\"passengers\"\r\n            onChange={this.onChange}\r\n          >\r\n            {\r\n              Object.keys(PASSENGERS).map((passengers) => \r\n                <option value={passengers} key={passengers}>\r\n                  {PASSENGERS[passengers]}\r\n                </option>\r\n              )\r\n            }\r\n          </Select>             \r\n      \r\n      <Header style={{ color: 'var(--accent)' }}>Выберите условия</Header>\r\n          <Select\r\n            top=\"Получать дешевые авиабилеты один раз в\"\r\n            name=\"interval\"\r\n            onChange={this.onChange}\r\n          >\r\n            <option value=\"60\">1 час</option>\r\n            <option value=\"240\">4 часа</option>\r\n            <option value=\"480\">8 часов</option>\r\n            <option value=\"1440\">24 часа</option>\r\n          </Select>\r\n\r\n          <Select\r\n            top=\"Получать информацию за крайние N, часов\"\r\n            name=\"updated\"\r\n            onChange={this.onChange}\r\n            defaultValue=\"60\"\r\n          >\r\n      <option value=\"60\">1 час</option>\r\n      {Number(interval) > 60 ? <option value=\"120\">2 часа</option> : null}\r\n      {Number(interval) > 60 ? <option value=\"180\">3 часа</option> : null}\r\n      {Number(interval) > 60 ? <option value=\"240\">4 часа</option> : null}\r\n      {Number(interval) > 240 ? <option value=\"240\">5 часов</option> : null}\r\n      {Number(interval) > 240 ? <option value=\"240\">6 часов</option> : null}\r\n      {Number(interval) > 240 ? <option value=\"240\">7 часов</option> : null}\r\n      {Number(interval) > 240 ? <option value=\"240\">8 часов</option> : null}\r\n      </Select>\r\n\r\n          <Select\r\n            top=\"Сколько дешевых авиабилетов показывать в сутки?\"\r\n            name=\"limit\"\r\n            defaultValue=\"0\"\r\n          >\r\n            <option value=\"0\">все</option>\r\n            <option value=\"20\">20</option>\r\n            <option value=\"50\">50</option>\r\n            <option value=\"100\">100</option>\r\n            <option value=\"300\">300</option>\r\n          </Select>\r\n                     \r\n         \r\n          <Select\r\n            top=\"Язык\"\r\n            name=\"language\"\r\n            onChange={this.onChange}\r\n            value={language}\r\n          >\r\n            {\r\n              Object.keys(LANGUAGES).map((language) => \r\n                <option value={language} key={language}>\r\n                  {LANGUAGES[language]}\r\n                </option>\r\n              )\r\n            }\r\n          </Select>\r\n          <Select\r\n            top=\"Валюта в билете\"\r\n            name=\"currency\"\r\n            onChange={(e) => {this.onChange(e); this.setState({randomCost:true, costMin:CURRENCY[e.currentTarget.value].min, costMax:CURRENCY[e.currentTarget.value].max})}}\r\n            value={currency}\r\n          >\r\n            {\r\n              Object.keys(CURRENCY).map((currency) => \r\n                <option value={currency} key={currency}>\r\n                  {CURRENCY[currency].name}\r\n                </option>\r\n              )\r\n            }\r\n          </Select>\r\n          <Select\r\n            top=\"Валюта покупки\"\r\n            name=\"currencyForUrl\"\r\n            onChange={this.onChange}\r\n            value={currencyForUrl}\r\n          >\r\n            {\r\n              Object.keys(CURRENCY).map((currency) => \r\n                <option value={currency} key={currency}>\r\n                  {CURRENCY[currency].name}\r\n                </option>\r\n              )\r\n            }\r\n          </Select>\r\n\r\n          <FormLayoutGroup top={\"Выберите минимальную и максимальную стоимость авиабилетов, \" + currency}>\r\n          \r\n\r\n           <SimpleCell after={\r\n                       <Switch\r\n                       checked={randomCost}\r\n                       onChange={(e) => {\r\n                         this.setState({\r\n                           costMin: e.currentTarget.checked ? CURRENCY[currency].min : costMin,\r\n                           costMax: e.currentTarget.checked ? CURRENCY[currency].max : costMax,\r\n                           randomCost: e.currentTarget.checked\r\n                         })\r\n                       }}\r\n                     />\r\n           }>любая</SimpleCell>\r\n            \r\n           {!randomCost &&\r\n          <RangeSlider\r\n            top={costMin + \" - \" + costMax}\r\n            min={CURRENCY[currency].min}\r\n            max={CURRENCY[currency].max}\r\n            step={100}\r\n            defaultValue={[CURRENCY[currency].min, CURRENCY[currency].max]}\r\n            value={[costMin, costMax]}\r\n            onChange={(value) => {\r\n              this.setState({\r\n                costMin: value[0],\r\n                costMax: value[1],\r\n                randomCost: false\r\n              })\r\n            }}\r\n          />\r\n          }\r\n          {!randomCost &&\r\n          <div style={{ display: 'flex' }}>\r\n            <Input\r\n              onFocus={() => {\r\n                console.log('focus')\r\n              }}\r\n              value={costMin}\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                const value = parseInt(e.currentTarget.value, 10)\r\n                if(value){\r\n                  if(value < costMax && value >= CURRENCY[currency].min){\r\n                    this.setState({ costMin: value })\r\n                  }\r\n                }\r\n              }}\r\n            />\r\n            <Input\r\n              value={costMax}\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                const value = parseInt(e.currentTarget.value, 10)\r\n                if(value){\r\n                  if(value > costMin && value <= CURRENCY[currency].max){\r\n                    this.setState({ costMax: value })\r\n                  }\r\n                }\r\n              }}\r\n            />\r\n          </div>\r\n  }\r\n          </FormLayoutGroup> \r\n          <Select name='profitability' onChange={this.onChange} top=\"Показывать авиабилеты только с выгодой больше, %\">\r\n            <option value='30'>30</option>\r\n            {(state.my_groups.length+state.countDB) >= 2 && <option value='30'>40</option>}\r\n            {(state.my_groups.length+state.countDB) >= 5 && <option value='30'>50</option>}\r\n            {(state.my_groups.length+state.countDB) >= 10 && <option value='30'>60</option>}\r\n            {(state.my_groups.length+state.countDB) >= 15 && <option value='30'>70</option>}\r\n            {(state.my_groups.length+state.countDB) >= 15 && <option value='30'>80</option>}\r\n            {(state.my_groups.length+state.countDB) >= 15 && <option value='30'>90</option>}\r\n          </Select>\r\n          <FormLayoutGroup top=\"Хочу вылететь в определенный день недели\">\r\n              <SimpleCell after={<Switch checked={this.state.allDays} name='all' onChange={(e) => {if(!((state.my_groups.length+state.countDB) < 5)) this.onChangeDays(e); else this.props.openModal('info_status')}} />}>в любой</SimpleCell>\r\n              {!this.state.allDays &&\r\n              <div>\r\n                <SimpleCell after={<Switch name='0' onChange={this.onChangeDays} checked={days[0] || this.state.allDays} />}>понедельник</SimpleCell>\r\n                <SimpleCell after={<Switch name='1' onChange={this.onChangeDays} checked={days[1] || this.state.allDays} />}>вторник</SimpleCell>\r\n                <SimpleCell after={<Switch name='2' onChange={this.onChangeDays} checked={days[2] || this.state.allDays} />}>среда</SimpleCell>\r\n                <SimpleCell after={<Switch name='3' onChange={this.onChangeDays} checked={days[3] || this.state.allDays} />}>четверг</SimpleCell>\r\n                <SimpleCell after={<Switch name='4' onChange={this.onChangeDays} checked={days[4] || this.state.allDays} />}>пятница</SimpleCell>\r\n                <SimpleCell after={<Switch name='5' onChange={this.onChangeDays} checked={days[5] || this.state.allDays} />}>суббота</SimpleCell>\r\n                <SimpleCell after={<Switch name='6' onChange={this.onChangeDays} checked={days[6] || this.state.allDays} />}>воскресенье</SimpleCell>\r\n                \r\n              \r\n              \r\n              \r\n              \r\n              \r\n              \r\n              </div>\r\n              }\r\n          </FormLayoutGroup>  \r\n          <FormLayoutGroup top=\"Температура воздуха днем в день прилета, C\">\r\n              <SimpleCell after={          \r\n          <Switch\r\n            checked={randomTempDay}\r\n            onChange={(e) => {\r\n              if(!((state.my_groups.length+state.countDB) < 1)) \r\n              this.setState({\r\n                dayTempMin: e.currentTarget.checked ? -50 : dayTempMin,\r\n                dayTempMax: e.currentTarget.checked ?  50 : dayTempMax,\r\n                randomTempDay: e.currentTarget.checked\r\n              });\r\n              else this.props.openModal('info_status')\r\n            }}\r\n          />}>\r\n                любая\r\n              </SimpleCell>\r\n\r\n            \r\n         {!randomTempDay &&\r\n          <RangeSlider\r\n            min={-50}\r\n            max={50}\r\n            step={1}\r\n            defaultValue={[-50, 50]}\r\n            value={[dayTempMin, dayTempMax]}\r\n            onChange={(value) => {\r\n              this.setState({\r\n                dayTempMin: value[0],\r\n                dayTempMax: value[1],\r\n                randomTempDay: false\r\n              })\r\n            }}\r\n          />\r\n          }\r\n          {!randomTempDay &&\r\n          <div style={{ display: 'flex' }}>\r\n            <Input\r\n              onFocus={() => {\r\n                console.log('focus')\r\n              }}\r\n              value={dayTempMin}\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                const value = parseInt(e.currentTarget.value, 10)\r\n                if(value){\r\n                  if(value < dayTempMax && value >= -50){\r\n                    this.setState({ dayTempMin: value })\r\n                  }\r\n                }\r\n              }}\r\n            />\r\n            <Input\r\n              value={dayTempMax}\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                const value = parseInt(e.currentTarget.value, 10)\r\n                if(value){\r\n                  if(value > dayTempMin && value <= 50){\r\n                    this.setState({ dayTempMax: value })\r\n                  }\r\n                }\r\n              }}\r\n            />\r\n          </div>\r\n          }     \r\n          </FormLayoutGroup>\r\n          \r\n          <FormLayoutGroup top=\"Температура воздуха ночью в день прилета, C\">     \r\n            <SimpleCell after={\r\n                         <Switch\r\n                         checked={randomTempNight}\r\n                         onChange={(e) => {\r\n                          if(!((state.my_groups.length+state.countDB) < 1)) \r\n                           this.setState({\r\n                             nighTempMin: e.currentTarget.checked ? -50 : nighTempMin,\r\n                             nighTempMax: e.currentTarget.checked ?  50 : nighTempMax,\r\n                             randomTempNight: e.currentTarget.checked\r\n                           });\r\n                           else this.props.openModal('info_status')\r\n                         }}\r\n                       />\r\n            }>любая</SimpleCell>    \r\n\r\n          {!randomTempNight &&\r\n          <RangeSlider\r\n            min={-50}\r\n            max={50}\r\n            step={1}\r\n            defaultValue={[-50, 50]}\r\n            value={[nighTempMin, nighTempMax]}\r\n            onChange={(value) => {\r\n              this.setState({\r\n                nighTempMin: value[0],\r\n                nighTempMax: value[1],\r\n                randomTempNight: false\r\n              })\r\n            }}\r\n          />\r\n          }\r\n          {!randomTempNight && \r\n           <div style={{ display: 'flex' }}>\r\n            <Input\r\n              onFocus={() => {\r\n                console.log('focus')\r\n              }}\r\n              value={nighTempMin}\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                const value = parseInt(e.currentTarget.value, 10)\r\n                if(value){\r\n                  if(value < nighTempMin && value >= -50){\r\n                    this.setState({ nighTempMin: value })\r\n                  }\r\n                }\r\n              }}\r\n            />\r\n            <Input\r\n              value={nighTempMax}\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                const value = parseInt(e.currentTarget.value, 10)\r\n                if(value){\r\n                  if(value > nighTempMax && value <= 50){\r\n                    this.setState({ nighTempMax: value })\r\n                  }\r\n                }\r\n              }}\r\n            />\r\n          </div>\r\n            }\r\n          </FormLayoutGroup>\r\n          <Button mode='primary' size='xl' onClick={this.sort_res}>Подписаться</Button>\r\n        </FormLayout>\r\n        {this.state.snackbar}\r\n      </Panel>\r\n    )\r\n  }\r\n}\r\n\r\nexport default EditSettings \r\n","import React, { Component } from 'react';\r\nimport { Panel, PanelHeader, List, SimpleCell, ScreenSpinner, PanelSpinner } from '@vkontakte/vkui';\r\nimport { VKMiniAppAPI } from '@vkontakte/vk-mini-apps-api';\r\nimport bridge from '@vkontakte/vk-bridge'\r\n\r\nconst api = new VKMiniAppAPI();\r\n \r\nexport default class Admin extends Component {\r\n    state = {\r\n        data:[]\r\n    }\r\n\r\n    componentDidMount() {\r\n        api.getAccessToken(this.props.state.appId, 'groups')\r\n        .then(accessToken => {\r\n            bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\r\n                method: \"groups.get\",\r\n                params: {\r\n                  access_token: accessToken.accessToken,\r\n                  filter: \"admin\",\r\n                  extended:1,\r\n                  v: 5.107\r\n                },\r\n              })\r\n            .then(response => {\r\n                this.setState({ data: response.response.items})\r\n            }).catch(err => console.log(err))\r\n        })\r\n    }\r\n\r\n\r\n\r\n    action = (item, index) => {\r\n        this.props.setPopout(<ScreenSpinner />)\r\n        bridge.send(\"VKWebAppGetCommunityToken\", {app_id: this.props.state.appId, group_id: item.id, scope: \"manage,messages\"})\r\n        .then((token) => {\r\n            bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\r\n                method: \"groups.getCallbackConfirmationCode\",\r\n                params: {\r\n                  access_token: token.access_token,\r\n                  group_id: item.id,\r\n                  v: 5.107\r\n                },\r\n              }).then(res => {\r\n                fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/setup-confirmation\", {\r\n                    \"headers\": {\r\n                      \"accept\": \"*/*\",\r\n                      \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\r\n                      \"content-type\": \"application/json;charset=utf-8\",\r\n                    },\r\n                    \"body\": JSON.stringify({\r\n                        confirmation_code: res.response.code\r\n                    }),\r\n                    \"method\": \"POST\",\r\n                  })\r\n                  .then(response => response.json())\r\n                  .then(data => {\r\n                    fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-chat\", {\r\n                        \"headers\": {\r\n                          \"accept\": \"*/*\",\r\n                          \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\r\n                          \"content-type\": \"application/json;charset=utf-8\",\r\n                        },\r\n                        \"body\": JSON.stringify({\r\n                            id:item.id,\r\n                            token: token.access_token\r\n                        }),\r\n                        \"method\": \"POST\",\r\n                      })\r\n                      .then(response => response.json())\r\n                      .then(res => {\r\n                        this.state.data.splice(index, 1, {...item, act:true});\r\n                        this.props.setPopout(null)\r\n                      }) \r\n                  })\r\n              })\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        const { id } = this.props;\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader>Админка</PanelHeader>\r\n                {this.props.state.data.length == 0 ? <PanelSpinner />:\r\n                <List>\r\n                    {this.state.data.map((item, index) =>\r\n                        <SimpleCell onClick={() => this.action(item, index)} indicator={item.act ? \"активна\":'не активна'}>{item.name}</SimpleCell>\r\n                    )}\r\n                </List>\r\n                }\r\n            </Panel>\r\n        )\r\n    }\r\n}","import  React, { Component } from 'react';\r\nimport vkQr from '@vkontakte/vk-qr';\r\n\r\nexport default class QR extends Component {\r\n    componentDidMount() { \r\n        const qrSvg = vkQr.createQR('https://vk.com/' + this.props.state.currentGroup.code, {\r\n            qrSize: 256,\r\n            isShowLogo: true\r\n          });\r\n        const script = document.createElement('div') \r\n        script.innerHTML = qrSvg;\r\n        this.scriptTag.appendChild(script) \r\n        }\r\n        \r\n        render() { \r\n        return ( \r\n        <div ref={ref => (this.scriptTag = ref)} /> \r\n        ) \r\n        } \r\n        \r\n}","import React, { Component } from 'react'\r\nimport { Panel, PanelHeader, PanelHeaderBack, Div, Input, List, SimpleCell, Placeholder } from '@vkontakte/vkui'\r\nimport Icon24Done from '@vkontakte/icons/dist/24/done';\r\n\r\nexport class ChooseCountryByContinentp extends Component {\r\n  state = {\r\n    inp: this.props.default,\r\n    list:null\r\n  }\r\n\r\n  onChange = (e) => {\r\n    const search = e.currentTarget.value.toLowerCase();\r\n    fetch(`https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/countries/byContinent/${\r\n      this.props.state.continentDst\r\n    }`)\r\n    .then(response => response.json())\r\n    .then(list => {\r\n\r\n        let arr = list.map((item) => { return item.nameTranslations.ru});\r\n        let resArr = arr.filter((name) => name.toLowerCase().indexOf(search) > -1);\r\n        console.log(resArr);\r\n        this.setState({\r\n          list: resArr\r\n        })\r\n      }\r\n    )\r\n  }\r\n\r\n  onChoose = (country_name) => {\r\n    this.props.changeFunction(country_name);\r\n    this.props.back()\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      list\r\n    } = this.state\r\n    const {\r\n      id,\r\n      back,\r\n      text\r\n    } = this.props\r\n    return (\r\n      <Panel id={id}>\r\n        <PanelHeader\r\n          left={\r\n            <PanelHeaderBack onClick={back} />\r\n          }\r\n        >{text}</PanelHeader>\r\n        <Div>\r\n          <Input\r\n            onChange={this.onChange}\r\n          />\r\n        </Div>\r\n        {list === null ? \r\n        <Placeholder>Начните вводить название страны</Placeholder>\r\n        :\r\n        <List>\r\n          {\r\n            list && list.map((item, i) => \r\n              <SimpleCell\r\n                onClick={() => this.onChoose(item)}\r\n                id={item}\r\n                key={i}\r\n                after={\r\n                    item === text && (\r\n                    <Icon24Done />\r\n                  )\r\n                }\r\n              >\r\n                {item}\r\n              </SimpleCell>\r\n            )\r\n          }\r\n        </List>\r\n       }\r\n      </Panel>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ChooseCountryByContinentp;\r\n","import React from 'react'\nimport { Epic, Tabbar, TabbarItem, View, Panel, ModalRoot, ModalPage,  Div, List, Title, FormLayout, Switch, Cell, ScreenSpinner, Button, ModalPageHeader, Card, ConfigProvider, Spinner, Avatar, Link , FormStatus, SimpleCell, IS_PLATFORM_IOS , IS_PLATFORM_ANDROID , PanelHeaderButton, ModalCard } from '@vkontakte/vkui'\nimport bridge from '@vkontakte/vk-bridge'\nimport axios from 'axios';\nimport { VKMiniAppAPI  } from '@vkontakte/vk-mini-apps-api';\n \n\n// icons\nimport Icon28Users3Outline from '@vkontakte/icons/dist/28/users_3_outline';\nimport Icon28Settings from '@vkontakte/icons/dist/28/settings';\nimport Icon28HomeOutline from '@vkontakte/icons/dist/28/home_outline';\nimport Icon28Users from '@vkontakte/icons/dist/28/users';\nimport Icon28Send from '@vkontakte/icons/dist/28/send';\nimport Icon28HelpOutline from '@vkontakte/icons/dist/28/help_outline';\nimport Icon28ServicesOutline from '@vkontakte/icons/dist/28/services_outline';\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\nimport Icon28MenuOutline from '@vkontakte/icons/dist/28/menu_outline';\nimport Icon20GlobeOutline from '@vkontakte/icons/dist/20/globe_outline';\nimport Icon28NarrativeOutline from '@vkontakte/icons/dist/28/narrative_outline';\n\n// panels\nimport Groups from './panels/Groups'\nimport User from './panels/User';\nimport GroupInfo from './panels/GroupInfo';\nimport Catalog from './panels/Catalog'\nimport SectionCatalog from './panels/SectionCatalog'\nimport MySubs from './panels/MySubs'\nimport Services from './panels/Services';\nimport Aviasales from './panels/Aviasales';\nimport Help from './panels/Help';\nimport Friends from './panels/Friends'\nimport Settings from './panels/Settings'\nimport EditSettings from './panels/EditSettings';\nimport Admin from './panels/Admin';\nimport QR from './components/QR';\nimport ChooseCountryByContinent from './components/ChooseCountryByContinent';\nimport SnackbarError from './components/SnackbarError';\n\nconst api  = new VKMiniAppAPI();\n\nconst blue = {\n  color:'var(--accent)'\n}\n\nconst SEASONS_TRANSCRIPTION = {\n  'all': 'любое',\n  'winter': 'зима',\n  'spring': 'весна',\n  'summer': 'лето',\n  'fall': 'осень',\n};\nconst MONTHS_TRANSCRIPTION = {\n  0: 'любой',\n  1: 'январь', 2: 'февраль', 3: 'март', 4: 'апрель',\n  5: 'май', 6: 'июнь', 7: 'июль', 8: 'август',\n  9: 'сентябрь', 10: 'октябрь', 11: 'ноябрь', 12: 'декабрь',\n};\n\nconst CONTINENTS = {\n  'random': 'любая',\n  'E': 'Европа',\n  'F': 'Африка',\n  'O': 'Океания',\n  'A': 'Азия',\n  'S': 'Южная Америка',\n  'N': 'Северная Америка',\n};\n\nconst PASSENGERS = {\n  url: \"1 пассажир, экономкласс\",\n  url1Business: \"1 пассажир, бизнес-класс\",\n  url2Passengers: \"2 пассажира, экономкласс\",\n  urlForma: \"открытая редактируемая форма поиска\"\n}\n\nconst CURRENCY = {\n  AZN: \"манат\",\n  BYN: \"беларусский рубль\",\n  CNY: \"юань\",\n  EUR: \"евро\",\n  KGS: \"сом\",\n  KZT: \"тенге \",\n  RUB: \"рубль \",\n  THB: \"бат\",\n  UAH: \"гривна\",\n  USD: \"доллар\",\n  UZS: \"сум\"\n}\n\nconst CURRENCY1 = {\n  AZN: \"манат\",\n  BYN: \"беларусских рублей\",\n  CNY: \"юань\",\n  EUR: \"евро\",\n  KGS: \"сом\",\n  KZT: \"тенге \",\n  RUB: \"рублей\",\n  THB: \"бат\",\n  UAH: \"гривна\",\n  USD: \"доллар\",\n  UZS: \"сум\"\n}\n\nconst LANGUAGES = {\n  de: \"немецкий\",\n  en: \"английский\",\n  es: \"испанский\",\n  fr: \"французский\",\n  it: \"итальянский\",\n  ru: \"русский\",\n  th: \"тайский\",\n  tr: \"турецкий\"\n}\n//https://appvk.flights.ru/?vk_access_token_settings=groups&vk_app_id=7453233&vk_are_notifications_enabled=0&vk_group_id=194458223&vk_is_app_user=1&vk_is_favorite=0&vk_language=ru&vk_platform=desktop_web&vk_ref=other&vk_user_id=267319094&vk_viewer_group_role=admin&sign=47OlYAJq9Er-BJcvHTQ9RIlZkCGgh9d36tj519NRcGU\n\nclass App extends React.Component {\n  state = {\n    activeStory: 'about',\n    activePanel: 'home',\n    theme: 'bright_light',\n    activeModal: null,\n    popout: null,\n    currentCatalog: 0,\n    currentGroup:\"\",\n    catalog:null,\n    appId: null,\n    user:{},\n    marker:122890,\n    marker_ozon:'uvw34jlz',\n    marker_aviakassa:1543,\n    is_first:true,\n    is_admin:false,\n    is_meta:false,\n    activeTab: 'groups',\n    countGroups:null,\n    countDB:0,\n    my_groups:[],\n    history:[{}],\n\n    form:null, //state для проброса значений из редактора подписки(база данных)\n    obj:{\n      from:[],\n      to:[],\n      all:false\n    } , //state для проброса значений из создания и редоктирования подписки база данных\n    data:[],\n  }\n\n  componentDidMount() {\n    // Получаем данные о пользователе и каналы\n    api.initApp();\n    api.onUpdateConfig(this.setTheme)\n    this.setPopout(<ScreenSpinner />)\n    bridge.sendPromise(\"VKWebAppGetUserInfo\")\n    .then(user => {\n      if(user.id == 267319094) {\n        this.setState({ is_admin:true})\n      }\n        this.setState({\n          activeStory:'subscribes',\n          appId: parseInt(window.location.href.split(\"vk_app_id=\")[1].split(\"&\")[0], 10),\n          user,\n          platform:this.props.platform\n        })\n        this.setPopout(null)\n       }\n      )\n\n      axios.get(\"https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Channels\")\n      .then(async data => {\n        this.setState({ data:data.data})\n        await this.sortData(data.data)\n      })\n          \n  }\n\n  setTheme = (e) => {\n    this.setState({ theme: e.scheme})\n  }\n\n  // Приведение каналов в адекватный вид:\n  // [\n  //   {\n  //     catalog: \"catalog name\",\n  //     to: [\n  //       \"country\",\n  //       {\n  //         \"section\": \"в европу\",\n  //         arr: [\n  //           \"country\"\n  //         ]\n  //       }\n  //     ]\n  //   }\n  // ]\n  sortData = async data => {\n    const catalog = []\n    data.forEach(async item => {\n      let index = catalog.findIndex(a => a.catalog === item.catalog)\n      if(index === -1){\n        catalog.push({\n          catalog: item.catalog,\n          to: []\n        })\n        index = catalog.length-1\n      }\n      if(item.section){\n        const sectionIndex = catalog[index].to.findIndex(a => a.section === item.section)\n        if(sectionIndex === -1){\n          catalog[index].to.push({\n            section: item.section,\n            arr: [item]\n          })\n        }else{\n          catalog[index].to[sectionIndex].arr.push(item)\n        }\n      }else{\n        catalog[index].to.push(item)\n      }\n    })\n    catalog.shift()\n    catalog.splice(catalog.findIndex(a => a.catalog === \"\"),1)\n    this.setState({ catalog })\n  }\n  \n  // Смена табов\n  onStoryChange = (e) => {\n    this.setState({ activeStory: e.currentTarget.dataset.story, activePanel: 'home' })\n  }\n\n  // Рисование попаута\n  setPopout = popout => {\n    this.setState({ popout })\n  }\n\n  // Открытие той или иной части света\n  openCatalog = e => {\n    this.setState({ \n      activePanel: 'catalog',\n      currentCatalog: parseInt(e.currentTarget.id, 10),\n    })\n  }\n  //открытие модалки\n  openModal = modal => {\n    console.log(modal);\n    this.setState({activeModal: modal});\n  }\n // не используется\n  chooseGlobal = ( data) => {\n    console.log(this.state.changeDefaultName, data);\n    this.setState({[this.state.changeDefaultName]: data});\n  }\n\n  // Изменение панели\n  go = activePanel => {\n    this.setState({ activePanel, currentSection: null })\n  }\n\n  // Открыть секцию\n  chooseSection = e => {\n    this.setState({ activePanel: \"sectionCatalog\", currentSection: parseInt(e.currentTarget.id, 10) })\n  }\n\n  save_request = () => {  //сохранение подписки\n    this.setState({ popout: <ScreenSpinner /> });\n    fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-user-api-request\", {\n      \"headers\": {\n        \"accept\": \"*/*\",\n        \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n        \"content-type\": \"application/json;charset=utf-8\",\n      },\n      \"referrer\": \"https://appvk.flights.ru/\",\n      \"referrerPolicy\": \"no-referrer-when-downgrade\",\n      \"body\": JSON.stringify(this.state.item),\n      \"method\": \"POST\",\n    })\n    .then(response => response.json())\n    .then(check => {\n      if(check.response === 'ok'){\n        this.setState({ popout: null,countDB:this.state.countDB+1, activeModal: null, activePanel:'home'});\n        console.log(check);\n      }\n    }).catch(err => {\n        this.setState({snackbar:<SnackbarError close={() => this.setState({snackbar:null})} />})\n        this.setState({ popout: null });\n    })\n  }\n  \n  //редактирование state(Дял формы редактирования и создания подписки на сообщества)\n  onChangeGroups = (name, obj) => {\n    console.log(obj)\n   this.setState({ [name]: obj });\n  }\n\n\n  choose = e => {\n    this.setState({\n      obj:{ ...this.state.obj,\n      [e.currentTarget.name]: this.state.obj[e.currentTarget.name].map((item, i) => {\n        if(i === parseInt(e.currentTarget.id, 10)){\n          item.checked = e.currentTarget.checked\n          return item\n        }else{\n          return item\n        }\n      })\n    }\n    })\n    let bool = true;\n    this.state.obj.from.forEach(element => {\n      if(!element.checked) {\n        bool = false;\n      }\n    });\n    this.state.obj.to.forEach(element => {\n      if(!element.checked) {\n        bool = false;\n      }\n    })\n    this.setState({ obj:{ ...this.state.obj,all:bool }})\n  }\n\n  //открытие группы\n  goGroup = (item) => {\n    this.setState({ currentGroup: item, activePanel:'group'});\n  }\n  //выбераем все для настройки в разделе витрина\n  chooseAll = () => {\n    let bool = !this.state.obj.all;\n    const { from , to} = this.state.obj;\n    this.setState({\n      obj: {\n      ...this.state.obj,\n      from: from.map((item, i) => {  \n          item.checked = bool;\n          return item\n      }),\n      to: to.map((item, i) => {  \n        item.checked = bool;\n        return item\n    }), all:bool\n  }\n    })\n  }\n\n  // сохранение подписки(настройка)\n  submit = async () => {\n    const { from, to, name, groupId, screenName } = this.state.obj;\n    const { catalog, currentCatalog, currentSection, user} = this.state;\n    this.setPopout(<ScreenSpinner />);\n    if(from.filter((item) => item.checked).length > 0 && \n      to.filter((item) => item.checked).length > 0\n    ){\n      let arr = []\n      arr = arr.concat(from.filter((item) => item.checked)\n      .map((item) => item.tag+\"/\"+groupId+\"/\"+name+\"/\"+catalog[currentCatalog].catalog+\"/\"+(currentSection ? currentSection : \"Любой\")))\n      arr = arr.concat(to.filter((item) => item.checked)\n      .map((item) => item.tag+\"/\"+groupId+\"/\"+name+\"/\"+catalog[currentCatalog].catalog+\"/\"+(currentSection ? currentSection : \"Любой\")))\n\n      fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-tags\", {\n        \"headers\": {\n          \"accept\": \"*/*\",\n          \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n          \"content-type\": \"application/json;charset=utf-8\",\n        },\n        \"body\": JSON.stringify({\n          user_id: String(user.id)\n        }),\n        \"method\": \"POST\",\n      })\n      .then(response => response.json())\n      .then(data => {\n        if(data.tags.length > 0){\n          arr = arr.concat(\n            data.tags.map((item) => \n              item.body+\"/\"+item.group_id+\"/\"+item.group_name+\"/\"+item.category+\"/\"+item.section\n            )\n          )\n        }\n        fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-tags\", {\n          \"headers\": {\n            \"accept\": \"*/*\",\n            \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n            \"content-type\": \"application/json;charset=utf-8\",\n          },\n          \"referrer\": \"https://appvk.flights.ru/\",\n          \"referrerPolicy\": \"no-referrer-when-downgrade\",\n          \"body\": JSON.stringify({\n            user_id: String(user.id),\n            checkbox: arr\n          }),\n          \"method\": \"POST\",\n        })\n        .then(response => response.json())\n        .then(check => {\n          if(check.response === 'ok'){\n            let arr = this.state.my_groups.push(screenName)\n            console.log(this.state.my_groups);\n            this.setState({ popout: null, activeModal: null});\n          }\n        })\n      })\n    }\n  }\n  //получаем статус\n  getStatus(n) {\n    let name = 'Посетитель'\n     if(n == 0 || n == 1) {\n         return 'Посетитель';\n     }else if(n >= 2 && n < 5) {\n         return 'Пользователь'\n     } else if(n >=5 && n < 10) {\n         return 'Опытный пользователь'\n     } else if(n >=10 && n < 15) {\n         return 'Путешественник'\n     } else {\n         return 'Опытный путешественник'\n     }\n\n  }\n\n  render () {\n    const {\n      activePanel,\n      popout,\n      defaultCountry,\n      chooseCountryText,\n      changeFunction,\n      changeDefaultName,\n      friend,\n      calendar,\n      item\n    } = this.state\n    const {\n      from,\n      to,\n      all\n    } = this.state.obj;\n    return (\n      <ConfigProvider isWebView={true} scheme={this.state.theme}>\n      <Epic activeStory={this.state.activeStory}  tabbar={\n        <Tabbar>\n          <TabbarItem\n            onClick={this.onStoryChange}\n            selected={this.state.activeStory === 'about'}\n            data-story=\"about\"\n            text=\"Помощь\"\n          ><Icon28HelpOutline /></TabbarItem>\n          <TabbarItem\n            onClick={this.onStoryChange}\n            selected={this.state.activeStory === 'subscribes'}\n            data-story=\"subscribes\"\n            text=\"Подписки\"\n          ><Icon28NarrativeOutline /></TabbarItem>\n          <TabbarItem\n            onClick={this.onStoryChange}\n            selected={this.state.activeStory === 'friends'}\n            data-story=\"friends\"\n            text=\"Друзья\"\n          ><Icon28Users /></TabbarItem>\n          <TabbarItem\n            onClick={this.onStoryChange}\n            selected={this.state.activeStory === 'aviasales'}\n            data-story=\"aviasales\"\n            text=\"Авиабилеты\"\n          ><Icon28Send /></TabbarItem>\n          <TabbarItem\n            onClick={this.onStoryChange}\n            selected={this.state.activeStory === 'services'}\n            data-story=\"services\"\n            text=\"Сервисы\"\n          ><Icon28ServicesOutline /></TabbarItem>\n          {this.state.is_admin && <TabbarItem\n            onClick={this.onStoryChange}\n            selected={this.state.activeStory === 'admin'}\n            data-story=\"admin\"\n            text=\"Админ\">\n              \n          </TabbarItem>}\n        </Tabbar>\n      }>\n\n        <View id='about' activePanel={activePanel} popout={popout} modal={\n          <ModalRoot activeModal={this.state.activeModal}>\n            <ModalCard \n              id='status'\n              onClose={() => this.setState({ activeModal: null })}\n              header={this.state.user.first_name + \" \" + this.state.user.last_name}\n              icon={<Avatar size={96} src={this.state.user.photo_200}/>}\n              caption={<span>{this.state.user.city && this.state.user.city.title}<br />{\"текущий статус - \" + this.getStatus(this.state.countDB + this.state.my_groups.length)}<br />Подписки на дешевые авиабилеты<br />Раздел \"витрина\" - {this.state.my_groups.length}<br />Раздел \"Мой выбор\" - {this.state.countDB}<br />Всего подписок - {(this.state.countDB + this.state.my_groups.length)}<br /><Link>Подробнее...</Link></span>}\n            />\n          </ModalRoot>\n        }>\n            <Help id='home' \n                  onChangeGroups={this.onChangeGroups}\n                  state={this.state} \n                  openModal={this.openModal}\n                  setPopout={this.setPopout}/>\n\n        </View>\n\n       <View id='services' activePanel={activePanel} popout={popout}>\n          <Services \n            id='home'\n            setPopout={this.setPopout}\n            state={this.state}\n          />\n       </View>\n\n        <View id=\"subscribes\" activePanel={activePanel} popout={popout} modal={\n        <ModalRoot activeModal={this.state.activeModal}>\n          <ModalPage id='subscribeCities' onClose={() => this.setState({ activeModal:null, obj:{to:[], from:[], all:false}} )} dynamicContentHeight settlingHeight={100} header={<ModalPageHeader>Настройка</ModalPageHeader>}>\n          <div style={{ position: \"relative\", textAlign: \"left\", overflowX: \"hidden\", overflowY: \"auto\", backgroundColor:'#fff' }} className=\"SubscribeCities\">\n          <Cell indicator={<Switch checked={all || (!all && from.findIndex(t => t.checked == false) == -1 && to.findIndex(t => t.checked == false) == -1)} onChange={this.chooseAll}/>}>Показывать все</Cell>\n          <Div style={{ paddingTop: 0 }}>\n          <Title level=\"3\" weight=\"bold\" style={{ paddingBottom: '11px', paddingTop: 11}}>Показывать авиабилеты из</Title>\n            {\n              from && (\n                from.map((item, index) => \n                  <SimpleCell style={{ padding: 0}} after={                  \n                  <Switch\n                    key={index}\n                    id={index}\n                    name=\"from\"\n                    onChange={this.choose}\n                    checked={item.checked}\n\n                  />}>\n                    {item.tag.split(\"#\")[1].split(\"@\")[0]}\n                  </SimpleCell>         \n                )\n              )\n            }\n            <Title level=\"3\" weight=\"bold\" style={{ padding: '11px 0'}}>Показывать авиабилеты в</Title>\n            {\n              to && (\n                to.map((item, index) => \n                <SimpleCell style={{ padding: 0}} after={                  \n                  <Switch\n                    key={index}\n                    id={index}\n                    name=\"to\"\n                    onChange={this.choose}\n                    checked={item.checked}\n\n                  />}>\n                    {item.tag.split(\"#\")[1].split(\"@\")[0]}\n                  </SimpleCell>   \n                )\n              )\n            } \n          </Div>\n          <Div style={{ paddingTop:8}}>\n          <Button size='xl' onClick={this.submit} disabled={from.findIndex(t => t.checked == true) === -1 && to.findIndex(t => t.checked == true) == -1}>Применить</Button>\n          </Div>\n        </div>\n          </ModalPage>\n          <ModalPage id='confirm_settings' header={<ModalPageHeader>Подтверждение</ModalPageHeader>} onClose={() => this.setState({ activeModal: null})} settlingHeight={100}>\n      \n              {item && \n              <Card size=\"l\" mode=\"shadow\">\n                  <Div style={{ padding: '20px', lineHeight: 1.5 }}>\n                    Из страны <b style={blue}>{\n                    (item.output).countrySrc ? (item.output).countrySrc : \"любая\"\n                    }</b> и города <b style={blue}>{(item.output).citySrc ? (item.output).citySrc : \"любой\"}</b><br />\n                    В часть света <b style={blue}>{CONTINENTS[(item.output).continentDst]}</b> и страну <b  style={blue}>{(item.output).countryDst ? (item.output).countryDst : \"любая\"}</b><br />\n                    В город <b  style={blue}>{(item.output).cityDst ? (item.output).cityDst : \"любой\"}</b><br />\n                    {\n                      (item.output).dates.map((item, i) => \n                        <div key={i}>\n                          <div style={{ color: 'var(--tabbar_inactive_icon)' }}>Период вылета {i+1}</div>\n                          год <b  style={blue}>{item.year}</b><br />\n                          {item.month == '0' && <span>время года <b  style={blue}>{SEASONS_TRANSCRIPTION[item.season]}</b><br /></span>}\n                          месяц <b  style={blue}>{MONTHS_TRANSCRIPTION[item.month]}</b><br />\n                        </div>    \n                      )\n                    }<br />\n                    Направление полетов: туда-обратно - <b  style={blue}>{(item.output).dual ? \"да\" : \"нет\"}</b><br />\n                    Направление полетов: туда - <b  style={blue}>{(item.output).forward ? \"да\" : \"нет\"}</b><br />\n                    Пассажиры <b style={blue}>{PASSENGERS[(item.output).passengers]}</b><br />\n                    Цена от <b style={blue}>{(item.output).costMin}</b> до <b style={blue}>{(item.output).costMax}</b> {CURRENCY1[(item.output).currency]}<br />\n\n                    Период показа <b style={blue}>{(item.output).interval}</b> минут<br />\n                    Глубина поиска <b style={blue}>{(item.output).updated}</b> минут<br />\n                    Максимальное количество билетов за 24 часа <b style={blue}>{(item.output).limit === \"0\" ? \"все\" : (item.output).limit}</b><br />\n                    Язык <b style={blue}>{LANGUAGES[(item.output).language]}</b><br />\n                    Валюта (цена) <b style={blue}>{CURRENCY[(item.output).currency]}</b><br />\n                    Валюта (метапоисковика) <b style={blue}>{CURRENCY[(item.output).currencyForUrl]}</b><br />\n                    {\n                      (item.output).optional && (\n                        <div><br />\n                          <div style={{ color: 'var(--tabbar_inactive_icon)' }}>Дополнительные параметры</div>\n                          {\n                            (item.output).profitability && (\"Выгодность покупки больше \")\n                          }\n                          {\n                            (item.output).profitability && \n                            <b style={blue}>{(item.output).profitability+\"%\"}</b>\n                          }<br />\n                          Дни недели вылета <b style={blue}>{\n                            ((days) => {\n                              const daysOfWeek = [\n                                \"вс\",\n                                \"пн\",\n                                \"вт\",\n                                \"ср\",\n                                \"чт\",\n                                \"пт\",\n                                \"сб\"\n                              ]\n                              let check = 0;\n                              days.every((element, index, array) => {\n                                  check++;\n                                  return element === true;\n                              });\n                              if (check === 7) {\n                                  return 'все';\n                              }\n                              let res = '';\n                              for (let index = 1; index < days.length; index++) {\n                                  if (days[index]) {\n                                      res += daysOfWeek[index].toLowerCase() + ', ';\n                                  }\n                              }\n                              res += daysOfWeek[0].toLowerCase();\n                              return res;\n                            })((item.output).days)\n                          }</b><br />\n                          {\n                            (item.output).showAddionalWeather && (\n                              <div>\n                                Прогноз погоды в день прилета<br />\n                                Днем от <b style={blue}>{(item.output)['dayTemp.min']}</b> С до <b style={blue}>+{(item.output)['dayTemp.max']}</b> С<br />\n                                Ночью от <b style={blue}>{(item.output)['nightTemp.min']}</b> С до <b style={blue}>+{(item.output)['nightTemp.max']}</b> С<br />\n                              </div>\n                            )\n                          }\n                        </div>\n                      )\n                    }\n                  </Div>\n                    <Div>\n                      <Button size='xl' onClick={this.save_request}>Подписаться</Button>  \n                    </Div>\n\n                    <Div>\n                      <Button style={{ border: '1px solid var(--accent)'}} mode='secondary' size='xl' onClick={() => this.setState({activeModal:null})}>Редактировать</Button>\n                    </Div>\n                          \n                </Card>\n              }\n            </ModalPage>\n          <ModalCard id='info_status' onClose={() => this.setState({ activeModal: null })}\n                     caption={<div>{'Выбор этого параметра доступен, начиная со статуса \"опытный пользователь\"'}<br /><Link onClick={() => this.setState({ activeStory: 'about', activePanel:'home' })}>подробнее...</Link></div> }\n                     header={this.state.user.first_name + \" \" + this.state.user.last_name} />\n          <ModalCard id='qr' onClose={() => this.setState({ activeModal: null})} icon={<QR state={this.state}/>} />\n            \n          <ModalPage id='menu_map' onClose={() => this.setState({ activeModal: null})} settlingHeight={100} header={<ModalPageHeader>Карта полетов</ModalPageHeader>}>\n            <List>\n        <SimpleCell before={<Icon28MenuOutline />}  target='_blank' href='https://vk.com/page-192548341_54391753'>\n        из Москвы\n        </SimpleCell>\n        <SimpleCell before={<Icon28MenuOutline />}  target='_blank' href='https://vk.com/page-192548341_54391754'>\n        из Санкт-Петербурга \n        </SimpleCell>\n        <SimpleCell before={<Icon28MenuOutline />}  target='_blank' href='https://vk.com/page-192548341_54356637'>\n        из России\n        </SimpleCell>\n        <SimpleCell before={<Icon28MenuOutline />}  autoclose target='_blank' href='https://vk.com/page-192548341_54350351'>\n        из СНГ и Украины\n        </SimpleCell>\n        <SimpleCell before={<Icon28MenuOutline />} target='_blank' href='https://vk.com/page-192548341_54349630'>\n        из Европы\n        </SimpleCell>\n        <SimpleCell before={<Icon20GlobeOutline height={28} width={28}/>} autoclose target='_blank' href='https://vk.com/page-192548341_54350266'>\n        Северная Америка\n        </SimpleCell>\n        <SimpleCell before={<Icon20GlobeOutline height={28} width={28}/>} target='_blank' href='https://vk.com/page-192548341_54350525'>\n        в Африку\n        </SimpleCell>\n        <SimpleCell before={<Icon20GlobeOutline height={28} width={28}/>} target='_blank' href='https://vk.com/page-192548341_54350558'>\n        в Южную Америку\n        </SimpleCell>\n        <SimpleCell before={<Icon20GlobeOutline height={28} width={28}/>} target='_blank' href='https://vk.com/page-192548341_54350574'>\n        в Центральную Америку\n        </SimpleCell>\n        <SimpleCell before={<Icon20GlobeOutline height={28} width={28}/>} autoclose target='_blank' href='https://vk.com/page-192548341_54350363'>\n        в Азию\n        </SimpleCell>\n        <SimpleCell before={<Icon20GlobeOutline height={28} width={28}/>} target='_blank' href='https://vk.com/page-192548341_54350602'>\n        в Океанию\n        </SimpleCell>\n        <SimpleCell before={<Icon20GlobeOutline height={28} width={28}/>} target='_blank' href='https://vk.com/page-192548341_54350642'>\n        на острова Индийского океана\n        </SimpleCell>\n        <SimpleCell before={<Icon20GlobeOutline height={28} width={28}/>} target='_blank' href='https://vk.com/page-177701331_54004476'>\n        для круизов\n        </SimpleCell>\n            </List>\n          </ModalPage>\n        </ModalRoot>\n      }>\n          <MySubs\n            id=\"home\"\n            state={this.state}\n            go={this.go}\n            onChangeGroups={this.onChangeGroups}\n            onChange={this.onChangeForm}\n            changeFunction={this.chooseGlobal}\n            changeDefaultName={(changeDefaultName) => this.setState({ changeDefaultName }, console.log(changeDefaultName))}\n            openModal={this.openModal}\n            onChangeGroups={this.onChangeGroups}\n            setPopout={this.setPopout}\n          />\n\n          <Settings\n            id=\"settings\"\n            state={this.state}\n            setPopout={this.setPopout}\n            onChangeGroups={this.onChangeGroups}\n            openModal={this.openModal}\n            go={this.go}\n          />\n\n          <EditSettings \n            id='edit_settings'\n            onChangeGroups={this.onChangeGroups}\n            setPopout={this.setPopout}\n            go={this.go}\n            openModal={this.openModal}\n            state={this.state}\n          />\n\n          <Groups\n            id=\"groups\"\n            state={this.state}\n            setPopout={this.setPopout}\n            go={this.go}\n            openCatalog={this.openCatalog}\n          />\n          <Catalog\n            id=\"catalog\"\n            state={this.state}\n            setPopout={this.setPopout}\n            openModal={this.openModal}\n            go={this.go}\n            goGroup={this.goGroup}\n            onChangeGroups={this.onChangeGroups}\n            chooseSection={this.chooseSection}\n          />\n          <SectionCatalog\n            id=\"sectionCatalog\"\n            goGroup={this.goGroup}\n            state={this.state}\n            setPopout={this.setPopout}\n            openModal={this.openModal}\n            onChangeGroups={this.onChangeGroups}\n            go={this.go}\n          />\n\n          <GroupInfo\n            id=\"group\"\n            onChangeGroups={this.onChangeGroups}\n            openModal={this.openModal}\n            go={this.go}\n            setPopout={this.setPopout}\n            state={this.state}\n          />\n\n        </View>\n        <View id=\"friends\" activePanel={activePanel} popout={popout} modal={\n          <ModalRoot activeModal={this.state.activeModal}>\n            <ModalPage id='bullet_to_friend' onClose={() => this.setState({ activeModal: null })} header={<ModalPageHeader>{\"Календарь низких цен\"}</ModalPageHeader>} dynamicContentHeight>\n            {friend == null ? <Spinner />:(\n              <SimpleCell disabled\n                          before={<Avatar src={friend.photo_200}/>}\n                          description={friend.city.title }>{friend.first_name+\" \"+friend.last_name}</SimpleCell>\n            )\n            }\n            \n            {calendar && \n            <div className=\"container\" style={{ paddingLeft: 12, paddingRight: 12}}>\n                {Object.keys(calendar).map((name, day) => \n                <div size='s' className=\"container__item\">\n                  <div align='center'>\n                    <SimpleCell \n                        description={calendar[name].price+\" RUB\"} \n                        target=\"_blank\" \n                        href={\"https://www.aviasales.ru/search?origin_iata=\" + calendar[name].origin + \"&destination_iata=\" + calendar[name].destination + \"&depart_date=\" + calendar[name].departure_at.split('T')[0] + \"&return_date=\" + calendar[name].return_at.split('T')[0] + \"&locale=ru&currency=RUB&with_request=true&adults=1&children=0&infants=0&trip_class=0&expected_price=\"+calendar[name].price+\"&one_way=false&marker=\" + this.state.marker}\n                    >{name.split('-')[2]+\".\"+name.split('-')[1]+\".\"+name.split('-')[0]}</SimpleCell>\n                  </div>\n                </div>\n                )}\n            </div>\n            }\n            \n\n          </ModalPage>\n          </ModalRoot>\n        }>\n          <Friends\n            id=\"home\"\n            state={this.state}\n            setPopout={this.setPopout}\n            go={this.go}\n            openModal={this.openModal}\n            onChangeGroups={this.onChangeGroups}\n          />\n \n        </View>\n        <View id=\"aviasales\" activePanel={activePanel} popout={popout}>\n          <Aviasales id='home' setPopout={this.setPopout} onChangeGroups={this.onChangeGroups} state={this.state} />\n        </View>\n\n        <View id='admin' activePanel={activePanel} popout={popout}>\n          <Admin \n            id='home' \n            state={this.state} \n            setPopout={this.setPopout}\n          />\n        </View>\n      </Epic>\n      </ConfigProvider>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport * as eruda from 'eruda';\nimport * as erudaCode from 'eruda-code';\nimport * as erudaDom from 'eruda-dom';\nimport bridge from '@vkontakte/vk-bridge'\nimport '@vkontakte/vkui/dist/vkui.css';\n \nimport './main.css';\nimport './style.css';\n\nbridge.send(\"VKWebAppInit\", {})\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n\n\neruda.init();\neruda.add(erudaCode);\neruda.add(erudaDom);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAxCAYAAACYq/ofAAAACXBIWXMAAC4jAAAuIwF4pT92AAAEZElEQVR4nO2aa2wUVRTH/7Ovbh9LW2wLYqVRW1tbUmJI2kg3kaRg0aI8NAT9oBYjvmKIadRPIknFfhA1hGDSpFIN+KqvEINppVBpKqKmDVDbUghGyCLaRjawZdt9e86WXTr7KLvT233Ff3IyM2fu7Dm/uXNfs6PxeDwIlMH4RiltGshWkt1NlkUmBRWMjTjBcbIzZF1kbZbeppHAQprpBwRgoM27ZM+QqWKQZCTiG8h5Lbtur1KeH9K2kYAsvkJ+EDq5mDYdZPfEONFoxTf4WTIj5byaYC6w0wtyvSY6ycril1/U4hveSblXcc34aoQfp2SC8Ilz5ty3aIiIG/PmOCc0G20mhp1cI9w7qeOdzSzEuTcwSG28MxGgWgYpjXcWAlTKIIZ4ZyFABgaJ14gtUpLm5mWSQ7MCubfsNtRWFUMlBVeqw+XCFcskRs6PoW/4IiZtjtmEuqkUg2xcVYnWbY9BCgERKOukA/u/78eO1iO4fNWqNOSMUgzS+OT9EUGwMvRabNlQjYdqylC/tQ1/mP5VGjasFIPk5WRGfU3hgmx81vwEaho+gNPpUho6pIQ29q8OD6BvyARe4mg0KtxXWYR6o3wKV35HAdavqMCXXadEhhYHMnD2bzS82S7z7fq0F1sfN+Ktl+pk/pXVJYkLYhq9EtLf8s0v2P78KmjUN9ZpiwrmiQrr15yPI9ztcq81LzPN77NO2IXHmXOQksV5MgjWKXoMRWtOQW7JzsDu19fJfE6XG593nhAeSxjI8qVF6Gl9wX+s06lRcnsedFr5UuftvUdwLpHGkUBlZ+lpyrJoxjK7vziGdz4+KiqkTDGdNG6qW4qfT57Hdz1Dwn9bKIjb7YHZMuHd5+mLIUMHrebGo5VPs4FPdmzCU9va8W337yJDiwO5fHUCy5/eg4vTxhOdVoOND1Ti/caHoddNhWLAXa89gq5fz8JyzSYqvDiQ/mGTDIJldzix/2A/cqj9NL/8oN+fa0jHuhVLsO9gn6jw4kAcTnfYcweODslAWFVLChMTZCaFGslzqFZEKiYgy8oLg3y8epwud+58uIrvYmpoRk5DcjqjijHnIPm5mWh6sS7Iz8tfnxwVFbCt3wCop3o4+9gYMj5qg2SNfDUpDKT8zgLsfGUN3LQY4W5YpZKwYH6Wd8oeONcat9px4MdB776HkrfVr/FDeH35+bDXGJF26IeI4wsDKbo1F889Wh1R2e0th/xrd4+BpvTpwe3FvXBhVPFj/jqI51otXx/3H0sWC831qb3o9bJyqtHRqH43JiD89173b+fQ3NaN4wMXZOcklxNpHR2wrV3Lo+WUz2yG9qfeqGIoBnlvXw8y03Vhz3NbGbfa8OdfZmrYJoyZr4Utqz15AqpLl+AqKaYGTr3W4CAke3SjvmKQPe3HlF4aUurRf7ymVP+/Mk0weVIFxJIqICOpAnI4FUD4JXJbKoDstfQ2nUl2kNNkjbyTzCDDZKt9H9YkIwivqcN/HZTAiuh7rf8Ajg1SzeLytWUAAAAASUVORK5CYII=\""],"sourceRoot":""}