(this.webpackJsonpairlanes=this.webpackJsonpairlanes||[]).push([[0],{223:function(e,t,n){e.exports=n(545)},543:function(e,t,n){},544:function(e,t,n){},545:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(40),c=n.n(o),s=n(7),l=n(24),u=n.n(l),i=n(33),p=n(19),m=n(20),h=n(22),d=n(21),f=n(23),g=n(1),y=n(10),b=n.n(y),E=n(175),v=n.n(E),C=(n(255),n(256),n(176)),k=n.n(C),S=n(177),O=n.n(S),j=n(178),T=n.n(j),P=n(58),x=n.n(P),_=n(179),w=n.n(_),D=n(180),M=n.n(D),A=n(77),N=n.n(A),G=function(e){var t=e.id,n=e.state,a=e.openCatalog,o=e.go;return r.a.createElement(g.z,{id:t},r.a.createElement(g.A,{left:r.a.createElement(g.B,{onClick:function(){return o("home")}})},"\u0421\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430"),null===n.catalog?r.a.createElement(g.D,{size:"large"}):r.a.createElement(g.v,null,n.catalog&&n.catalog.map((function(e,t){return r.a.createElement(g.L,{key:e.catalog,id:t,expandable:!0,onClick:a},e.catalog)}))))},I=n(28),q=(n(257),n(185)),U=n.n(q),F=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.text)}},{key:"render",value:function(){return r.a.createElement(g.M,{onClose:this.props.close,before:r.a.createElement(U.a,{fill:"#FA5728"})},this.props.text?this.props.text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u0441\u043e\u0435\u0434\u0435\u043d\u0435\u043d\u0438\u044f.")}}]),t}(a.Component),J=n(51),B=n.n(J),L=n(57),K=n.n(L),V=(n(102),n(532),n(533),n(534),n(535),n(536),n(537),n(538),n(539),n(186)),W=n.n(V),R=n(187),z=n.n(R),Y=n(188),H=n.n(Y),Z=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={subscribeGroup:{},allowMessages:{},group:null,subscribe:!1,snackbar:null},n.subscribe=function(e){if(e.currentTarget.checked){n.props.setPopout(r.a.createElement(g.I,null));var t=n.props.state;b.a.sendPromise("VKWebAppGetAuthToken",{app_id:t.appId,scope:"wall,groups",request_id:1}).then((function(e){e.access_token&&"wall,groups"===e.scope&&b.a.sendPromise("VKWebAppCallAPIMethod",{method:"groups.getById",request_id:2,params:{group_id:n.props.state.currentGroup.code,access_token:e.access_token,v:5.107}}).then((function(e){b.a.sendPromise("VKWebAppJoinGroup",{group_id:e.response[0].id}).then((function(){fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-groups",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},body:JSON.stringify({user_id:t.user.id,app_id:t.appId,checkbox:e.response[0].id}),method:"POST"}).then((function(){n.props.setPopout(null),n.setState({subscribe:!0})})).catch((function(){n.props.setPopout(null),n.setState({snackbar:r.a.createElement(F,{text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u0441\u043e\u0435\u0434\u0435\u043d\u0435\u043d\u0438\u044f",onClose:function(){return n.setState({snackbar:null})}})})}))})).catch((function(){n.props.setPopout(null),n.setState({snackbar:r.a.createElement(F,{text:"\u0412\u044b \u043d\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043b\u0438\u0441\u044c \u043d\u0430 \u0433\u0440\u0443\u043f\u043f\u0443.",onClose:function(){return n.setState({snackbar:null})}})})}))})).catch((function(){n.props.setPopout(null),n.setState({snackbar:r.a.createElement(F,{text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0433\u0440\u0443\u043f\u043f\u044b",onClose:function(){return n.setState({snackbar:null})}})})}))})).catch((function(){n.props.setPopout(null),n.setState({snackbar:r.a.createElement(F,{text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0442\u043e\u043a\u0435\u043d\u0430",onClose:function(){return n.setState({snackbar:null})}})})}))}},n.subscribeMessages=function(e,t){var a=n.props.state;n.props.setPopout(r.a.createElement(g.I,null)),b.a.sendPromise("VKWebAppGetAuthToken",{app_id:a.appId,scope:"wall,groups",request_id:1}).then((function(a){a.access_token&&"wall,groups"===a.scope&&b.a.sendPromise("VKWebAppCallAPIMethod",{method:"groups.getById",request_id:2,params:{group_id:e,access_token:a.access_token,v:5.107}}).then((function(o){b.a.sendPromise("VKWebAppAllowMessagesFromGroup",{group_id:o.response[0].id,key:"dBuBKe1kFcdemzB"}).then((function(){b.a.sendPromise("VKWebAppCallAPIMethod",{method:"wall.get",request_id:2,params:{domain:e,access_token:a.access_token,v:5.107}}).then(function(){var e=Object(i.a)(u.a.mark((function e(a){var r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],c=[],a.response.items.forEach((function(e){var t=Object(I.a)(e.text.matchAll(/(#.*@.*)/g));if(t.length){if(t.length>2){var n=t[2];c.push(n)}var a=t[0];r.push(a)}})),r=(r=r.map((function(e){return e[0]}))).filter((function(e,t){return r.indexOf(e)===t})),c=(c=c.map((function(e){return e[0]}))).filter((function(e,t){return c.indexOf(e)===t})),s={name:t,id:null,groupId:o.response[0].id,from:c.map((function(e){return{tag:e,checked:!1}})),to:r.map((function(e){return{tag:e,checked:!1}}))},n.props.onChangeGroups("obj",s),n.props.openModal("subscribeCities"),n.props.setPopout(null);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){n.props.setPopout(null),n.setState({snackbar:r.a.createElement(F,{text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0438\u0441\u0435\u0439",onClose:function(){return n.setState({snackbar:null})}})})}))})).catch((function(){n.props.setPopout(null),n.setState({snackbar:r.a.createElement(F,{text:"\u0412\u044b \u043d\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0438\u043b\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",onClose:function(){return n.setState({snackbar:null})}})})}))})).catch((function(){n.props.setPopout(null),n.setState({snackbar:r.a.createElement(F,{text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0433\u0440\u0443\u043f\u043f\u044b",onClose:function(){return n.setState({snackbar:null})}})})}))})).catch((function(){n.props.setPopout(null),n.setState({snackbar:r.a.createElement(F,{text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0442\u043e\u043a\u0435\u043d\u0430",onClose:function(){return n.setState({snackbar:null})}})})}))},n.subscribeMessagesAlert=function(e){var t=e.currentTarget.id.split("com/")[1],a=e.currentTarget.name;n.props.setPopout(r.a.createElement(g.c,{actions:[{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"},{title:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c",autoclose:!0,action:function(){return n.subscribeMessages(t,a)}}],onClose:function(){return n.props.setPopout(null)}},r.a.createElement("p",null,"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0441\u043e \u0441\u0442\u0435\u043d\u044b \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 \u0432 \u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u0435 \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0412\u0430\u043c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u0435 \u0441\u0435\u0439\u0447\u0430\u0441 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435 \u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434\u0430 \u043f\u0440\u0438\u043b\u0435\u0442\u0430 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430.")))},n.openAlert=function(e,t){t.currentTarget.checked?n.subscribeMessages(e.code,e.description):n.props.setPopout(r.a.createElement(g.c,{actions:[{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"},{title:"\u0414\u0430",autoclose:!0,mode:"destructive",action:function(){return n.delete(e.code)}}],onClose:function(){return n.props.setPopout(null)}},r.a.createElement("p",null,"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0441\u043e \u0441\u0442\u0435\u043d\u044b \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 \u0432 \u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u0435 \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0412\u0430\u043c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u0435 \u0441\u0435\u0439\u0447\u0430\u0441 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435 \u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434\u0430 \u043f\u0440\u0438\u043b\u0435\u0442\u0430 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430.")))},n.delete=function(e){n.props.setPopout(r.a.createElement(g.I,null)),fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-tags",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},body:JSON.stringify({user_id:String(n.props.state.user.id)}),method:"POST"}).then((function(e){return e.json()})).then((function(t){t.tags.forEach((function(t){t.body.split("@")[1]==e&&fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/remove-tag",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},referrer:"https://appvk.flights.ru/",referrerPolicy:"no-referrer-when-downgrade",body:JSON.stringify({tag_id:t.id,user_id:n.props.state.user.id}),method:"POST"}).then((function(e){return e.json()})).then((function(e){e.response}))})),n.props.state.my_groups.splice(n.props.state.my_groups.indexOf(e),1),console.log(n.props.state.my_groups.indexOf(e),[]),n.props.setPopout(null)})).catch((function(e){n.props.setPopout(null),n.setState({snackbar:r.a.createElement(F,{close:function(){return n.setState({snackbar:null})}}),data:"error"})}))},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.sendPromise("VKWebAppGetAuthToken",{app_id:this.props.state.appId,scope:"",request_id:1}).then((function(t){b.a.send("VKWebAppCallAPIMethod",{method:"groups.isMember",params:{group_id:e.props.state.currentGroup.code,user_id:e.props.state.user.id,v:"5.120",access_token:t.access_token}}).then((function(n){console.log(n),b.a.send("VKWebAppCallAPIMethod",{method:"groups.getById",params:{group_id:e.props.state.currentGroup.code,fields:"description",v:"5.120",access_token:t.access_token}}).then((function(t){console.log(t),e.setState({group:t.response[0],subscribe:1==n.response})}))}))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.state,o=(t.go,this.state),c=o.group,s=o.subscribe;return r.a.createElement(g.z,{id:n},r.a.createElement(g.A,{left:r.a.createElement(g.B,{onClick:function(){return e.props.onChangeGroups("activePanel",a.currentGroup.source)}})},c&&c.name),null==c?r.a.createElement(g.D,null):r.a.createElement(g.k,null,r.a.createElement(g.L,{before:r.a.createElement(W.a,{fill:"var(--accent)"})},r.a.createElement(g.u,{href:"https://vk.com/team"},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e")),r.a.createElement(g.L,{before:r.a.createElement(z.a,{fill:s?"#0E62F1":"#4BBDE7"}),multiline:!0,after:r.a.createElement(g.O,{checked:s,onChange:this.subscribe})},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u0435\u0448\u0435\u0432\u044b\u0435 \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b \u0432 \u043b\u0435\u043d\u0442\u0443 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439"),r.a.createElement(g.L,{before:r.a.createElement(H.a,{fill:-1===a.my_groups.indexOf(a.currentGroup.code)?"#4BBDE7":"#0E62F1"}),multiline:!0,after:r.a.createElement(g.O,{onChange:function(t){return e.openAlert(a.currentGroup,t)},checked:-1!==a.my_groups.indexOf(a.currentGroup.code)})},"\u041f\u0440\u0438\u0441\u044b\u043b\u0430\u0442\u044c \u0432 \u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043f\u043e \u0432\u044b\u0431\u043e\u0440\u0443"),r.a.createElement(g.E,{header:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u0441 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u043e\u0439."},"1. \u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e - \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b \u0432 \u043d\u043e\u0432\u043e\u0441\u0442\u044f\u0445",r.a.createElement("br",null),"2. \u0412\u044b\u0431\u043e\u0440\u043e\u0447\u043d\u0430\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u0441\u043e \u0441\u0442\u0435\u043d\u044b - \u0434\u0435\u0448\u0435\u0432\u044b\u0435 \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b \u0432 \u043b\u0438\u0447\u043a\u0435. \u041c\u043e\u0436\u043d\u043e \u043e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u0432 \u043b\u044e\u0431\u043e\u0439 \u043c\u043e\u043c\u0435\u043d\u0442.",r.a.createElement("br",null),"\u0414\u0435\u0448\u0435\u0432\u044b\u0435 #\u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b \u043d\u0430\u0441 \u043d\u0435 \u0436\u0434\u0443\u0442 - \u0432\u0441\u0435 \u043d\u0430\u043e\u0431\u043e\u0440\u043e\u0442"),this.state.snackbar))}}]),t}(a.Component),$=n(78),Q=n.n($),X=(n(161),n(162),n(163),function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={from:null,to:null,all:!1},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.setState({from:this.props.state.obj.from,to:this.props.state.obj.to}),this.props.updateModalHeight()}},{key:"render",value:function(){var e=this.state,t=(e.from,e.to,e.all,this.props);t.id,t.close,t.state;return r.a.createElement("div",null)}}]),t}(r.a.Component));Object(g.V)(X),n(164);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={subscribeGroup:{},allowMessages:{}},n.subscribe=function(e){n.props.setPopout(r.a.createElement(g.I,null));var t=n.props.state;b.a.sendPromise("VKWebAppGetAuthToken",{app_id:t.appId,scope:"wall,groups",request_id:1}).then((function(a){a.access_token&&"wall,groups"===a.scope&&b.a.sendPromise("VKWebAppCallAPIMethod",{method:"groups.getById",request_id:2,params:{group_id:e,access_token:a.access_token,v:5.107}}).then((function(a){b.a.sendPromise("VKWebAppJoinGroup",{group_id:a.response[0].id}).then((function(){fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-groups",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},body:JSON.stringify({user_id:t.user.id,app_id:t.appId,checkbox:a.response[0].id}),method:"POST"}).then((function(e){return e.json})).then((function(t){var a=te({},n.state.subscribeGroup,Object(s.a)({},e,!0));n.setState({subscribeGroup:a}),n.props.setPopout(null)})).catch((function(){return n.props.setPopout(null)}))})).catch((function(){return n.props.setPopout(null)}))})).catch((function(){return n.props.setPopout(null)}))})).catch((function(){return n.props.setPopout(null)}))},n.subscribeMessages=function(e,t){var a=n.props.state;n.props.setPopout(r.a.createElement(g.I,null)),b.a.sendPromise("VKWebAppGetAuthToken",{app_id:a.appId,scope:"wall,groups",request_id:1}).then((function(a){a.access_token&&"wall,groups"===a.scope&&b.a.sendPromise("VKWebAppCallAPIMethod",{method:"groups.getById",request_id:2,params:{group_id:e,access_token:a.access_token,v:5.107}}).then((function(r){b.a.sendPromise("VKWebAppAllowMessagesFromGroup",{group_id:r.response[0].id,key:"dBuBKe1kFcdemzB"}).then((function(){b.a.sendPromise("VKWebAppCallAPIMethod",{method:"wall.get",request_id:2,params:{domain:e,access_token:a.access_token,v:5.107}}).then(function(){var a=Object(i.a)(u.a.mark((function a(o){var c,s,l;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:c=[],s=[],o.response.items.forEach((function(e){var t=Object(I.a)(e.text.matchAll(/(#.*@.*)/g));if(t.length){if(t.length>2){var n=t[2];s.push(n)}var a=t[0];c.push(a)}})),c=(c=c.map((function(e){return e[0]}))).filter((function(e,t){return c.indexOf(e)===t})),s=(s=s.map((function(e){return e[0]}))).filter((function(e,t){return s.indexOf(e)===t})),l={name:t,screenName:e,id:null,groupId:r.response[0].id,from:s.map((function(e){return{tag:e,checked:!1}})),to:c.map((function(e){return{tag:e,checked:!1}}))},n.props.onChangeGroups("obj",l),n.props.openModal("subscribeCities"),n.props.setPopout(null);case 12:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(){return n.props.setPopout(null)}))})).catch((function(){return n.props.setPopout(null)}))})).catch((function(){return n.props.setPopout(null)}))})).catch((function(){return n.props.setPopout(null)}))},n.openAlert=function(e,t){t.currentTarget.checked?n.subscribeMessages(e.code,e.description):n.props.setPopout(r.a.createElement(g.c,{actions:[{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"},{title:"\u0414\u0430",autoclose:!0,mode:"destructive",action:function(){return n.delete(e.code)}}],onClose:function(){return n.props.setPopout(null)}},r.a.createElement("p",null,"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0441\u043e \u0441\u0442\u0435\u043d\u044b \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 \u0432 \u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u0435 \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0412\u0430\u043c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u0435 \u0441\u0435\u0439\u0447\u0430\u0441 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435 \u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434\u0430 \u043f\u0440\u0438\u043b\u0435\u0442\u0430 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430.")))},n.delete=function(e){n.props.setPopout(r.a.createElement(g.I,null)),fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-tags",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},body:JSON.stringify({user_id:String(n.props.state.user.id)}),method:"POST"}).then((function(e){return e.json()})).then((function(t){t.tags.forEach((function(t){t.body.split("@")[1]==e&&fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/remove-tag",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},referrer:"https://appvk.flights.ru/",referrerPolicy:"no-referrer-when-downgrade",body:JSON.stringify({tag_id:t.id,user_id:n.props.state.user.id}),method:"POST"}).then((function(e){return e.json()})).then((function(e){e.response}))})),n.props.state.my_groups.splice(n.props.state.my_groups.indexOf(e),1),console.log(n.props.state.my_groups.indexOf(e),[]),n.props.setPopout(null)})).catch((function(e){n.props.setPopout(null),n.setState({snackbar:r.a.createElement(F,{close:function(){return n.setState({snackbar:null})}}),data:"error"})}))},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.state.catalog[this.props.state.currentCatalog].to.map((function(e){return e.code})).join(",");b.a.sendPromise("VKWebAppGetAuthToken",{app_id:this.props.state.appId,scope:"",request_id:1}).then((function(n){b.a.send("VKWebAppCallAPIMethod",{method:"execute.getSubscribeGroup",params:{list:t,v:"5.120",access_token:n.access_token}}).then((function(t){var n={};t.response.forEach((function(e){n[e.name]=1==e.is})),console.log(n),e.setState({subscribeGroup:n})}))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.state,o=t.go;return r.a.createElement(g.z,{id:n},r.a.createElement(g.A,{left:r.a.createElement(g.B,{onClick:function(){return o("groups")}})},a.catalog[a.currentCatalog].catalog),a.catalog&&a.catalog[a.currentCatalog].to.map((function(t,n){return t.section?r.a.createElement(g.L,{key:n,expandable:!0,id:n,onClick:e.props.chooseSection},r.a.createElement(g.u,null,t.section)):r.a.createElement(g.H,{key:n,multiline:!0,actions:r.a.createElement("span",{style:{fontSize:12,color:"var(--dynamic_gray)"}},"\u0412\u0438\u0436\u0443 \u0431\u0438\u043b\u0435\u0442\u044b \u0432 "+(e.state.subscribeGroup[t.code]?"\u043d\u043e\u0432\u043e\u0441\u0442\u044f\u0445":"")+(-1!==a.my_groups.indexOf(t.code)&&e.state.subscribeGroup[t.code]?", ":"")+(-1!==a.my_groups.indexOf(t.code)?"\u041b\u0421.":"")),bottom:r.a.createElement("div",null,r.a.createElement(g.u,{href:"https://vk.com/"+t.code,target:"_blank"},r.a.createElement(K.a,{fill:"#4BBDE7"})),r.a.createElement(g.u,{style:{marginLeft:10}},r.a.createElement(Q.a,{fill:e.state.subscribeGroup[t.code]?"#0E62F1":"#4BBDE7",onClick:function(){e.state.subscribeGroup[t.code]||e.subscribe(t.code)}})),r.a.createElement(g.u,{style:{marginLeft:10}},r.a.createElement(B.a,{fill:-1===a.my_groups.indexOf(t.code)?"#4BBDE7":"#0E62F1",onClick:function(){return e.subscribeMessages(t.code,t.description)}})),r.a.createElement(g.u,{style:{marginLeft:10}},r.a.createElement(x.a,{fill:"#4BBDE7",onClick:function(){return e.props.goGroup(te({},t,{source:"catalog"}))}}))),after:r.a.createElement(g.O,{onChange:function(n){return e.openAlert(t,n)},checked:-1!==a.my_groups.indexOf(t.code)})},t.description)})))}}]),t}(a.Component);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={my_groups:n.props.state.my_groups,subscribeGroup:{},allowMessages:{}},n.subscribe=function(e){n.props.setPopout(r.a.createElement(g.I,null));var t=n.props.state;b.a.sendPromise("VKWebAppGetAuthToken",{app_id:t.appId,scope:"wall,groups",request_id:1}).then((function(a){a.access_token&&"wall,groups"===a.scope&&b.a.sendPromise("VKWebAppCallAPIMethod",{method:"groups.getById",request_id:2,params:{group_id:e,access_token:a.access_token,v:5.107}}).then((function(a){b.a.sendPromise("VKWebAppJoinGroup",{group_id:a.response[0].id}).then((function(){fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-groups",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},body:JSON.stringify({user_id:t.user.id,app_id:t.appId,checkbox:a.response[0].id}),method:"POST"}).then((function(e){return e.json})).then((function(t){var a=re({},n.state.subscribeGroup,Object(s.a)({},e,!0));n.setState({subscribeGroup:a}),n.props.setPopout(null)})).catch((function(){return n.props.setPopout(null)}))})).catch((function(){return n.props.setPopout(null)}))})).catch((function(){return n.props.setPopout(null)}))})).catch((function(){return n.props.setPopout(null)}))},n.subscribeMessages=function(e,t){var a=n.props.state;n.props.setPopout(r.a.createElement(g.I,null)),b.a.sendPromise("VKWebAppGetAuthToken",{app_id:a.appId,scope:"wall,groups",request_id:1}).then((function(a){a.access_token&&"wall,groups"===a.scope&&b.a.sendPromise("VKWebAppCallAPIMethod",{method:"groups.getById",request_id:2,params:{group_id:e,access_token:a.access_token,v:5.107}}).then((function(r){b.a.sendPromise("VKWebAppAllowMessagesFromGroup",{group_id:r.response[0].id,key:"dBuBKe1kFcdemzB"}).then((function(){b.a.sendPromise("VKWebAppCallAPIMethod",{method:"wall.get",request_id:2,params:{domain:e,access_token:a.access_token,v:5.107}}).then(function(){var a=Object(i.a)(u.a.mark((function a(o){var c,s,l;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:c=[],s=[],o.response.items.forEach((function(e){var t=Object(I.a)(e.text.matchAll(/(#.*@.*)/g));if(t.length){if(t.length>2){var n=t[2];s.push(n)}var a=t[0];c.push(a)}})),c=(c=c.map((function(e){return e[0]}))).filter((function(e,t){return c.indexOf(e)===t})),s=(s=s.map((function(e){return e[0]}))).filter((function(e,t){return s.indexOf(e)===t})),l={name:t,screenName:e,id:null,groupId:r.response[0].id,from:s.map((function(e){return{tag:e,checked:!1}})),to:c.map((function(e){return{tag:e,checked:!1}}))},n.props.onChangeGroups("obj",l),n.props.openModal("subscribeCities"),n.props.setPopout(null);case 12:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(){return n.props.setPopout(null)}))})).catch((function(){return n.props.setPopout(null)}))})).catch((function(){return n.props.setPopout(null)}))})).catch((function(){return n.props.setPopout(null)}))},n.openAlert=function(e,t){t.currentTarget.checked?n.subscribeMessages(e.code,e.description):n.props.setPopout(r.a.createElement(g.c,{actions:[{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"},{title:"\u0414\u0430",autoclose:!0,mode:"destructive",action:function(){return n.delete(e.code)}}],onClose:function(){return n.props.setPopout(null)}},r.a.createElement("p",null,"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0441\u043e \u0441\u0442\u0435\u043d\u044b \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 \u0432 \u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u0435 \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0412\u0430\u043c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u0435 \u0441\u0435\u0439\u0447\u0430\u0441 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435 \u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434\u0430 \u043f\u0440\u0438\u043b\u0435\u0442\u0430 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430.")))},n.delete=function(e){n.props.setPopout(r.a.createElement(g.I,null)),fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-tags",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},body:JSON.stringify({user_id:String(n.props.state.user.id)}),method:"POST"}).then((function(e){return e.json()})).then((function(t){t.tags.forEach((function(t){t.body.split("@")[1]==e&&fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/remove-tag",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},referrer:"https://appvk.flights.ru/",referrerPolicy:"no-referrer-when-downgrade",body:JSON.stringify({tag_id:t.id,user_id:n.props.state.user.id}),method:"POST"}).then((function(e){return e.json()})).then((function(e){e.response}))})),n.props.state.my_groups.splice(n.props.state.my_groups.indexOf(e),1),console.log(n.props.state.my_groups.indexOf(e),[]),n.props.setPopout(null)})).catch((function(e){n.props.setPopout(null),n.setState({snackbar:r.a.createElement(F,{close:function(){return n.setState({snackbar:null})}}),data:"error"})}))},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.state.catalog[this.props.state.currentCatalog].to[this.props.state.currentSection].arr.map((function(e){return e.code})).join(",");b.a.sendPromise("VKWebAppGetAuthToken",{app_id:this.props.state.appId,scope:"",request_id:1}).then((function(n){b.a.send("VKWebAppCallAPIMethod",{method:"execute.getSubscribeGroup",params:{list:t,v:"5.120",access_token:n.access_token}}).then((function(t){var n={};t.response.forEach((function(e){n[e.name]=1==e.is})),console.log(n),e.setState({subscribeGroup:n})}))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.state,o=t.go;return r.a.createElement(g.z,{id:n},r.a.createElement(g.A,{left:r.a.createElement(g.B,{onClick:function(){return o("catalog")}})},a.catalog[a.currentCatalog].catalog),(a.currentSection||0===a.currentSection)&&r.a.createElement(g.q,null,a.catalog[a.currentCatalog].to[a.currentSection].section),(a.currentSection||0===a.currentSection)&&a.catalog&&a.catalog[a.currentCatalog].to[a.currentSection].arr.map((function(t,n){return r.a.createElement(g.H,{key:n,multiline:!0,actions:r.a.createElement("span",{style:{fontSize:12,color:"var(--dynamic_gray)"}},"\u0412\u0438\u0436\u0443 \u0431\u0438\u043b\u0435\u0442\u044b \u0432 "+(e.state.subscribeGroup[t.code]?"\u043d\u043e\u0432\u043e\u0441\u0442\u044f\u0445":"")+(-1!==a.my_groups.indexOf(t.code)&&e.state.subscribeGroup[t.code]?", ":"")+(-1!==a.my_groups.indexOf(t.code)?"\u041b\u0421.":"")),bottom:r.a.createElement("div",null,r.a.createElement(g.u,{href:"https://vk.com/"+t.code,target:"_blank"},r.a.createElement(K.a,{fill:"#4BBDE7"})),r.a.createElement(g.u,{style:{marginLeft:10}},r.a.createElement(Q.a,{fill:e.state.subscribeGroup[t.code]?"#0E62F1":"#4BBDE7",onClick:function(){e.state.subscribeGroup[t.code]||e.subscribe(t.code)}})),r.a.createElement(g.u,{style:{marginLeft:10}},r.a.createElement(B.a,{fill:-1===a.my_groups.indexOf(t.code)?"#4BBDE7":"#0E62F1",onClick:function(){return e.subscribeMessages(t.code,t.description)}})),r.a.createElement(g.u,{style:{marginLeft:10}},r.a.createElement(x.a,{fill:"#4BBDE7",onClick:function(){return e.props.goGroup(re({},t,{source:"catalog"}))}}))),after:r.a.createElement(g.O,{onChange:function(n){return e.openAlert(t,n)},checked:-1!==a.my_groups.indexOf(t.code)})},t.description)})))}}]),t}(a.Component),ce=n(189),se=n.n(ce),le=n(190),ue=n.n(le),ie=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={data:null,snackbar:null,isFetching:!1},n.openMenu=function(e,t,a){n.props.setPopout(r.a.createElement(g.a,{onClose:function(){return n.props.setPopout(null)}},r.a.createElement(g.b,{autoclose:!0,before:r.a.createElement(se.a,null),onClick:function(){return n.edit_(e.body,e.id,t)}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement(g.b,{mode:"destructive",before:r.a.createElement(ue.a,null),onClick:function(){return n.delete(e.id,t,a)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))},n.openConfirm=function(e,t){n.props.setPopout(r.a.createElement(g.c,{onClose:function(){return n.props.setPopout(null)},actions:[{title:"\u041d\u0435\u0442",autoclose:!0,mode:"cancel"},{title:"\u0414\u0430",autoclose:!0,mode:"destructive",action:function(){return n.delete(e,t)}}]},"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?"))},n.delete=function(e,t,a){console.log(a),n.props.setPopout(r.a.createElement(g.I,null)),fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/remove-tag",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},referrer:"https://appvk.flights.ru/",referrerPolicy:"no-referrer-when-downgrade",body:JSON.stringify({tag_id:e,user_id:n.props.state.user.id}),method:"POST"}).then((function(e){return e.json()})).then((function(e){"ok"===e.response&&(n.state.data[t].data.splice(a,1),n.props.setPopout(null))}))},n.edit_=function(e,t,a){var o=e.split("#")[1],c=e.split("@")[1],s=n.props.state;n.props.setPopout(r.a.createElement(g.I,null)),b.a.sendPromise("VKWebAppGetAuthToken",{app_id:s.appId,scope:"wall,groups",request_id:1}).then((function(e){e.access_token&&"wall,groups"===e.scope&&b.a.sendPromise("VKWebAppCallAPIMethod",{method:"groups.getById",request_id:2,params:{group_id:c,access_token:e.access_token,v:5.107}}).then((function(r){b.a.sendPromise("VKWebAppAllowMessagesFromGroup",{group_id:r.response[0].id,key:"dBuBKe1kFcdemzB"}).then((function(){b.a.sendPromise("VKWebAppCallAPIMethod",{method:"wall.get",request_id:2,params:{domain:c,access_token:e.access_token,v:5.107}}).then(function(){var e=Object(i.a)(u.a.mark((function e(s){var l,i,p,m,h,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=[],i=[],p=s.response.items,m=n.state.data[a].data.filter((function(e){if(e.body.split("@")[1]===c)return!0})),h=m.map((function(e){return e.body})),console.log(h),p.forEach((function(e){var t=Object(I.a)(e.text.matchAll(/(#.*@.*)/g));if(t.length){if(t.length>2){var n=t[2];i.push(n)}var a=t[0];l.push(a)}})),l=(l=l.map((function(e){return e[0]}))).filter((function(e,t){return l.indexOf(e)===t})),i=(i=i.map((function(e){return e[0]}))).filter((function(e,t){return i.indexOf(e)===t})),d={name:o,id:t,groupId:r.response[0].id,from:i.map((function(e){return{tag:e,checked:-1!==h.indexOf(e)}})),to:l.map((function(e){return{tag:e,checked:-1!==h.indexOf(e)}}))},n.props.onChangeGroups("obj",d),n.props.openModal("subscribeCities"),n.props.setPopout(null);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){n.props.setPopout(null),console.log(e)}))})).catch((function(e){n.props.setPopout(null),console.log(e)}))})).catch((function(e){n.props.setPopout(null),console.log(e)}))})).catch((function(){return n.props.setPopout(null)}))},n.onRefresh=function(){n.setState({isFetching:!0}),fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-tags",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},body:JSON.stringify({user_id:String(n.props.state.user.id)}),method:"POST"}).then((function(e){return e.json()})).then((function(e){n.props.onChangeGroups("my_groups",e.tags);var t=[],a=[];e.tags.forEach((function(e){-1===t.indexOf(e.category)&&t.push(e.category)})),t.forEach((function(t){a.push({category:t,data:e.tags.filter((function(e){return e.category===t}))})})),console.log(a),n.setState({data:a,isFetching:!1})})).catch((function(e){n.setState({snackbar:r.a.createElement(F,{close:function(){return n.setState({snackbar:null})}}),data:"error",isFetching:!1})}))},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.setPopout(r.a.createElement(g.I,null)),fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-tags",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},body:JSON.stringify({user_id:String(this.props.state.user.id)}),method:"POST"}).then((function(e){return e.json()})).then((function(t){var n=[];t.tags.forEach((function(e){-1===n.indexOf(e.body.split("@")[1])&&n.push(e.body.split("@")[1])})),e.props.onChangeGroups("my_groups",n);var a=[],r=[];t.tags.forEach((function(e){-1===a.indexOf(e.category)&&a.push(e.category)})),a.forEach((function(e){r.push({category:e,data:t.tags.filter((function(t){return t.category===e}))})})),console.log(r),e.setState({data:r},e.props.setPopout(null))})).catch((function(t){e.props.setPopout(null),e.setState({snackbar:r.a.createElement(F,{close:function(){return e.setState({snackbar:null})}}),data:"error"})}))}},{key:"render",value:function(){var e=this,t=this.state.data;return r.a.createElement(g.F,{isFetching:this.state.isFetching,onRefresh:this.onRefresh},r.a.createElement(g.p,null,"error"===this.state.data?r.a.createElement(g.E,null,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u0441\u043e\u0435\u0434\u0435\u043d\u0435\u043d\u0438\u044f"):t&&r.a.createElement("div",null,0===t.length?r.a.createElement(g.E,null,"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u043e\u043a."):r.a.createElement(g.v,null,t.map((function(t,n){return r.a.createElement(g.p,{key:n,header:r.a.createElement(g.q,null,t.category)},r.a.createElement(g.v,null,t.data.map((function(t,a){return r.a.createElement(g.L,{key:a,onClick:function(){return e.openMenu(t,n,a)},description:"\u041a\u0443\u0434\u0430: "+t.body.split("@")[0].split("#")[1],after:r.a.createElement(B.a,null)},t.group_name)}))))})))),this.state.snackbar))}}]),t}(a.Component);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var me={all:"\u043b\u044e\u0431\u043e\u0435",winter:"\u0437\u0438\u043c\u0430",spring:"\u0432\u0435\u0441\u043d\u0430",summer:"\u043b\u0435\u0442\u043e",fall:"\u043e\u0441\u0435\u043d\u044c"},he={0:"\u043b\u044e\u0431\u043e\u0439",1:"\u044f\u043d\u0432\u0430\u0440\u044c",2:"\u0444\u0435\u0432\u0440\u0430\u043b\u044c",3:"\u043c\u0430\u0440\u0442",4:"\u0430\u043f\u0440\u0435\u043b\u044c",5:"\u043c\u0430\u0439",6:"\u0438\u044e\u043d\u044c",7:"\u0438\u044e\u043b\u044c",8:"\u0430\u0432\u0433\u0443\u0441\u0442",9:"\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c",10:"\u043e\u043a\u0442\u044f\u0431\u0440\u044c",11:"\u043d\u043e\u044f\u0431\u0440\u044c",12:"\u0434\u0435\u043a\u0430\u0431\u0440\u044c"},de={random:"\u043b\u044e\u0431\u0430\u044f",E:"\u0415\u0432\u0440\u043e\u043f\u0430",F:"\u0410\u0444\u0440\u0438\u043a\u0430",O:"\u041e\u043a\u0435\u0430\u043d\u0438\u044f",A:"\u0410\u0437\u0438\u044f",S:"\u042e\u0436\u043d\u0430\u044f \u0410\u043c\u0435\u0440\u0438\u043a\u0430",N:"\u0421\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0410\u043c\u0435\u0440\u0438\u043a\u0430"},fe={url:"1 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440, \u044d\u043a\u043e\u043d\u043e\u043c\u043a\u043b\u0430\u0441\u0441",url1Business:"1 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440, \u0431\u0438\u0437\u043d\u0435\u0441-\u043a\u043b\u0430\u0441\u0441",url2Passengers:"2 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430, \u044d\u043a\u043e\u043d\u043e\u043c\u043a\u043b\u0430\u0441\u0441",urlForma:"\u043e\u0442\u043a\u0440\u044b\u0442\u0430\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0435\u043c\u0430\u044f \u0444\u043e\u0440\u043c\u0430 \u043f\u043e\u0438\u0441\u043a\u0430"},ge={AZN:"\u043c\u0430\u043d\u0430\u0442",BYN:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",CNY:"\u044e\u0430\u043d\u044c",EUR:"\u0435\u0432\u0440\u043e",KGS:"\u0441\u043e\u043c",KZT:"\u0442\u0435\u043d\u0433\u0435 ",RUB:"\u0440\u0443\u0431\u043b\u044c ",THB:"\u0431\u0430\u0442",UAH:"\u0433\u0440\u0438\u0432\u043d\u0430",USD:"\u0434\u043e\u043b\u043b\u0430\u0440",UZS:"\u0441\u0443\u043c"},ye={AZN:"\u043c\u0430\u043d\u0430\u0442",BYN:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u0441\u043a\u0438\u0445 \u0440\u0443\u0431\u043b\u0435\u0439",CNY:"\u044e\u0430\u043d\u044c",EUR:"\u0435\u0432\u0440\u043e",KGS:"\u0441\u043e\u043c",KZT:"\u0442\u0435\u043d\u0433\u0435 ",RUB:"\u0440\u0443\u0431\u043b\u0435\u0439",THB:"\u0431\u0430\u0442",UAH:"\u0433\u0440\u0438\u0432\u043d\u0430",USD:"\u0434\u043e\u043b\u043b\u0430\u0440",UZS:"\u0441\u0443\u043c"},be={de:"\u043d\u0435\u043c\u0435\u0446\u043a\u0438\u0439",en:"\u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439",es:"\u0438\u0441\u043f\u0430\u043d\u0441\u043a\u0438\u0439",fr:"\u0444\u0440\u0430\u043d\u0446\u0443\u0437\u0441\u043a\u0438\u0439",it:"\u0438\u0442\u0430\u043b\u044c\u044f\u043d\u0441\u043a\u0438\u0439",ru:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439",th:"\u0442\u0430\u0439\u0441\u043a\u0438\u0439",tr:"\u0442\u0443\u0440\u0435\u0446\u043a\u0438\u0439"},Ee={color:"var(--accent)"},ve=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={snackbar:null},n.openAlert=function(e,t){console.log(e),n.props.setPopout(r.a.createElement(g.c,{actions:[{title:"\u041d\u0435\u0442",autoclose:!0,mode:"cancel"},{title:"\u0414\u0430",autoclose:!0,mode:"destructive",action:function(){return n.delete(e,t)}}],onClose:function(){return n.props.setPopout(null)}},r.a.createElement("h1",null,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c?")))},n.delete=function(e,t){n.props.setPopout(r.a.createElement(g.I,null)),fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/delete-request",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},referrer:"https://appvk.flights.ru/",referrerPolicy:"no-referrer-when-downgrade",body:JSON.stringify({request_id:e}),method:"POST"}).then((function(e){return e.json()})).then((function(e){if("ok"===e.response){n.state.data.splice(t,1);n.props.setPopout(null)}}))},n.edit=function(e){var t=JSON.parse(e.output);n.props.onChangeGroups("form",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{id:e.id})),setTimeout((function(){return n.props.go("edit_settings")}),500)},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.setPopout(r.a.createElement(g.I,null)),fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-requests",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},body:JSON.stringify({user_id:String(this.props.state.user.id)}),method:"POST"}).then((function(e){return e.json()})).then((function(t){e.setState({data:t.requests}),e.props.setPopout(null)})).catch((function(t){e.props.setPopout(null),e.setState({snackbar:r.a.createElement(F,{close:function(){return e.setState({snackbar:null})}}),data:"error"})}))}},{key:"render",value:function(){var e=this,t=this.state.data;return r.a.createElement("div",null,t&&r.a.createElement("div",null,"error"===t?r.a.createElement(g.E,null,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u0441\u043e\u0435\u0434\u0435\u043d\u0435\u043d\u0438\u044f"):r.a.createElement("div",null,0===t.length?r.a.createElement(g.E,null,"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u043e\u043a."):t.map((function(t,n){return r.a.createElement(g.p,{separator:"hide",key:n},r.a.createElement(g.g,null,r.a.createElement(g.f,{size:"l",mode:"shadow"},r.a.createElement(g.k,{style:{padding:"20px",lineHeight:1.5}},"\u0418\u0437 \u0441\u0442\u0440\u0430\u043d\u044b ",r.a.createElement("b",{style:Ee},JSON.parse(t.output).countrySrc?JSON.parse(t.output).countrySrc:"\u043b\u044e\u0431\u0430\u044f")," \u0438 \u0433\u043e\u0440\u043e\u0434\u0430 ",r.a.createElement("b",{style:Ee},JSON.parse(t.output).citySrc?JSON.parse(t.output).citySrc:"\u043b\u044e\u0431\u043e\u0439"),r.a.createElement("br",null),"\u0412 \u0447\u0430\u0441\u0442\u044c \u0441\u0432\u0435\u0442\u0430 ",r.a.createElement("b",{style:Ee},de[JSON.parse(t.output).continentDst])," \u0438 \u0441\u0442\u0440\u0430\u043d\u0443 ",r.a.createElement("b",{style:Ee},JSON.parse(t.output).countryDst?JSON.parse(t.output).countryDst:"\u043b\u044e\u0431\u0430\u044f"),r.a.createElement("br",null),"\u0412 \u0433\u043e\u0440\u043e\u0434 ",r.a.createElement("b",{style:Ee},JSON.parse(t.output).cityDst?JSON.parse(t.output).cityDst:"\u043b\u044e\u0431\u043e\u0439"),r.a.createElement("br",null),"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0442\u043e\u0432: \u0442\u0443\u0434\u0430-\u043e\u0431\u0440\u0430\u0442\u043d\u043e - ",r.a.createElement("b",{style:Ee},JSON.parse(t.output).dual?"\u0434\u0430":"\u043d\u0435\u0442"),r.a.createElement("br",null),"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0442\u043e\u0432: \u0442\u0443\u0434\u0430 - ",r.a.createElement("b",{style:Ee},JSON.parse(t.output).forward?"\u0434\u0430":"\u043d\u0435\u0442"),r.a.createElement("br",null),JSON.parse(t.output).dates.map((function(e,t){return r.a.createElement("div",{key:t},"\u0413\u043e\u0434 \u0432\u044b\u043b\u0435\u0442\u0430 (",t+1,") ",r.a.createElement("b",{style:Ee},e.year),r.a.createElement("br",null),"\u0412\u0440\u0435\u043c\u044f \u0433\u043e\u0434\u0430 (",t+1,") ",r.a.createElement("b",{style:Ee},me[e.season]),r.a.createElement("br",null),"\u041c\u0435\u0441\u044f\u0446 (",t+1,") ",r.a.createElement("b",{style:Ee},he[e.month]),r.a.createElement("br",null))})),r.a.createElement("br",null),"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b ",r.a.createElement("b",{style:Ee},fe[JSON.parse(t.output).passengers]),r.a.createElement("br",null),"\u0426\u0435\u043d\u0430 \u043e\u0442 ",r.a.createElement("b",{style:Ee},JSON.parse(t.output).costMin)," \u0434\u043e ",r.a.createElement("b",{style:Ee},JSON.parse(t.output).costMax)," ",ye[JSON.parse(t.output).currency],r.a.createElement("br",null),"\u041f\u0435\u0440\u0438\u043e\u0434 \u043f\u043e\u043a\u0430\u0437\u0430 ",r.a.createElement("b",{style:Ee},JSON.parse(t.output).interval)," \u043c\u0438\u043d\u0443\u0442",r.a.createElement("br",null),"\u0413\u043b\u0443\u0431\u0438\u043d\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 ",r.a.createElement("b",{style:Ee},JSON.parse(t.output).updated)," \u043c\u0438\u043d\u0443\u0442",r.a.createElement("br",null),"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0437\u0430 24 \u0447\u0430\u0441\u0430 ",r.a.createElement("b",{style:Ee},"0"===JSON.parse(t.output).limit?"\u0432\u0441\u0435":JSON.parse(t.output).limit),r.a.createElement("br",null),"\u042f\u0437\u044b\u043a (\u0442\u0443\u0434\u0430-\u043e\u0431\u0440\u0430\u0442\u043d\u043e) ",r.a.createElement("b",{style:Ee},be[JSON.parse(t.output).language]),r.a.createElement("br",null),"\u0412\u0430\u043b\u044e\u0442\u0430 (\u0446\u0435\u043d\u0430) ",r.a.createElement("b",{style:Ee},ge[JSON.parse(t.output).currency]),r.a.createElement("br",null),"\u0412\u0430\u043b\u044e\u0442\u0430 (\u043c\u0435\u0442\u0430\u043f\u043e\u0438\u0441\u043a\u043e\u0432\u0438\u043a\u0430) ",r.a.createElement("b",{style:Ee},ge[JSON.parse(t.output).currencyForUrl]),r.a.createElement("br",null),JSON.parse(t.output).optional&&r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{style:{color:"var(--tabbar_inactive_icon)"}},"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b"),JSON.parse(t.output).profitability&&"\u0412\u044b\u0433\u043e\u0434\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u043a\u0443\u043f\u043a\u0438 \u0431\u043e\u043b\u044c\u0448\u0435 ",JSON.parse(t.output).profitability&&r.a.createElement("b",{style:Ee},JSON.parse(t.output).profitability+"%"),r.a.createElement("br",null),"\u0414\u043d\u0438 \u043d\u0435\u0434\u0435\u043b\u0438 \u0432\u044b\u043b\u0435\u0442\u0430 ",r.a.createElement("b",{style:Ee},function(e){var t=["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],n=0;if(e.every((function(e,t,a){return n++,!0===e})),7===n)return"\u0432\u0441\u0435";for(var a="",r=1;r<e.length;r++)e[r]&&(a+=t[r].toLowerCase()+", ");return a+=t[0].toLowerCase()}(JSON.parse(t.output).days)),r.a.createElement("br",null),JSON.parse(t.output).showAddionalWeather&&r.a.createElement("div",null,"\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u043f\u043e\u0433\u043e\u0434\u044b \u0432 \u0434\u0435\u043d\u044c \u043f\u0440\u0438\u043b\u0435\u0442\u0430",r.a.createElement("br",null),"\u0414\u043d\u0435\u043c \u043e\u0442 ",r.a.createElement("b",{style:Ee},JSON.parse(t.output)["dayTemp.min"])," \u0421 \u0434\u043e ",r.a.createElement("b",{style:Ee},JSON.parse(t.output)["dayTemp.max"])," \u0421",r.a.createElement("br",null),"\u041d\u043e\u0447\u044c\u044e \u043e\u0442 ",r.a.createElement("b",{style:Ee},JSON.parse(t.output)["nightTemp.min"])," \u0421 \u0434\u043e ",r.a.createElement("b",{style:Ee},JSON.parse(t.output)["nightTemp.max"])," \u0421",r.a.createElement("br",null)))),r.a.createElement(g.k,null,r.a.createElement(g.e,{onClick:function(){return e.edit(t)},size:"xl"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement("br",null),r.a.createElement(g.e,{onClick:function(){return e.openAlert(t.id,n)},size:"xl",mode:"destructive"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))))})))),this.state.snackbar)}}]),t}(a.Component),Ce=n(104),ke=n.n(Ce),Se=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={activeTab:"groups"},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state.activeTab,n=this.props,a=n.id,o=n.state;return r.a.createElement(g.z,{id:a},r.a.createElement(g.A,null,"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"),r.a.createElement(g.m,{vertical:"top"},r.a.createElement(g.R,null,r.a.createElement(g.S,{selected:"groups"===t,onClick:function(){return e.setState({activeTab:"groups"})}},"\u0412\u0438\u0442\u0440\u0438\u043d\u0430"),r.a.createElement(g.S,{selected:"database"===t,onClick:function(){return e.setState({activeTab:"database"})}},"\u041c\u043e\u0439 \u0432\u044b\u0431\u043e\u0440"))),this.props.state.my_groups&&r.a.createElement(g.k,{style:{marginTop:40,paddingBottom:0}},r.a.createElement(g.e,{mode:"secondary",size:"xl",before:r.a.createElement(ke.a,null),onClick:function(){return e.props.onChangeGroups("activePanel","database"===t?"settings":"groups")}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),"groups"===t?r.a.createElement(ie,{setPopout:this.props.setPopout,onChangeGroups:this.props.onChangeGroups,openModal:this.props.openModal,state:o}):r.a.createElement(ve,{onChangeGroups:this.props.onChangeGroups,setPopout:this.props.setPopout,state:o,onChange:this.props.onChange,go:this.props.go}))}}]),t}(a.Component),Oe=n(191),je=n.n(Oe),Te=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={friends:null,snackbar:null},n.getFriends=function(){n.props.setPopout(r.a.createElement(g.I,null)),b.a.sendPromise("VKWebAppGetAuthToken",{app_id:n.props.state.appId,scope:"friends"}).then((function(e){e.access_token?"friends"===e.scope?b.a.sendPromise("VKWebAppCallAPIMethod",{method:"friends.get",params:{access_token:e.access_token,fields:"city,photo_200,country,bdate,status,last_seen",v:5.107},request_id:"3"}).then((function(e){e.response.items?(n.setState({friends:e.response.items.filter((function(e){return e.city})).filter((function(e){return e.city.id!==n.props.state.user.city.id}))}),n.props.setPopout(null)):(n.setState({snackbar:r.a.createElement(F,{text:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0434\u0440\u0443\u0437\u0435\u0439",close:function(){return n.setState({snackbar:null})}})}),n.props.setPopout(null))})).catch((function(){n.props.setPopout(null),n.setState({snackbar:r.a.createElement(F,{text:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0440\u0443\u0437\u0435\u0439",close:function(){return n.setState({snackbar:null})}})})})):(n.setState({snackbar:r.a.createElement(F,{text:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u0440\u0443\u0437\u044c\u044f\u043c",close:function(){return n.setState({snackbar:null})}})}),n.props.setPopout(null)):(n.setState({snackbar:r.a.createElement(F,{text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0442\u043e\u043a\u0435\u043d\u0430",close:function(){return n.setState({snackbar:null})}})}),n.props.setPopout(null))})).catch((function(){n.props.setPopout(null),n.setState({snackbar:r.a.createElement(F,{text:"\u0412\u044b \u043d\u0435 \u0434\u0430\u043b\u0438 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u0440\u0443\u0437\u044c\u044f\u043c",close:function(){return n.setState({snackbar:null})}})})}))},n.getPrice=function(e){},n.open=function(e){console.log(e),n.props.setPopout(r.a.createElement(g.I,null)),fetch("https://cors-anywhere.herokuapp.com/https://api.travelpayouts.com/data/ru/cities.json").then((function(e){return e.json()})).then((function(t){var a=t.filter((function(e){return e.name===n.props.state.user.city.title}))[0].code,o=t.filter((function(t){return t.name===e.city.title}))[0].code;fetch("https://cors-anywhere.herokuapp.com/https://api.travelpayouts.com/v1/prices/calendar?&origin=".concat(a,"&destination=").concat(o,"&calendar_type=departure_date&token=d378bb3f3b879e6fc87899314ba5ce5d")).then((function(e){return e.json()})).then((function(t){console.log(t);var a=Object.keys(t.data)[0];Object.keys(t.data).length>3&&(a=Object.keys(t.data)[3]),console.log(String(a)),"undefined"!==String(a)?(n.props.onChangeGroups("friend",e),n.props.onChangeGroups("calendar",t.data),n.props.openModal("bullet_to_friend"),n.props.setPopout(null)):n.setState({snackbar:r.a.createElement(F,{text:"\u041d\u0435 \u043d\u0430\u0448\u043b\u0438 \u0446\u0435\u043d\u0443 \u0431\u0438\u043b\u0435\u0442\u0430 \u043a \u044d\u0442\u043e\u043c\u0443 \u0434\u0440\u0443\u0433\u0443 :(",close:function(){return n.setState({snackbar:null})}})}),n.props.setPopout(null)})).catch((function(e){n.props.setPopout(null),n.setState({snackbar:r.a.createElement(F,{text:"\u041d\u0435 \u043d\u0430\u0448\u043b\u0438 \u0446\u0435\u043d\u0443 \u0431\u0438\u043b\u0435\u0442\u0430 \u043a \u044d\u0442\u043e\u043c\u0443 \u0434\u0440\u0443\u0433\u0443 :(",close:function(){return n.setState({snackbar:null})}})})}))})).catch((function(e){n.props.setPopout(null),n.setState({snackbar:r.a.createElement(F,{text:"\u041d\u0435 \u043d\u0430\u0448\u043b\u0438 \u0433\u043e\u0440\u043e\u0434 \u0434\u0440\u0443\u0433\u0430 :(",close:function(){return n.setState({snackbar:null})}})})}))},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getFriends()}},{key:"isEmpty",value:function(e){for(var t in e)return!1;return!0}},{key:"date",value:function(e){if(""==e||null==e)return"\u043d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445";var t=e.split(".");switch(t[1]){case"1":return t[0]+" \u044f\u043d\u0432\u0430\u0440\u044f";case"2":return t[0]+" \u0444\u0435\u0432\u0440\u0430\u043b\u044f";case"3":return t[0]+" \u043c\u0430\u0440\u0442\u0430";case"4":return t[0]+" \u0430\u043f\u0440\u0435\u043b\u044f";case"5":return t[0]+" \u043c\u0430\u044f";case"6":return t[0]+" \u0438\u044e\u043d\u044f";case"7":return t[0]+" \u0438\u044e\u043b\u044f";case"8":return t[0]+" \u0430\u0432\u0433\u0443\u0441\u0442\u0430";case"9":return t[0]+" \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f";case"10":return t[0]+" \u043e\u043a\u0442\u044f\u0431\u0440\u044f";case"11":return t[0]+" \u043d\u043e\u044f\u0431\u0440\u044f";case"12":return t[0]+" \u0434\u0435\u043a\u0430\u0431\u0440\u044f"}}},{key:"render",value:function(){var e=this,t=this.props.id,n=this.state.friends;return r.a.createElement(g.z,{id:t},r.a.createElement(g.A,null,"\u041d\u0430\u0432\u0435\u0441\u0442\u0438 \u0434\u0440\u0443\u0437\u0435\u0439"),n?n.map((function(t,n){return r.a.createElement(g.H,{key:n,before:r.a.createElement(g.d,{size:64,src:t.photo_200}),multiline:!0,text:t.status,caption:null==t.city||null==t.country?"??":r.a.createElement("span",null,t.country.title+", "+t.city.title,r.a.createElement("br",null)," ","\u0414\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f "+e.date(t.bdate)),after:1==t.online?r.a.createElement("span",{style:{color:"var(--dynamic_green)",fontSize:12}},"online"):t.last_seen?r.a.createElement("span",{style:{fontSize:12,color:"var(--dynamic_gray)"}},new Date(1e3*t.last_seen.time).toLocaleString("ru",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"})):r.a.createElement("span",{style:{color:"var(--dynamic_gray)",fontSize:12}},"offline"),onClick:function(){return e.open(t)}},t.first_name+" "+t.last_name)})):r.a.createElement(g.E,{icon:r.a.createElement(je.a,null),header:"\u0414\u0440\u0443\u0437\u044c\u044f",action:r.a.createElement(g.e,{onClick:this.getFriends,size:"l"},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a")},"\u0427\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043a \u0434\u0440\u0443\u0437\u044c\u044f\u043c, \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e."),this.state.snackbar)}}]),t}(a.Component),Pe=(n(540),n(79)),xe=n.n(Pe),_e=n(80),we=n.n(_e),De=n(41),Me={all:"\u043b\u044e\u0431\u043e\u0435",winter:"\u0437\u0438\u043c\u0430",spring:"\u0432\u0435\u0441\u043d\u0430",summer:"\u043b\u0435\u0442\u043e",fall:"\u043e\u0441\u0435\u043d\u044c"},Ae={0:"\u043b\u044e\u0431\u043e\u0439",1:"\u044f\u043d\u0432\u0430\u0440\u044c",2:"\u0444\u0435\u0432\u0440\u0430\u043b\u044c",3:"\u043c\u0430\u0440\u0442",4:"\u0430\u043f\u0440\u0435\u043b\u044c",5:"\u043c\u0430\u0439",6:"\u0438\u044e\u043d\u044c",7:"\u0438\u044e\u043b\u044c",8:"\u0430\u0432\u0433\u0443\u0441\u0442",9:"\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c",10:"\u043e\u043a\u0442\u044f\u0431\u0440\u044c",11:"\u043d\u043e\u044f\u0431\u0440\u044c",12:"\u0434\u0435\u043a\u0430\u0431\u0440\u044c"},Ne={all:"\u043b\u044e\u0431\u0430\u044f",E:"\u0415\u0432\u0440\u043e\u043f\u0430",F:"\u0410\u0444\u0440\u0438\u043a\u0430",D:"\u041e\u043a\u0435\u0430\u043d\u0438\u044f",A:"\u0410\u0437\u0438\u044f",S:"\u042e\u0436\u043d\u0430\u044f \u0410\u043c\u0435\u0440\u0438\u043a\u0430",N:"\u0421\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0410\u043c\u0435\u0440\u0438\u043a\u0430"},Ge={de:"\u043d\u0435\u043c\u0435\u0446\u043a\u0438\u0439",en:"\u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439",es:"\u0438\u0441\u043f\u0430\u043d\u0441\u043a\u0438\u0439",fr:"\u0444\u0440\u0430\u043d\u0446\u0443\u0437\u0441\u043a\u0438\u0439",it:"\u0438\u0442\u0430\u043b\u044c\u044f\u043d\u0441\u043a\u0438\u0439",ru:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439",th:"\u0442\u0430\u0439\u0441\u043a\u0438\u0439",tr:"\u0442\u0443\u0440\u0435\u0446\u043a\u0438\u0439"},Ie={AZN:{name:"\u043c\u0430\u043d\u0430\u0442",min:5,max:7e3},BYN:{name:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",min:10,max:1e4},CNY:{name:"\u044e\u0430\u043d\u044c",min:10,max:3e4},EUR:{name:"\u0435\u0432\u0440\u043e",min:1,max:4e3},KGS:{name:"\u0441\u043e\u043c",min:100,max:3e5},KZT:{name:"\u0442\u0435\u043d\u0433\u0435",min:500,max:15e5},RUB:{name:"\u0440\u0443\u0431\u043b\u044c",min:100,max:3e5},THB:{name:"\u0431\u0430\u0442",min:10,max:15e4},UAH:{name:"\u0433\u0440\u0438\u0432\u043d\u0430",min:50,max:1e5},USD:{name:"\u0434\u043e\u043b\u043b\u0430\u0440",min:1,max:5e3},UZS:{name:"\u0441\u0443\u043c",min:500,max:5e5}},qe={url:"1 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440, \u044d\u043a\u043e\u043d\u043e\u043c\u043a\u043b\u0430\u0441\u0441",url2Passengers:"2 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430, \u044d\u043a\u043e\u043d\u043e\u043c\u043a\u043b\u0430\u0441\u0441",url1Business:"1 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440, \u0431\u0438\u0437\u043d\u0435\u0441-\u043a\u043b\u0430\u0441\u0441",urlForma:"\u0434\u0440\u0443\u0433\u043e\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442"},Ue={paddingTop:0,paddingBottom:0},Fe=function(e){function t(){var e,n,a;Object(p.a)(this,t);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state=(n={data:[],listCountry:[],cities:[],updated:"60",interval:"60",limit:"0",countryDst:"all",cityDst:"all",datesCnt:[{year:(new Date).getFullYear(),season:"all",month:"0"}],activeCnt:0,language:"ru",dual:!0,forward:!0,profitability:30,currency:"RUB",currencyForUrl:"RUB",passengers:"url",randomCost:!0,randomTempDay:!0,randomTempNight:!0,costMin:100,costMax:5e5,dayTempMin:-50,dayTempMax:50},Object(s.a)(n,"interval","60"),Object(s.a)(n,"nighTempMin",-50),Object(s.a)(n,"nighTempMax",50),Object(s.a)(n,"days",[!0,!0,!0,!0,!0,!0,!0]),Object(s.a)(n,"allDays",!0),Object(s.a)(n,"snackbar",null),Object(s.a)(n,"all_flight",!0),n),a.onChange=function(e){a.setState(Object(s.a)({},e.currentTarget.name,e.currentTarget.value))},a.onChangeCheck=function(e){a.setState(Object(s.a)({},e.currentTarget.name,e.currentTarget.checked))},a.onChangeFrom=function(e){var t=a.state.datesCnt;t[parseInt(e.currentTarget.id,10)][e.currentTarget.name]=e.currentTarget.value,"year"==[e.currentTarget.name]&&(console.log("p"),t[parseInt(e.currentTarget.id,10)].season="all",t[parseInt(e.currentTarget.id,10)].month=0),a.setState({datesCnt:t})},a.addFrom=function(){var e=a.state.datesCnt;e.push({yearSrc:(new Date).getFullYear(),seasonSrc:Me.all,monthSrc:Ae[0]}),a.setState({datesCnt:e})},a.removeFrom=function(){var e=a.state.datesCnt;a.setState({activeCnt:a.state.activeCnt-1,datesCnt:e.splice(0,e.length-1)})},a.onChangeDays=function(e){if(console.log(e.currentTarget.name),"all"==e.currentTarget.name)a.setState({allDays:!a.state.allDays,days:[!1,!1,!1,!1,!1,!1,!1]});else{var t=!a.state.days[Number(e.currentTarget.name)];a.state.days.splice([Number(e.currentTarget.name)],1,t);console.log(a.state.days);var n=!0;a.state.days.forEach((function(e){e||(n=!1)})),a.setState({days:a.state.days,allDays:n})}},a.sort_res=function(){var e;a.props.setPopout(r.a.createElement(g.I,null));var t,n=a.props.state.user,o=a.state,c=o.citySrcCode,l=o.cityDstCode,u=o.countryDstCode,i=o.countrySrcCode,p=(o.citySrc,o.cityDst,o.countryDst),m=o.countrySrc,h=o.costMax,d=o.costMin,f=o.currency,y=o.currencyForUrl,b=o.language,E=o.randomCost,v=o.dual,C=o.forward,k=o.datesCnt,S=o.profitability,O=o.dayTempMin,j=o.dayTempMax,T=o.nighTempMax,P=o.nighTempMin,x=o.passengers,_=o.updated,w=o.interval,D=o.limit,M=o.continentDst;t=a.state.allDays?[!0,!0,!0,!0,!0,!0,!0]:a.state.days;var A,N,G=(e={citySrc:c,cityDst:l,countryDst:u,countrySrc:i,continentDst:M,costMax:h,costMin:d,currency:f,currencyForUrl:y,language:b,randomCost:E,forward:C,dual:v,passengers:x,updated:Number(_),limit:D,interval:w,optional:!0,dates:k,showAddionalWeather:!0,profitability:String(S)},Object(s.a)(e,"nightTemp.max",T),Object(s.a)(e,"nightTemp.min",P),Object(s.a)(e,"dayTemp.max",j),Object(s.a)(e,"dayTemp.min",O),Object(s.a)(e,"days",t),e);fetch(" https://translate.yandex.net/api/v1.5/tr.json/translate?key=trnsl.1.1.20191125T185829Z.bafa3ff776a2185a.64a334987cf74f3b022d5c07a4b67f2247dbc05b&lang=ru-en&text=".concat(c)).then((function(e){return e.json()})).then((function(e){A=e.text,fetch(" https://translate.yandex.net/api/v1.5/tr.json/translate?key=trnsl.1.1.20191125T185829Z.bafa3ff776a2185a.64a334987cf74f3b022d5c07a4b67f2247dbc05b&lang=ru-en&text=".concat(l)).then((function(e){return e.json()})).then((function(e){var r,o,c,l;N=e.text;var u=(l={},Object(s.a)(l,"src.CountryCode",m),Object(s.a)(l,"src.name",A),Object(s.a)(l,"dst.name",N),Object(s.a)(l,"Discount",Object(s.a)({},"$gte",S)),Object(s.a)(l,"SrcDayOfWeek",Object(s.a)({},"$in",t.map((function(e,t){if(1==e)return t})))),Object(s.a)(l,"Dst.CountryCode","all"==p?null:p),Object(s.a)(l,"Price",(r={},Object(s.a)(r,"$gte",d),Object(s.a)(r,"$lte",h),r)),Object(s.a)(l,"Temp.Max",(o={},Object(s.a)(o,"$gte",O),Object(s.a)(o,"$lte",j),o)),Object(s.a)(l,"Temp.Min",(c={},Object(s.a)(c,"$gte",P),Object(s.a)(c,"$lte",T),c)),Object(s.a)(l,"Dst.continentCode",M),l),i={id:null,interval:w,limit:D,updated:Number(_),user_id:n.id,output:G,content:u};a.props.onChangeGroups("item",i),a.props.openModal("confirm_settings"),a.props.setPopout(null)}))}))},a.searchCountry=function(e,t,n){var o,c="citySrc";"countryDst"==n&&(c="cityDst"),a.setState((o={},Object(s.a)(o,n,e),Object(s.a)(o,c,null),o)),a.props.setPopout(r.a.createElement(g.I,null)),"all"!==e&&fetch("https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Cities/byCountry/".concat(e)).then((function(e){return e.json()})).then((function(e){e.unshift({code:"all",nameTranslations:{ru:"\u043b\u044e\u0431\u043e\u0439"}});var r=n+"Code";a.setState(Object(s.a)({cities:e},r,t.name))})),a.props.setPopout(null)},a.searchCity=function(e,t,n){var r,o=n+"Code";a.setState((r={},Object(s.a)(r,n,e),Object(s.a)(r,o,t.name),r)),console.log(a.state)},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.setPopout(r.a.createElement(g.I,null)),fetch("https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Countries").then((function(e){return e.json()})).then((function(t){t.unshift({code:"all",nameTranslations:{ru:"\u043b\u044e\u0431\u0430\u044f"}});var n=t.filter((function(t){return t.nameTranslations.ru.indexOf(e.props.state.user.country.title)>-1}))[0];fetch("https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Cities/byCountry/"+n.code).then((function(e){return e.json()})).then((function(a){a.unshift({code:"all",nameTranslations:{ru:"\u043b\u044e\u0431\u0430\u044f"}});var r=a.filter((function(t){return null!=t.nameTranslations.ru&&t.nameTranslations.ru.indexOf(e.props.state.user.city.title)>-1}))[0];console.log(r),e.setState({listCountry:t,cities:a,countrySrc:n.code,countrySrcCode:n.nameTranslations.ru,citySrc:r.code,citySrcCode:r.nameTranslations.ru},e.props.setPopout(null))}))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=(t.state,this.state),o=a.datesCnt,c=a.currency,s=a.currencyForUrl,l=a.language,u=a.countrySrc,i=a.countrySrcCode,p=(a.countryDstCode,a.citySrc),m=a.countryDst,h=(a.cityDst,a.continentDst),d=a.randomCost,f=a.randomTempDay,y=a.randomTempNight,b=a.costMin,E=a.costMax,v=a.dayTempMin,C=a.dayTempMax,k=a.nighTempMax,S=a.nighTempMin,O=a.days,j=a.dual,T=(a.updated,a.interval),P=a.forward,x=a.activeCnt,_=a.all_flight;return r.a.createElement(g.z,{id:n},r.a.createElement(g.A,{left:r.a.createElement(g.B,{onClick:function(){return e.props.go("home")}})},"\u041c\u043e\u0439 \u0432\u044b\u0431\u043e\u0440"),r.a.createElement(g.n,null,r.a.createElement(g.q,{style:{color:"var(--accent)"}},"\u041e\u0442\u043a\u0443\u0434\u0430"),r.a.createElement(g.o,{top:"\u0421\u0442\u0440\u0430\u043d\u0430"},r.a.createElement("div",{align:"left",style:{padding:"0 12px"}},r.a.createElement(De.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0443",options:this.state.listCountry.filter((function(e){return"all"!=e.code})).map((function(e,t){return{name:e.nameTranslations.ru,value:e.code}})),value:u,onChange:function(t,n){return e.searchCountry(t,n,"countrySrc")},search:!0}))),null!=i?r.a.createElement(g.o,{top:"\u0413\u043e\u0440\u043e\u0434"},r.a.createElement("div",{align:"left",style:{padding:"0 12px"}},r.a.createElement(De.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",options:this.state.cities.filter((function(e){return"all"!=e.code})).map((function(e,t){return{name:e.nameTranslations.ru,value:e.code}})),value:p,onChange:function(t,n){return e.searchCity(t,n,"citySrc")},search:!0}))):null),r.a.createElement("datalist",{id:"citySrc"},r.a.createElement("option",null,"\u043b\u044e\u0431\u043e\u0439"),this.state.data.map((function(e){return r.a.createElement("option",{value:e.nameTranslations.ru},e.code)}))),r.a.createElement(g.n,null,r.a.createElement(g.q,{style:{color:"var(--accent)"}},"\u041a\u0443\u0434\u0430"),r.a.createElement(g.J,{top:"\u0427\u0430\u0441\u0442\u044c \u0441\u0432\u0435\u0442\u0430",name:"continentDst",onChange:function(t){e.onChange(t),e.setState({countryDst:"all",cityDst:"all"},console.log(e.state))},value:h},Object.keys(Ne).map((function(e){return r.a.createElement("option",{value:e,key:e},Ne[e])}))),null==h||"all"==h?null:r.a.createElement(g.o,{top:"\u0421\u0442\u0440\u0430\u043d\u0430"},r.a.createElement("div",{align:"left",style:{padding:"0 12px"}},r.a.createElement(De.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0443",options:this.state.listCountry.filter((function(e){return e.continentCode==h||"all"==e.code})).map((function(e,t){return{name:e.nameTranslations.ru,value:e.code}})),value:m,onChange:function(t,n){return e.searchCountry(t,n,"countryDst")},search:!0}))),"all"==m||null==m||"all"==h?null:r.a.createElement(g.o,{top:"\u0413\u043e\u0440\u043e\u0434"},r.a.createElement("div",{align:"left",style:{padding:"0 12px"}},r.a.createElement(De.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",options:this.state.cities.map((function(e,t){return{name:e.nameTranslations.ru,value:e.code}})),value:m,onChange:function(t,n){return e.searchCity(t,n,"cityDst")},search:!0}))),r.a.createElement(g.q,null,"\u041a\u043e\u0433\u0434\u0430"),r.a.createElement(g.R,{mode:"buttons"},o&&o.map((function(t,n){return r.a.createElement(g.S,{selected:x==n,onClick:function(){return e.setState({activeCnt:n})}},n+1+" \u043f\u0435\u0440\u0438\u043e\u0434")})),o.length<3&&r.a.createElement(g.S,{onClick:this.addFrom},r.a.createElement(xe.a,null)),o.length>1&&r.a.createElement(g.S,{onClick:this.removeFrom},r.a.createElement(we.a,{fill:"rgb(255, 26, 0)"})))),r.a.createElement(g.n,{key:x},r.a.createElement(g.J,{top:"\u0413\u043e\u0434 \u0432\u044b\u043b\u0435\u0442\u0430 (".concat(x+1,")"),name:"year",id:x,onChange:this.onChangeFrom,value:o[x].year},Array.from(Array(31).keys()).map((function(e){return r.a.createElement("option",{key:e,value:(new Date).getFullYear()+e},(new Date).getFullYear()+e)}))),r.a.createElement(g.J,{top:"\u0412\u0440\u0435\u043c\u044f \u0433\u043e\u0434\u0430 (".concat(x+1,")"),name:"season",id:x,onChange:this.onChangeFrom,value:o[x].season},Object.keys(Me).filter((function(e){var t=e,n=(new Date).getMonth()+1;return(new Date).getFullYear()!=o[x].year?e:"all"==t?t:"winter"==t&&n<=12?t:"spring"==t&&n<=5?t:"summer"==t&&n<=8?t:"fall"==t&&n<=11?t:void 0})).map((function(e){return r.a.createElement("option",{value:e,key:e},Me[e])}))),r.a.createElement(g.J,{top:"\u041c\u0435\u0441\u044f\u0446 (".concat(x+1,")"),name:"month",id:x,onChange:this.onChangeFrom,value:o[x].month},Object.keys(Ae).filter((function(e){if(0==e)return e;var t=(new Date).getMonth()+1;if((new Date).getFullYear()==o[x].year)switch(o[x].season){case"all":return e;case"winter":if(12==e&&t<=e||1==e&&t<=e||2==e&&t<=e)return e;break;case"summer":if(6==e&&t<=e||7==e&&t<=e||8==e&&t<=e)return e;break;case"fall":if(9==e&&e>=t||10==e&&e>=t||11==e&&e>=t)return e;break;case"spring":if(3==e&&e>=t||4==e&&e>=t||5==e&&e>=t)return e}else switch(o[x].season){case"all":return e;case"winter":if(12==e||1==e||2==e)return e;break;case"summer":if(6==e||7==e||8==e)return e;break;case"fall":if(9==e||10==e||11==e)return e;break;case"spring":if(3==e||4==e||5==e)return e}})).map((function(e){return r.a.createElement("option",{value:e,key:e},Ae[e])})))),r.a.createElement(g.n,null,r.a.createElement(g.J,{top:"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b",name:"passengers",onChange:this.onChange},Object.keys(qe).map((function(e){return r.a.createElement("option",{value:e,key:e},qe[e])}))),r.a.createElement(g.q,{style:{color:"var(--accent)"}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f"),r.a.createElement(g.J,{top:"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0434\u0435\u0448\u0435\u0432\u044b\u0435 \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u0432",name:"interval",onChange:this.onChange},r.a.createElement("option",{value:"60"},"1 \u0447\u0430\u0441"),r.a.createElement("option",{value:"240"},"4 \u0447\u0430\u0441\u0430"),r.a.createElement("option",{value:"480"},"8 \u0447\u0430\u0441\u043e\u0432"),r.a.createElement("option",{value:"1440"},"24 \u0447\u0430\u0441\u0430")),r.a.createElement(g.J,{top:"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u0437\u0430 \u043a\u0440\u0430\u0439\u043d\u0438\u0435 N, \u0447\u0430\u0441\u043e\u0432",name:"updated",onChange:this.onChange,defaultValue:"60"},r.a.createElement("option",{value:"60"},"1 \u0447\u0430\u0441"),Number(T)>60?r.a.createElement("option",{value:"120"},"2 \u0447\u0430\u0441\u0430"):null,Number(T)>60?r.a.createElement("option",{value:"180"},"3 \u0447\u0430\u0441\u0430"):null,Number(T)>60?r.a.createElement("option",{value:"240"},"4 \u0447\u0430\u0441\u0430"):null,Number(T)>240?r.a.createElement("option",{value:"240"},"5 \u0447\u0430\u0441\u043e\u0432"):null,Number(T)>240?r.a.createElement("option",{value:"240"},"6 \u0447\u0430\u0441\u043e\u0432"):null,Number(T)>240?r.a.createElement("option",{value:"240"},"7 \u0447\u0430\u0441\u043e\u0432"):null,Number(T)>240?r.a.createElement("option",{value:"240"},"8 \u0447\u0430\u0441\u043e\u0432"):null),r.a.createElement(g.J,{top:"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0434\u0435\u0448\u0435\u0432\u044b\u0445 \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432 \u0441\u0443\u0442\u043a\u0438?",name:"limit",defaultValue:"0"},r.a.createElement("option",{value:"0"},"\u0432\u0441\u0435"),r.a.createElement("option",{value:"20"},"20"),r.a.createElement("option",{value:"50"},"50"),r.a.createElement("option",{value:"100"},"100"),r.a.createElement("option",{value:"300"},"300")),r.a.createElement(g.o,{top:"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0442\u043e\u0432"},P&&j&&r.a.createElement(g.L,{after:r.a.createElement(g.O,{name:"all_flight",style:Ue,onChange:function(t){e.onChangeCheck(t),e.setState({forward:!0,dual:!0})},checked:_})},"\u041b\u044e\u0431\u043e\u0435"),!_&&r.a.createElement(g.L,{after:r.a.createElement(g.O,{name:"forward",onChange:this.onChangeCheck,checked:P})},"\u0442\u0443\u0434\u0430"),!_&&r.a.createElement(g.L,{after:r.a.createElement(g.O,{name:"dual",style:Ue,onChange:this.onChangeCheck,checked:j})},"\u0442\u0443\u0434\u0430-\u043e\u0431\u0440\u0430\u0442\u043d\u043e")),r.a.createElement(g.J,{top:"\u042f\u0437\u044b\u043a",name:"language",onChange:this.onChange,value:l},Object.keys(Ge).map((function(e){return r.a.createElement("option",{value:e,key:e},Ge[e])}))),r.a.createElement(g.J,{top:"\u0412\u0430\u043b\u044e\u0442\u0430 \u0432 \u0431\u0438\u043b\u0435\u0442\u0435",name:"currency",onChange:function(t){e.onChange(t),e.setState({randomCost:!0,costMin:Ie[t.currentTarget.value].min,costMax:Ie[t.currentTarget.value].max})},value:c},Object.keys(Ie).map((function(e){return r.a.createElement("option",{value:e,key:e},Ie[e].name)}))),r.a.createElement(g.J,{top:"\u0412\u0430\u043b\u044e\u0442\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0438",name:"currencyForUrl",onChange:this.onChange,value:s},Object.keys(Ie).map((function(e){return r.a.createElement("option",{value:e,key:e},Ie[e].name)}))),r.a.createElement(g.o,{top:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0443\u044e \u0438 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0443\u044e \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u043e\u0432, "+c},r.a.createElement(g.L,{after:r.a.createElement(g.O,{checked:d,onChange:function(t){e.setState({costMin:t.currentTarget.checked?Ie[c].min:b,costMax:t.currentTarget.checked?Ie[c].max:E,randomCost:t.currentTarget.checked})}})},"\u043b\u044e\u0431\u0430\u044f"),!d&&r.a.createElement(g.G,{top:b+" - "+E,min:Ie[c].min,max:Ie[c].max,step:100,defaultValue:[Ie[c].min,Ie[c].max],value:[b,E],onChange:function(t){e.setState({costMin:t[0],costMax:t[1],randomCost:!1})}}),!d&&r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(g.t,{onFocus:function(){console.log("focus")},value:b,type:"number",onChange:function(t){var n=parseInt(t.currentTarget.value,10);n&&n<E&&n>=Ie[c].min&&e.setState({costMin:n})}}),r.a.createElement(g.t,{value:E,type:"number",onChange:function(t){var n=parseInt(t.currentTarget.value,10);n&&n>b&&n<=Ie[c].max&&e.setState({costMax:n})}}))),r.a.createElement(g.J,{name:"profitability",onChange:this.onChange,top:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0441 \u0432\u044b\u0433\u043e\u0434\u043e\u0439 \u0431\u043e\u043b\u044c\u0448\u0435, %"},r.a.createElement("option",null,"30"),r.a.createElement("option",null,"40"),r.a.createElement("option",null,"50"),r.a.createElement("option",null,"60"),r.a.createElement("option",null,"70"),r.a.createElement("option",null,"80"),r.a.createElement("option",null,"90")),r.a.createElement(g.o,{top:"\u0425\u043e\u0447\u0443 \u0432\u044b\u043b\u0435\u0442\u0435\u0442\u044c \u0432 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u0434\u0435\u043d\u044c \u043d\u0435\u0434\u0435\u043b\u0438"},r.a.createElement(g.L,{after:r.a.createElement(g.O,{checked:this.state.allDays,name:"all",onChange:this.onChangeDays})},"\u043b\u044e\u0431\u043e\u0439"),!this.state.allDays&&r.a.createElement("div",null,r.a.createElement(g.L,{after:r.a.createElement(g.O,{name:"0",onChange:this.onChangeDays,checked:O[0]||this.state.allDays})},"\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a"),r.a.createElement(g.L,{after:r.a.createElement(g.O,{name:"1",onChange:this.onChangeDays,checked:O[1]||this.state.allDays})},"\u0432\u0442\u043e\u0440\u043d\u0438\u043a"),r.a.createElement(g.L,{after:r.a.createElement(g.O,{name:"2",onChange:this.onChangeDays,checked:O[2]||this.state.allDays})},"\u0441\u0440\u0435\u0434\u0430"),r.a.createElement(g.L,{after:r.a.createElement(g.O,{name:"3",onChange:this.onChangeDays,checked:O[3]||this.state.allDays})},"\u0447\u0435\u0442\u0432\u0435\u0440\u0433"),r.a.createElement(g.L,{after:r.a.createElement(g.O,{name:"4",onChange:this.onChangeDays,checked:O[4]||this.state.allDays})},"\u043f\u044f\u0442\u043d\u0438\u0446\u0430"),r.a.createElement(g.L,{after:r.a.createElement(g.O,{name:"5",onChange:this.onChangeDays,checked:O[5]||this.state.allDays})},"\u0441\u0443\u0431\u0431\u043e\u0442\u0430"),r.a.createElement(g.L,{after:r.a.createElement(g.O,{name:"6",onChange:this.onChangeDays,checked:O[6]||this.state.allDays})},"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435"))),r.a.createElement(g.o,{top:"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0432\u043e\u0437\u0434\u0443\u0445\u0430 \u0434\u043d\u0435\u043c \u0432 \u0434\u0435\u043d\u044c \u043f\u0440\u0438\u043b\u0435\u0442\u0430, C"},r.a.createElement(g.L,{after:r.a.createElement(g.O,{checked:f,onChange:function(t){e.setState({dayTempMin:t.currentTarget.checked?-50:v,dayTempMax:t.currentTarget.checked?50:C,randomTempDay:t.currentTarget.checked})}})},"\u043b\u044e\u0431\u0430\u044f"),!f&&r.a.createElement(g.G,{min:-50,max:50,step:1,defaultValue:[-50,50],value:[v,C],onChange:function(t){e.setState({dayTempMin:t[0],dayTempMax:t[1],randomTempDay:!1})}}),!f&&r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(g.t,{onFocus:function(){console.log("focus")},value:v,type:"number",onChange:function(t){var n=parseInt(t.currentTarget.value,10);n&&n<C&&n>=-50&&e.setState({dayTempMin:n})}}),r.a.createElement(g.t,{value:C,type:"number",onChange:function(t){var n=parseInt(t.currentTarget.value,10);n&&n>v&&n<=50&&e.setState({dayTempMax:n})}}))),r.a.createElement(g.o,{top:"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0432\u043e\u0437\u0434\u0443\u0445\u0430 \u043d\u043e\u0447\u044c\u044e \u0432 \u0434\u0435\u043d\u044c \u043f\u0440\u0438\u043b\u0435\u0442\u0430, C"},r.a.createElement(g.L,{after:r.a.createElement(g.O,{checked:y,onChange:function(t){e.setState({nighTempMin:t.currentTarget.checked?-50:S,nighTempMax:t.currentTarget.checked?50:k,randomTempNight:t.currentTarget.checked})}})},"\u043b\u044e\u0431\u0430\u044f"),!y&&r.a.createElement(g.G,{min:-50,max:50,step:1,defaultValue:[-50,50],value:[S,k],onChange:function(t){e.setState({nighTempMin:t[0],nighTempMax:t[1],randomTempNight:!1})}}),!y&&r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(g.t,{onFocus:function(){console.log("focus")},value:S,type:"number",onChange:function(t){var n=parseInt(t.currentTarget.value,10);n&&n<S&&n>=-50&&e.setState({nighTempMin:n})}}),r.a.createElement(g.t,{value:k,type:"number",onChange:function(t){var n=parseInt(t.currentTarget.value,10);n&&n>k&&n<=50&&e.setState({nighTempMax:n})}}))),r.a.createElement(g.e,{mode:"primary",size:"xl",onClick:this.sort_res},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"),r.a.createElement(g.e,{style:{border:"1px solid var(--accent)"},href:"https://www.booking.com/?aid=1540284",size:"xl",target:"_blank",mode:"secondary"},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043e\u0442\u0435\u043b\u044c \u043d\u0430 booking.com")),this.state.snackbar)}}]),t}(a.Component),Je={paddingTop:0,paddingBottom:0},Be={all:"\u043b\u044e\u0431\u043e\u0435",winter:"\u0437\u0438\u043c\u0430",spring:"\u0432\u0435\u0441\u043d\u0430",summer:"\u043b\u0435\u0442\u043e",fall:"\u043e\u0441\u0435\u043d\u044c"},Le={0:"\u043b\u044e\u0431\u043e\u0439",1:"\u044f\u043d\u0432\u0430\u0440\u044c",2:"\u0444\u0435\u0432\u0440\u0430\u043b\u044c",3:"\u043c\u0430\u0440\u0442",4:"\u0430\u043f\u0440\u0435\u043b\u044c",5:"\u043c\u0430\u0439",6:"\u0438\u044e\u043d\u044c",7:"\u0438\u044e\u043b\u044c",8:"\u0430\u0432\u0433\u0443\u0441\u0442",9:"\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c",10:"\u043e\u043a\u0442\u044f\u0431\u0440\u044c",11:"\u043d\u043e\u044f\u0431\u0440\u044c",12:"\u0434\u0435\u043a\u0430\u0431\u0440\u044c"},Ke={all:"\u043b\u044e\u0431\u0430\u044f",E:"\u0415\u0432\u0440\u043e\u043f\u0430",F:"\u0410\u0444\u0440\u0438\u043a\u0430",D:"\u041e\u043a\u0435\u0430\u043d\u0438\u044f",A:"\u0410\u0437\u0438\u044f",S:"\u042e\u0436\u043d\u0430\u044f \u0410\u043c\u0435\u0440\u0438\u043a\u0430",N:"\u0421\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0410\u043c\u0435\u0440\u0438\u043a\u0430"},Ve={de:"\u043d\u0435\u043c\u0435\u0446\u043a\u0438\u0439",en:"\u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439",es:"\u0438\u0441\u043f\u0430\u043d\u0441\u043a\u0438\u0439",fr:"\u0444\u0440\u0430\u043d\u0446\u0443\u0437\u0441\u043a\u0438\u0439",it:"\u0438\u0442\u0430\u043b\u044c\u044f\u043d\u0441\u043a\u0438\u0439",ru:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439",th:"\u0442\u0430\u0439\u0441\u043a\u0438\u0439",tr:"\u0442\u0443\u0440\u0435\u0446\u043a\u0438\u0439"},We={AZN:{name:"\u043c\u0430\u043d\u0430\u0442",min:5,max:7e3},BYN:{name:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",min:10,max:1e4},CNY:{name:"\u044e\u0430\u043d\u044c",min:10,max:3e4},EUR:{name:"\u0435\u0432\u0440\u043e",min:1,max:4e3},KGS:{name:"\u0441\u043e\u043c",min:100,max:3e5},KZT:{name:"\u0442\u0435\u043d\u0433\u0435",min:500,max:15e5},RUB:{name:"\u0440\u0443\u0431\u043b\u044c",min:100,max:3e5},THB:{name:"\u0431\u0430\u0442",min:10,max:15e4},UAH:{name:"\u0433\u0440\u0438\u0432\u043d\u0430",min:50,max:1e5},USD:{name:"\u0434\u043e\u043b\u043b\u0430\u0440",min:1,max:5e3},UZS:{name:"\u0441\u0443\u043c",min:500,max:5e5}},Re={url:"1 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440, \u044d\u043a\u043e\u043d\u043e\u043c\u043a\u043b\u0430\u0441\u0441",url2Passengers:"2 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430, \u044d\u043a\u043e\u043d\u043e\u043c\u043a\u043b\u0430\u0441\u0441",url1Business:"1 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440, \u0431\u0438\u0437\u043d\u0435\u0441-\u043a\u043b\u0430\u0441\u0441",urlForma:"\u0434\u0440\u0443\u0433\u043e\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442"},ze=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={data:[],listCountry:[],cityDstList:[],citySrcList:[],continentDst:n.props.state.form.continentDst,updated:n.props.state.form.updated,countrySrcCode:n.props.state.form.countrySrc,citySrcCode:n.props.state.form.citySrc,countryDstCode:n.props.state.form.countryDst,cityDstCode:n.props.state.form.cityDst,limit:n.props.state.form.limit,datesCnt:n.props.state.form.dates,language:n.props.state.form.language,profitability:n.props.state.form.profitability,currency:n.props.state.form.currency,currencyForUrl:n.props.state.form.currencyForUrl,passengers:n.props.state.form.passengers,randomCost:n.props.state.form.randomCost,costMin:n.props.state.form.costMin,costMax:n.props.state.form.costMax,dayTempMin:n.props.state.form["dayTemp.min"],dayTempMax:n.props.state.form["dayTemp.max"],interval:n.props.state.form.interval,nighTempMin:n.props.state.form["nightTemp.min"],nighTempMax:n.props.state.form["nightTemp.max"],dual:n.props.state.form.dual,forward:n.props.state.form.forward,days:n.props.state.form.days,allDays:-1==n.props.state.form.days.indexOf(!1),all_flight:n.props.state.form.dual&&n.props.state.form.forward,randomTempDay:-50==n.props.state.form["dayTemp.min"]&&50==n.props.state.form["dayTemp.max"],randomTempNight:-50==n.props.state.form["nightTemp.min"]&&50==n.props.state.form["nightTemp.max"],activeCnt:0,snackbar:null},n.onChange=function(e){n.setState(Object(s.a)({},e.currentTarget.name,e.currentTarget.value))},n.onChangeFrom=function(e){var t=n.state.datesCnt;t[parseInt(e.currentTarget.id,10)][e.currentTarget.name]=e.currentTarget.value,n.setState({datesCnt:t})},n.addFrom=function(){var e=n.state.datesCnt;e.push({yearSrc:(new Date).getFullYear(),seasonSrc:Be.all,monthSrc:Le[0]}),n.setState({datesCnt:e})},n.removeFrom=function(){var e=n.state.datesCnt;n.setState({datesCnt:e.splice(0,e.length-1)})},n.onChangeDays=function(e){if(console.log(e.currentTarget.name),"all"==e.currentTarget.name)n.setState({allDays:!n.state.allDays});else{var t=!n.state.days[Number(e.currentTarget.name)];n.state.days.splice([Number(e.currentTarget.name)],1,t);console.log(n.state.days);var a=!0;n.state.days.forEach((function(e){e||(a=!1)})),n.setState({days:n.state.days,allDays:a})}},n.sort_res=function(){var e;n.props.setPopout(r.a.createElement(g.I,null));var t,a=n.props.state.user,o=n.state,c=o.citySrcCode,l=o.cityDstCode,u=o.countryDstCode,i=o.countrySrcCode,p=(o.citySrc,o.cityDst,o.countryDst),m=o.countrySrc,h=o.costMax,d=o.costMin,f=o.currency,y=o.currencyForUrl,b=o.language,E=o.randomCost,v=o.dual,C=o.forward,k=o.datesCnt,S=o.profitability,O=o.dayTempMin,j=o.dayTempMax,T=o.nighTempMax,P=o.nighTempMin,x=o.passengers,_=o.updated,w=o.interval,D=o.limit,M=o.continentDst;t=n.state.allDays?[!0,!0,!0,!0,!0,!0,!0]:n.state.days;var A,N,G=(e={citySrc:c,cityDst:l,countryDst:u,countrySrc:i,continentDst:M,costMax:h,costMin:d,currency:f,currencyForUrl:y,language:b,randomCost:E,forward:C,dual:v,passengers:x,updated:Number(_),limit:D,interval:w,optional:!0,dates:k,showAddionalWeather:!0,profitability:String(S)},Object(s.a)(e,"nightTemp.max",T),Object(s.a)(e,"nightTemp.min",P),Object(s.a)(e,"dayTemp.max",j),Object(s.a)(e,"dayTemp.min",O),Object(s.a)(e,"days",t),e);fetch(" https://translate.yandex.net/api/v1.5/tr.json/translate?key=trnsl.1.1.20191125T185829Z.bafa3ff776a2185a.64a334987cf74f3b022d5c07a4b67f2247dbc05b&lang=ru-en&text=".concat(c)).then((function(e){return e.json()})).then((function(e){A=e.text,fetch(" https://translate.yandex.net/api/v1.5/tr.json/translate?key=trnsl.1.1.20191125T185829Z.bafa3ff776a2185a.64a334987cf74f3b022d5c07a4b67f2247dbc05b&lang=ru-en&text=".concat(l)).then((function(e){return e.json()})).then((function(e){var r,o,c,l;N=e.text;var u=(l={},Object(s.a)(l,"src.CountryCode",m),Object(s.a)(l,"src.name",A),Object(s.a)(l,"dst.name",N),Object(s.a)(l,"Discount",Object(s.a)({},"$gte",S)),Object(s.a)(l,"SrcDayOfWeek",Object(s.a)({},"$in",t.map((function(e,t){if(1==e)return t})))),Object(s.a)(l,"Dst.CountryCode","all"==p?null:p),Object(s.a)(l,"Price",(r={},Object(s.a)(r,"$gte",d),Object(s.a)(r,"$lte",h),r)),Object(s.a)(l,"Temp.Max",(o={},Object(s.a)(o,"$gte",O),Object(s.a)(o,"$lte",j),o)),Object(s.a)(l,"Temp.Min",(c={},Object(s.a)(c,"$gte",P),Object(s.a)(c,"$lte",T),c)),Object(s.a)(l,"Dst.continentCode",M),l),i={id:n.props.state.form.id,interval:w,limit:D,updated:Number(_),user_id:a.id,output:G,content:u};n.props.onChangeGroups("item",i),n.props.openModal("confirm_settings"),n.props.setPopout(null)}))}))},n.searchCountry=function(e,t,a){var o,c="citySrc";"countryDst"==a&&(c="cityDst"),n.setState((o={},Object(s.a)(o,a,e),Object(s.a)(o,c,null),o)),n.props.setPopout(r.a.createElement(g.I,null)),"all"!==e&&fetch("https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Cities/byCountry/".concat(e)).then((function(e){return e.json()})).then((function(e){var r;e.unshift({code:"all",nameTranslations:{ru:"\u043b\u044e\u0431\u043e\u0439"}});var o=a+"Code",l=c+"List";n.setState((r={},Object(s.a)(r,l,e),Object(s.a)(r,o,t.name),r))})),n.props.setPopout(null)},n.searchCity=function(e,t,a){var r,o=a+"Code";n.setState((r={},Object(s.a)(r,a,e),Object(s.a)(r,o,t.name),r)),console.log(n.state)},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.setPopout(r.a.createElement(g.I,null)),fetch("https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Countries").then((function(e){return e.json()})).then((function(t){t.unshift({code:"all",nameTranslations:{ru:"\u043b\u044e\u0431\u0430\u044f"}});var n=t.filter((function(t){return t.nameTranslations.ru.indexOf(e.state.countrySrcCode)>-1}))[0];console.log(n,e.state),fetch("https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Cities/byCountry/"+n.code).then((function(e){return e.json()})).then((function(a){a.unshift({code:"all",nameTranslations:{ru:"\u043b\u044e\u0431\u0430\u044f"}});var r=a.filter((function(t){return null!=t.nameTranslations.ru&&t.nameTranslations.ru.indexOf(e.state.citySrcCode)>-1}))[0];if(console.log(r),e.setState({listCountry:t,citySrcList:a,countrySrc:n.code,countrySrcCode:n.nameTranslations.ru,citySrc:r.code,citySrcCode:r.nameTranslations.ru}),null!=e.state.countryDstCode){var o=t.filter((function(t){return t.nameTranslations.ru.indexOf(e.state.countryDstCode)>-1}))[0];fetch("https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Cities/byCountry/"+o.code).then((function(e){return e.json()})).then((function(n){n.unshift({code:"all",nameTranslations:{ru:"\u043b\u044e\u0431\u0430\u044f"}});var a=n.filter((function(t){return null!=t.nameTranslations.ru&&t.nameTranslations.ru.indexOf(e.state.citySrcCode)>-1}))[0];console.log(r),e.setState({listCountry:t,cityDstList:n,countryDst:o.code,countryDstCode:o.nameTranslations.ru,cityDst:a.code,cityDstCode:a.nameTranslations.ru})}))}e.props.setPopout(null)}))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=(t.state,this.state),o=a.datesCnt,c=a.currency,s=a.currencyForUrl,l=a.language,u=a.countrySrc,i=a.countrySrcCode,p=(a.countryDstCode,a.citySrc),m=a.countryDst,h=(a.cityDst,a.continentDst),d=a.randomCost,f=a.randomTempDay,y=a.randomTempNight,b=a.costMin,E=a.costMax,v=a.dayTempMin,C=a.dayTempMax,k=a.nighTempMax,S=a.nighTempMin,O=a.days,j=a.dual,T=(a.updated,a.interval),P=a.forward,x=a.activeCnt,_=a.all_flight;return r.a.createElement(g.z,{id:n},r.a.createElement(g.A,{left:r.a.createElement(g.B,{onClick:function(){return e.props.go("home")}})},"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b"),r.a.createElement(g.n,null,r.a.createElement(g.q,{style:{color:"var(--accent)"}},"\u041e\u0442\u043a\u0443\u0434\u0430"),r.a.createElement(g.o,{top:"\u0421\u0442\u0440\u0430\u043d\u0430"},r.a.createElement("div",{align:"left",style:{padding:"0 12px"}},r.a.createElement(De.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0443",options:this.state.listCountry.filter((function(e){return"all"!=e.code})).map((function(e,t){return{name:e.nameTranslations.ru,value:e.code}})),value:u,onChange:function(t,n){return e.searchCountry(t,n,"countrySrc")},search:!0}))),null!=i?r.a.createElement(g.o,{top:"\u0413\u043e\u0440\u043e\u0434"},r.a.createElement("div",{align:"left",style:{padding:"0 12px"}},r.a.createElement(De.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",options:this.state.citySrcList.filter((function(e){return"all"!=e.code})).map((function(e,t){return{name:e.nameTranslations.ru,value:e.code}})),value:p,onChange:function(t,n){return e.searchCity(t,n,"citySrc")},search:!0}))):null),r.a.createElement("datalist",{id:"citySrc"},r.a.createElement("option",null,"\u043b\u044e\u0431\u043e\u0439"),this.state.data.map((function(e){return r.a.createElement("option",{value:e.nameTranslations.ru},e.code)}))),r.a.createElement(g.n,null,r.a.createElement(g.q,{style:{color:"var(--accent)"}},"\u041a\u0443\u0434\u0430"),r.a.createElement(g.J,{top:"\u0427\u0430\u0441\u0442\u044c \u0441\u0432\u0435\u0442\u0430",name:"continentDst",onChange:function(t){e.onChange(t),e.setState({countryDst:"all",cityDst:"all"},console.log(e.state))},value:h},Object.keys(Ke).map((function(e){return r.a.createElement("option",{value:e,key:e},Ke[e])}))),null==h||"all"==h?null:r.a.createElement(g.o,{top:"\u0421\u0442\u0440\u0430\u043d\u0430"},r.a.createElement("div",{align:"left",style:{padding:"0 12px"}},r.a.createElement(De.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0443",options:this.state.listCountry.filter((function(e){return e.continentCode==h||"all"==e.code})).map((function(e,t){return{name:e.nameTranslations.ru,value:e.code}})),value:m,onChange:function(t,n){return e.searchCountry(t,n,"countryDst")},search:!0}))),"all"==m||null==m||"all"==h?null:r.a.createElement(g.o,{top:"\u0413\u043e\u0440\u043e\u0434"},r.a.createElement("div",{align:"left",style:{padding:"0 12px"}},r.a.createElement(De.a,{options:this.state.cityDstList.map((function(e,t){return{name:e.nameTranslations.ru,value:e.code}})),value:m,onChange:function(t,n){return e.searchCity(t,n,"cityDst")},search:!0}))),r.a.createElement(g.q,{style:{color:"var(--accent)"}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f"),r.a.createElement(g.J,{top:"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0434\u0435\u0448\u0435\u0432\u044b\u0435 \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u0432",name:"interval",onChange:this.onChange},r.a.createElement("option",{value:"60"},"1 \u0447\u0430\u0441"),r.a.createElement("option",{value:"240"},"4 \u0447\u0430\u0441\u0430"),r.a.createElement("option",{value:"480"},"8 \u0447\u0430\u0441\u043e\u0432"),r.a.createElement("option",{value:"1440"},"24 \u0447\u0430\u0441\u0430")),r.a.createElement(g.J,{top:"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u0437\u0430 \u043a\u0440\u0430\u0439\u043d\u0438\u0435 N, \u0447\u0430\u0441\u043e\u0432",name:"updated",onChange:this.onChange,defaultValue:"60"},r.a.createElement("option",{value:"60"},"1 \u0447\u0430\u0441"),Number(T)>60?r.a.createElement("option",{value:"120"},"2 \u0447\u0430\u0441\u0430"):null,Number(T)>60?r.a.createElement("option",{value:"180"},"3 \u0447\u0430\u0441\u0430"):null,Number(T)>60?r.a.createElement("option",{value:"240"},"4 \u0447\u0430\u0441\u0430"):null,Number(T)>240?r.a.createElement("option",{value:"240"},"5 \u0447\u0430\u0441\u043e\u0432"):null,Number(T)>240?r.a.createElement("option",{value:"240"},"6 \u0447\u0430\u0441\u043e\u0432"):null,Number(T)>240?r.a.createElement("option",{value:"240"},"7 \u0447\u0430\u0441\u043e\u0432"):null,Number(T)>240?r.a.createElement("option",{value:"240"},"8 \u0447\u0430\u0441\u043e\u0432"):null),r.a.createElement(g.J,{top:"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0434\u0435\u0448\u0435\u0432\u044b\u0445 \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432 \u0441\u0443\u0442\u043a\u0438?",name:"limit",defaultValue:"0"},r.a.createElement("option",{value:"0"},"\u0432\u0441\u0435"),r.a.createElement("option",{value:"20"},"20"),r.a.createElement("option",{value:"50"},"50"),r.a.createElement("option",{value:"100"},"100"),r.a.createElement("option",{value:"300"},"300")),r.a.createElement(g.o,{top:"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0442\u043e\u0432"},P&&j&&r.a.createElement(g.L,{after:r.a.createElement(g.O,{name:"all_flight",style:Je,onChange:function(t){e.onChangeCheck(t),e.setState({forward:!0,dual:!0})},checked:_})},"\u041b\u044e\u0431\u043e\u0435"),!_&&r.a.createElement(g.L,{after:r.a.createElement(g.O,{name:"forward",onChange:this.onChangeCheck,checked:P})},"\u0442\u0443\u0434\u0430"),!_&&r.a.createElement(g.L,{after:r.a.createElement(g.O,{name:"dual",style:Je,onChange:this.onChangeCheck,checked:j})},"\u0442\u0443\u0434\u0430-\u043e\u0431\u0440\u0430\u0442\u043d\u043e")),r.a.createElement(g.R,{mode:"buttons"},o&&o.map((function(t,n){return r.a.createElement(g.S,{selected:x==n,onClick:function(){return e.setState({activeCnt:n})}},n+1+" \u043f\u0435\u0440\u0438\u043e\u0434")})),o.length<3&&r.a.createElement(g.S,{onClick:this.addFrom},r.a.createElement(xe.a,null)),o.length>1&&r.a.createElement(g.S,{onClick:this.removeFrom},r.a.createElement(we.a,{fill:"rgb(255, 26, 0)"})))),r.a.createElement(g.n,{key:x},r.a.createElement(g.J,{top:"\u0413\u043e\u0434 \u0432\u044b\u043b\u0435\u0442\u0430 (".concat(x+1,")"),name:"year",id:x,onChange:this.onChangeFrom,value:o[x].year},Array.from(Array(31).keys()).map((function(e){return r.a.createElement("option",{key:e,value:(new Date).getFullYear()+e},(new Date).getFullYear()+e)}))),r.a.createElement(g.J,{top:"\u0412\u0440\u0435\u043c\u044f \u0433\u043e\u0434\u0430 (".concat(x+1,")"),name:"season",id:x,onChange:this.onChangeFrom,value:o[x].season},Object.keys(Be).filter((function(e){var t=e,n=(new Date).getMonth()+1;return(new Date).getFullYear()!=o[x].year?e:"all"==t?t:"winter"==t&&n<=12?t:"spring"==t&&n<=5?t:"summer"==t&&n<=8?t:"fall"==t&&n<=11?t:void 0})).map((function(e){return r.a.createElement("option",{value:e,key:e},Be[e])}))),r.a.createElement(g.J,{top:"\u041c\u0435\u0441\u044f\u0446 (".concat(x+1,")"),name:"month",id:x,onChange:this.onChangeFrom,value:o[x].month},Object.keys(Le).filter((function(e){if(0==e)return e;var t=(new Date).getMonth()+1;if((new Date).getFullYear()==o[x].year)switch(o[x].season){case"all":return e;case"winter":if(12==e&&t<=e||1==e&&t<=e||2==e&&t<=e)return e;break;case"summer":if(6==e&&t<=e||7==e&&t<=e||8==e&&t<=e)return e;break;case"fall":if(9==e&&e>=t||10==e&&e>=t||11==e&&e>=t)return e;break;case"spring":if(3==e&&e>=t||4==e&&e>=t||5==e&&e>=t)return e}else switch(o[x].season){case"all":return e;case"winter":if(12==e||1==e||2==e)return e;break;case"summer":if(6==e||7==e||8==e)return e;break;case"fall":if(9==e||10==e||11==e)return e;break;case"spring":if(3==e||4==e||5==e)return e}})).map((function(e){return r.a.createElement("option",{value:e,key:e},Le[e])})))),r.a.createElement(g.n,null,r.a.createElement(g.K,null),r.a.createElement(g.J,{top:"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b",name:"passengers",onChange:this.onChange},Object.keys(Re).map((function(e){return r.a.createElement("option",{value:e,key:e},Re[e])}))),r.a.createElement(g.J,{top:"\u042f\u0437\u044b\u043a",name:"language",onChange:this.onChange,value:l},Object.keys(Ve).map((function(e){return r.a.createElement("option",{value:e,key:e},Ve[e])}))),r.a.createElement(g.J,{top:"\u0412\u0430\u043b\u044e\u0442\u0430 \u0432 \u0431\u0438\u043b\u0435\u0442\u0435",name:"currency",onChange:function(t){e.onChange(t),e.setState({randomCost:!0,costMin:We[t.currentTarget.value].min,costMax:We[t.currentTarget.value].max})},value:c},Object.keys(We).map((function(e){return r.a.createElement("option",{value:e,key:e},We[e].name)}))),r.a.createElement(g.J,{top:"\u0412\u0430\u043b\u044e\u0442\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0438",name:"currencyForUrl",onChange:this.onChange,value:s},Object.keys(We).map((function(e){return r.a.createElement("option",{value:e,key:e},We[e].name)}))),r.a.createElement(g.o,{top:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0443\u044e \u0438 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0443\u044e \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u043e\u0432, "+c},r.a.createElement(g.L,{after:r.a.createElement(g.O,{checked:d,onChange:function(t){e.setState({costMin:t.currentTarget.checked?We[c].min:b,costMax:t.currentTarget.checked?We[c].max:E,randomCost:t.currentTarget.checked})}})},"\u043b\u044e\u0431\u0430\u044f"),!d&&r.a.createElement(g.G,{top:b+" - "+E,min:We[c].min,max:We[c].max,step:100,defaultValue:[We[c].min,We[c].max],value:[b,E],onChange:function(t){e.setState({costMin:t[0],costMax:t[1],randomCost:!1})}}),!d&&r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(g.t,{onFocus:function(){console.log("focus")},value:b,type:"number",onChange:function(t){var n=parseInt(t.currentTarget.value,10);n&&n<E&&n>=We[c].min&&e.setState({costMin:n})}}),r.a.createElement(g.t,{value:E,type:"number",onChange:function(t){var n=parseInt(t.currentTarget.value,10);n&&n>b&&n<=We[c].max&&e.setState({costMax:n})}}))),r.a.createElement(g.J,{name:"profitability",onChange:this.onChange,top:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0441 \u0432\u044b\u0433\u043e\u0434\u043e\u0439 \u0431\u043e\u043b\u044c\u0448\u0435, %"},r.a.createElement("option",null,"30"),r.a.createElement("option",null,"40"),r.a.createElement("option",null,"50"),r.a.createElement("option",null,"60"),r.a.createElement("option",null,"70"),r.a.createElement("option",null,"80"),r.a.createElement("option",null,"90")),r.a.createElement(g.o,{top:"\u0425\u043e\u0447\u0443 \u0432\u044b\u043b\u0435\u0442\u0435\u0442\u044c \u0432 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u0434\u0435\u043d\u044c \u043d\u0435\u0434\u0435\u043b\u0438"},r.a.createElement(g.L,{after:r.a.createElement(g.O,{checked:this.state.allDays,name:"all",onChange:this.onChangeDays})},"\u043b\u044e\u0431\u043e\u0439"),!this.state.allDays&&r.a.createElement("div",null,r.a.createElement(g.L,{after:r.a.createElement(g.O,{name:"0",onChange:this.onChangeDays,checked:O[0]||this.state.allDays})},"\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a"),r.a.createElement(g.L,{after:r.a.createElement(g.O,{name:"1",onChange:this.onChangeDays,checked:O[1]||this.state.allDays})},"\u0432\u0442\u043e\u0440\u043d\u0438\u043a"),r.a.createElement(g.L,{after:r.a.createElement(g.O,{name:"2",onChange:this.onChangeDays,checked:O[2]||this.state.allDays})},"\u0441\u0440\u0435\u0434\u0430"),r.a.createElement(g.L,{after:r.a.createElement(g.O,{name:"3",onChange:this.onChangeDays,checked:O[3]||this.state.allDays})},"\u0447\u0435\u0442\u0432\u0435\u0440\u0433"),r.a.createElement(g.L,{after:r.a.createElement(g.O,{name:"4",onChange:this.onChangeDays,checked:O[4]||this.state.allDays})},"\u043f\u044f\u0442\u043d\u0438\u0446\u0430"),r.a.createElement(g.L,{after:r.a.createElement(g.O,{name:"5",onChange:this.onChangeDays,checked:O[5]||this.state.allDays})},"\u0441\u0443\u0431\u0431\u043e\u0442\u0430"),r.a.createElement(g.L,{after:r.a.createElement(g.O,{name:"6",onChange:this.onChangeDays,checked:O[6]||this.state.allDays})},"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435"))),r.a.createElement(g.o,{top:"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0432\u043e\u0437\u0434\u0443\u0445\u0430 \u0434\u043d\u0435\u043c \u0432 \u0434\u0435\u043d\u044c \u043f\u0440\u0438\u043b\u0435\u0442\u0430, C"},r.a.createElement(g.L,{after:r.a.createElement(g.O,{checked:f,onChange:function(t){e.setState({dayTempMin:t.currentTarget.checked?-50:v,dayTempMax:t.currentTarget.checked?50:C,randomTempDay:t.currentTarget.checked})}})},"\u043b\u044e\u0431\u0430\u044f"),!f&&r.a.createElement(g.G,{min:-50,max:50,step:1,defaultValue:[-50,50],value:[v,C],onChange:function(t){e.setState({dayTempMin:t[0],dayTempMax:t[1],randomTempDay:!1})}}),!f&&r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(g.t,{onFocus:function(){console.log("focus")},value:v,type:"number",onChange:function(t){var n=parseInt(t.currentTarget.value,10);n&&n<C&&n>=-50&&e.setState({dayTempMin:n})}}),r.a.createElement(g.t,{value:C,type:"number",onChange:function(t){var n=parseInt(t.currentTarget.value,10);n&&n>v&&n<=50&&e.setState({dayTempMax:n})}}))),r.a.createElement(g.o,{top:"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0432\u043e\u0437\u0434\u0443\u0445\u0430 \u043d\u043e\u0447\u044c\u044e \u0432 \u0434\u0435\u043d\u044c \u043f\u0440\u0438\u043b\u0435\u0442\u0430, C"},r.a.createElement(g.L,{after:r.a.createElement(g.O,{checked:y,onChange:function(t){e.setState({nighTempMin:t.currentTarget.checked?-50:S,nighTempMax:t.currentTarget.checked?50:k,randomTempNight:t.currentTarget.checked})}})},"\u043b\u044e\u0431\u0430\u044f"),!y&&r.a.createElement(g.G,{min:-50,max:50,step:1,defaultValue:[-50,50],value:[S,k],onChange:function(t){e.setState({nighTempMin:t[0],nighTempMax:t[1],randomTempNight:!1})}}),!y&&r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(g.t,{onFocus:function(){console.log("focus")},value:S,type:"number",onChange:function(t){var n=parseInt(t.currentTarget.value,10);n&&n<S&&n>=-50&&e.setState({nighTempMin:n})}}),r.a.createElement(g.t,{value:k,type:"number",onChange:function(t){var n=parseInt(t.currentTarget.value,10);n&&n>k&&n<=50&&e.setState({nighTempMax:n})}}))),r.a.createElement(g.e,{mode:"primary",size:"xl",onClick:this.sort_res},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"),r.a.createElement(g.e,{style:{border:"1px solid var(--accent)"},href:"https://www.booking.com/?aid=1540284",size:"xl",target:"_blank",mode:"secondary"},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043e\u0442\u0435\u043b\u044c \u043d\u0430 booking.com")),this.state.snackbar)}}]),t}(a.Component),Ye=n(59),He=n.n(Ye),Ze=(a.Component,function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={inp:n.props.default,list:null},n.onChange=function(e){var t="";"citySrc"==n.props.changeDefaultName&&(t=n.props.state.countrySrc),"cityDst"==n.props.changeDefaultName&&(t=n.props.state.countryDst),"city_"==n.props.changeDefaultName&&(t=n.props.state.user.country.title),console.log(n.props.state),fetch("https://autocomplete.travelpayouts.com/places2?term=".concat(t," ").concat(e.currentTarget.value,"&locale=ru&types[]=city")).then((function(e){return e.json()})).then((function(e){if(e.length>0){var a=[];e.forEach((function(e){e.country_name===t&&a.push(e)})),n.setState({list:a})}}))},n.onChoose=function(e){n.props.changeFunction(e),n.props.back()},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state.list,n=this.props,a=n.id,o=n.back,c=n.text;return r.a.createElement(g.z,{id:a},r.a.createElement(g.A,{left:r.a.createElement(g.B,{onClick:o})},c),r.a.createElement(g.k,null,r.a.createElement(g.t,{onChange:this.onChange})),null===t?r.a.createElement(g.E,null,"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430"):r.a.createElement(g.v,null,t&&t.map((function(t,n){return r.a.createElement(g.L,{onClick:function(){return e.onChoose(t.name)},id:t.name,key:n,after:t.name===c&&r.a.createElement(He.a,null)},t.name)}))))}}]),t}(a.Component));a.Component;function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe={color:"var(--accent)"},et={all:"\u043b\u044e\u0431\u043e\u0435",winter:"\u0437\u0438\u043c\u0430",spring:"\u0432\u0435\u0441\u043d\u0430",summer:"\u043b\u0435\u0442\u043e",fall:"\u043e\u0441\u0435\u043d\u044c"},tt={0:"\u043b\u044e\u0431\u043e\u0439",1:"\u044f\u043d\u0432\u0430\u0440\u044c",2:"\u0444\u0435\u0432\u0440\u0430\u043b\u044c",3:"\u043c\u0430\u0440\u0442",4:"\u0430\u043f\u0440\u0435\u043b\u044c",5:"\u043c\u0430\u0439",6:"\u0438\u044e\u043d\u044c",7:"\u0438\u044e\u043b\u044c",8:"\u0430\u0432\u0433\u0443\u0441\u0442",9:"\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c",10:"\u043e\u043a\u0442\u044f\u0431\u0440\u044c",11:"\u043d\u043e\u044f\u0431\u0440\u044c",12:"\u0434\u0435\u043a\u0430\u0431\u0440\u044c"},nt={random:"\u043b\u044e\u0431\u0430\u044f",E:"\u0415\u0432\u0440\u043e\u043f\u0430",F:"\u0410\u0444\u0440\u0438\u043a\u0430",O:"\u041e\u043a\u0435\u0430\u043d\u0438\u044f",A:"\u0410\u0437\u0438\u044f",S:"\u042e\u0436\u043d\u0430\u044f \u0410\u043c\u0435\u0440\u0438\u043a\u0430",N:"\u0421\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0410\u043c\u0435\u0440\u0438\u043a\u0430"},at={url:"1 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440, \u044d\u043a\u043e\u043d\u043e\u043c\u043a\u043b\u0430\u0441\u0441",url1Business:"1 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440, \u0431\u0438\u0437\u043d\u0435\u0441-\u043a\u043b\u0430\u0441\u0441",url2Passengers:"2 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430, \u044d\u043a\u043e\u043d\u043e\u043c\u043a\u043b\u0430\u0441\u0441",urlForma:"\u043e\u0442\u043a\u0440\u044b\u0442\u0430\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0435\u043c\u0430\u044f \u0444\u043e\u0440\u043c\u0430 \u043f\u043e\u0438\u0441\u043a\u0430"},rt={AZN:"\u043c\u0430\u043d\u0430\u0442",BYN:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",CNY:"\u044e\u0430\u043d\u044c",EUR:"\u0435\u0432\u0440\u043e",KGS:"\u0441\u043e\u043c",KZT:"\u0442\u0435\u043d\u0433\u0435 ",RUB:"\u0440\u0443\u0431\u043b\u044c ",THB:"\u0431\u0430\u0442",UAH:"\u0433\u0440\u0438\u0432\u043d\u0430",USD:"\u0434\u043e\u043b\u043b\u0430\u0440",UZS:"\u0441\u0443\u043c"},ot={AZN:"\u043c\u0430\u043d\u0430\u0442",BYN:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u0441\u043a\u0438\u0445 \u0440\u0443\u0431\u043b\u0435\u0439",CNY:"\u044e\u0430\u043d\u044c",EUR:"\u0435\u0432\u0440\u043e",KGS:"\u0441\u043e\u043c",KZT:"\u0442\u0435\u043d\u0433\u0435 ",RUB:"\u0440\u0443\u0431\u043b\u0435\u0439",THB:"\u0431\u0430\u0442",UAH:"\u0433\u0440\u0438\u0432\u043d\u0430",USD:"\u0434\u043e\u043b\u043b\u0430\u0440",UZS:"\u0441\u0443\u043c"},ct={de:"\u043d\u0435\u043c\u0435\u0446\u043a\u0438\u0439",en:"\u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439",es:"\u0438\u0441\u043f\u0430\u043d\u0441\u043a\u0438\u0439",fr:"\u0444\u0440\u0430\u043d\u0446\u0443\u0437\u0441\u043a\u0438\u0439",it:"\u0438\u0442\u0430\u043b\u044c\u044f\u043d\u0441\u043a\u0438\u0439",ru:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439",th:"\u0442\u0430\u0439\u0441\u043a\u0438\u0439",tr:"\u0442\u0443\u0440\u0435\u0446\u043a\u0438\u0439"},st=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={activeStory:"about",activePanel:"home",activeModal:null,popout:null,currentCatalog:0,currentGroup:"",catalog:null,appId:null,marker:122890,form:null,obj:{from:null,to:null,all:!1}},n.sortData=function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],t.forEach(function(){var e=Object(i.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:-1===(n=a.findIndex((function(e){return e.catalog===t.catalog})))&&(a.push({catalog:t.catalog,to:[]}),n=a.length-1),t.section?-1===(r=a[n].to.findIndex((function(e){return e.section===t.section})))?a[n].to.push({section:t.section,arr:[t]}):a[n].to[r].arr.push(t):a[n].to.push(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.shift(),a.splice(a.findIndex((function(e){return""===e.catalog})),1),n.setState({catalog:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onStoryChange=function(e){n.setState({activeStory:e.currentTarget.dataset.story,activePanel:"home"})},n.setPopout=function(e){n.setState({popout:e})},n.openCatalog=function(e){n.setState({activePanel:"catalog",currentCatalog:parseInt(e.currentTarget.id,10)})},n.openModal=function(e){console.log(e),n.setState({activeModal:e})},n.chooseGlobal=function(e){console.log(n.state.changeDefaultName,e),n.setState(Object(s.a)({},n.state.changeDefaultName,e))},n.go=function(e){n.setState({activePanel:e,currentSection:null})},n.chooseSection=function(e){n.setState({activePanel:"sectionCatalog",currentSection:parseInt(e.currentTarget.id,10)})},n.save_request=function(){n.setState({popout:r.a.createElement(g.I,null)}),fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-user-api-request",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},referrer:"https://appvk.flights.ru/",referrerPolicy:"no-referrer-when-downgrade",body:JSON.stringify(n.state.item),method:"POST"}).then((function(e){return e.json()})).then((function(e){"ok"===e.response&&(n.setState({popout:null,activeModal:null,activePanel:"home"}),console.log(e))})).catch((function(e){n.setState({snackbar:r.a.createElement(F,{close:function(){return n.setState({snackbar:null})}})}),n.setState({popout:null})}))},n.onChangeGroups=function(e,t){console.log(t),n.setState(Object(s.a)({},e,t))},n.choose=function(e){n.setState({obj:Qe({},n.state.obj,Object(s.a)({},e.currentTarget.name,n.state.obj[e.currentTarget.name].map((function(t,n){return n===parseInt(e.currentTarget.id,10)?(t.checked=e.currentTarget.checked,t):t}))))});var t=!0;n.state.obj.from.forEach((function(e){e.checked||(t=!1)})),n.state.obj.to.forEach((function(e){e.checked||(t=!1)})),n.setState({obj:Qe({},n.state.obj,{all:t})})},n.goGroup=function(e){n.setState({currentGroup:e,activePanel:"group"})},n.chooseAll=function(){var e=!n.state.obj.all,t=n.state.obj,a=t.from,r=t.to;n.setState({obj:Qe({},n.state.obj,{from:a.map((function(t,n){return t.checked=e,t})),to:r.map((function(t,n){return t.checked=e,t})),all:e})})},n.submit=Object(i.a)(u.a.mark((function e(){var t,a,o,c,s,l,i,p,m,h,d,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state.obj,a=t.from,o=t.to,c=t.name,s=t.groupId,t.id,l=t.screenName,i=n.state,p=i.catalog,m=i.currentCatalog,h=i.currentSection,d=i.user,n.setPopout(r.a.createElement(g.I,null)),a.filter((function(e){return e.checked})).length>0&&o.filter((function(e){return e.checked})).length>0&&(f=(f=(f=[]).concat(a.filter((function(e){return e.checked})).map((function(e){return e.tag+"/"+s+"/"+c+"/"+p[m].catalog+"/"+(h||"\u041b\u044e\u0431\u043e\u0439")})))).concat(o.filter((function(e){return e.checked})).map((function(e){return e.tag+"/"+s+"/"+c+"/"+p[m].catalog+"/"+(h||"\u041b\u044e\u0431\u043e\u0439")}))),fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-tags",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},body:JSON.stringify({user_id:String(d.id)}),method:"POST"}).then((function(e){return e.json()})).then((function(e){e.tags.length>0&&(f=f.concat(e.tags.map((function(e){return e.body+"/"+e.group_id+"/"+e.group_name+"/"+e.category+"/"+e.section})))),fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-tags",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},referrer:"https://appvk.flights.ru/",referrerPolicy:"no-referrer-when-downgrade",body:JSON.stringify({user_id:String(d.id),checkbox:f}),method:"POST"}).then((function(e){return e.json()})).then((function(e){if("ok"===e.response){n.state.my_groups.push(l);n.setState({popout:null,activeModal:null})}}))})));case 4:case"end":return e.stop()}}),e)}))),n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setPopout(r.a.createElement(g.I,null)),b.a.sendPromise("VKWebAppGetUserInfo").then((function(t){e.setState({activeStory:"subscribes",appId:parseInt(window.location.href.split("vk_app_id=")[1].split("&")[0],10),user:t,platform:e.props.platform})})),v.a.get("https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Channels").then(function(){var t=Object(i.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sortData(n.data);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"render",value:function(){var e,t=this,n=this.state,a=n.activePanel,o=n.popout,c=n.defaultCountry,l=n.chooseCountryText,u=(n.changeFunction,n.changeDefaultName),i=n.friend,p=n.calendar,m=n.item,h=this.state.obj,d=h.from,f=h.to,y=h.all;return r.a.createElement(g.j,{isWebView:!0},r.a.createElement(g.l,{activeStory:this.state.activeStory,tabbar:r.a.createElement(g.P,null,r.a.createElement(g.Q,{onClick:this.onStoryChange,selected:"about"===this.state.activeStory,"data-story":"about",text:"\u041f\u043e\u043c\u043e\u0449\u044c"},r.a.createElement(x.a,null)),r.a.createElement(g.Q,{onClick:this.onStoryChange,selected:"subscribes"===this.state.activeStory,"data-story":"subscribes",text:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"},r.a.createElement(k.a,null)),r.a.createElement(g.Q,{onClick:this.onStoryChange,selected:"friends"===this.state.activeStory,"data-story":"friends",text:"\u0414\u0440\u0443\u0437\u044c\u044f"},r.a.createElement(O.a,null)),r.a.createElement(g.Q,{onClick:this.onStoryChange,selected:"aviasales"===this.state.activeStory,"data-story":"aviasales",text:"Aviasales"},r.a.createElement(T.a,null)),r.a.createElement(g.Q,{onClick:this.onStoryChange,selected:"services"===this.state.activeStory,"data-story":"services",text:"\u0421\u0435\u0440\u0432\u0438\u0441\u044b"},r.a.createElement(w.a,null)))},r.a.createElement(g.U,{id:"about",activePanel:a,popout:o},r.a.createElement(g.z,{id:"home"})),r.a.createElement(g.U,{id:"subscribes",activePanel:a,popout:o,modal:r.a.createElement(g.y,{activeModal:this.state.activeModal},r.a.createElement(g.w,{id:"subscribeCities",onClose:function(){return t.setState({activeModal:null})},dynamicContentHeight:!0,settlingHeight:100,header:r.a.createElement(g.x,null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430")},r.a.createElement(g.k,{style:{position:"relative",textAlign:"left",overflowX:"hidden",overflowY:"auto",backgroundColor:"#fff"},className:"SubscribeCities"},r.a.createElement(g.h,{indicator:r.a.createElement(g.O,{checked:y,onChange:this.chooseAll})},"\u0412\u0441\u0435"),r.a.createElement(g.T,{level:"3",weight:"bold"},"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b \u0438\u0437:"),r.a.createElement(g.n,null,d&&d.map((function(e,n){return r.a.createElement(g.i,{key:n,id:n,name:"from",onChange:t.choose,checked:e.checked},e.tag.split("#")[1].split("@")[0])})),r.a.createElement(g.T,{level:"3",weight:"bold"},"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b \u0432:"),f&&f.map((function(e,n){return r.a.createElement(g.i,{key:n,id:n,name:"to",onChange:t.choose,checked:e.checked},e.tag.split("#")[1].split("@")[0])})),r.a.createElement(g.e,{size:"xl",onClick:this.submit},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c")))),r.a.createElement(g.w,{id:"confirm_settings",header:r.a.createElement(g.x,null,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435"),onClose:function(){return t.setState({activeModal:null})},settlingHeight:100},m&&r.a.createElement(g.f,{size:"l",mode:"shadow"},r.a.createElement(g.k,{style:{padding:"20px",lineHeight:1.5}},"\u0418\u0437 \u0441\u0442\u0440\u0430\u043d\u044b ",r.a.createElement("b",{style:Xe},m.output.countrySrc?m.output.countrySrc:"\u043b\u044e\u0431\u0430\u044f")," \u0438 \u0433\u043e\u0440\u043e\u0434\u0430 ",r.a.createElement("b",{style:Xe},m.output.citySrc?m.output.citySrc:"\u043b\u044e\u0431\u043e\u0439"),r.a.createElement("br",null),"\u0412 \u0447\u0430\u0441\u0442\u044c \u0441\u0432\u0435\u0442\u0430 ",r.a.createElement("b",{style:Xe},nt[m.output.continentDst])," \u0438 \u0441\u0442\u0440\u0430\u043d\u0443 ",r.a.createElement("b",{style:Xe},m.output.countryDst?m.output.countryDst:"\u043b\u044e\u0431\u0430\u044f"),r.a.createElement("br",null),"\u0412 \u0433\u043e\u0440\u043e\u0434 ",r.a.createElement("b",{style:Xe},m.output.cityDst?m.output.cityDst:"\u043b\u044e\u0431\u043e\u0439"),r.a.createElement("br",null),"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0442\u043e\u0432: \u0442\u0443\u0434\u0430-\u043e\u0431\u0440\u0430\u0442\u043d\u043e - ",r.a.createElement("b",{style:Xe},m.output.dual?"\u0434\u0430":"\u043d\u0435\u0442"),r.a.createElement("br",null),"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0442\u043e\u0432: \u0442\u0443\u0434\u0430 - ",r.a.createElement("b",{style:Xe},m.output.forward?"\u0434\u0430":"\u043d\u0435\u0442"),r.a.createElement("br",null),m.output.dates.map((function(e,t){return r.a.createElement("div",{key:t},"\u0413\u043e\u0434 \u0432\u044b\u043b\u0435\u0442\u0430 (",t+1,") ",r.a.createElement("b",{style:Xe},e.year),r.a.createElement("br",null),"\u0412\u0440\u0435\u043c\u044f \u0433\u043e\u0434\u0430 (",t+1,") ",r.a.createElement("b",{style:Xe},et[e.season]),r.a.createElement("br",null),"\u041c\u0435\u0441\u044f\u0446 (",t+1,") ",r.a.createElement("b",{style:Xe},tt[e.month]),r.a.createElement("br",null))})),r.a.createElement("br",null),"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b ",r.a.createElement("b",{style:Xe},at[m.output.passengers]),r.a.createElement("br",null),"\u0426\u0435\u043d\u0430 \u043e\u0442 ",r.a.createElement("b",{style:Xe},m.output.costMin)," \u0434\u043e ",r.a.createElement("b",{style:Xe},m.output.costMax)," ",ot[m.output.currency],r.a.createElement("br",null),"\u041f\u0435\u0440\u0438\u043e\u0434 \u043f\u043e\u043a\u0430\u0437\u0430 ",r.a.createElement("b",{style:Xe},m.output.interval)," \u043c\u0438\u043d\u0443\u0442",r.a.createElement("br",null),"\u0413\u043b\u0443\u0431\u0438\u043d\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 ",r.a.createElement("b",{style:Xe},m.output.updated)," \u043c\u0438\u043d\u0443\u0442",r.a.createElement("br",null),"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0437\u0430 24 \u0447\u0430\u0441\u0430 ",r.a.createElement("b",{style:Xe},"0"===m.output.limit?"\u0432\u0441\u0435":m.output.limit),r.a.createElement("br",null),"\u042f\u0437\u044b\u043a ",r.a.createElement("b",{style:Xe},ct[m.output.language]),r.a.createElement("br",null),"\u0412\u0430\u043b\u044e\u0442\u0430 (\u0446\u0435\u043d\u0430) ",r.a.createElement("b",{style:Xe},rt[m.output.currency]),r.a.createElement("br",null),"\u0412\u0430\u043b\u044e\u0442\u0430 (\u043c\u0435\u0442\u0430\u043f\u043e\u0438\u0441\u043a\u043e\u0432\u0438\u043a\u0430) ",r.a.createElement("b",{style:Xe},rt[m.output.currencyForUrl]),r.a.createElement("br",null),m.output.optional&&r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{style:{color:"var(--tabbar_inactive_icon)"}},"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b"),m.output.profitability&&"\u0412\u044b\u0433\u043e\u0434\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u043a\u0443\u043f\u043a\u0438 \u0431\u043e\u043b\u044c\u0448\u0435 ",m.output.profitability&&r.a.createElement("b",{style:Xe},m.output.profitability+"%"),r.a.createElement("br",null),"\u0414\u043d\u0438 \u043d\u0435\u0434\u0435\u043b\u0438 \u0432\u044b\u043b\u0435\u0442\u0430 ",r.a.createElement("b",{style:Xe},function(e){var t=["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],n=0;if(e.every((function(e,t,a){return n++,!0===e})),7===n)return"\u0432\u0441\u0435";for(var a="",r=1;r<e.length;r++)e[r]&&(a+=t[r].toLowerCase()+", ");return a+=t[0].toLowerCase()}(m.output.days)),r.a.createElement("br",null),m.output.showAddionalWeather&&r.a.createElement("div",null,"\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u043f\u043e\u0433\u043e\u0434\u044b \u0432 \u0434\u0435\u043d\u044c \u043f\u0440\u0438\u043b\u0435\u0442\u0430",r.a.createElement("br",null),"\u0414\u043d\u0435\u043c \u043e\u0442 ",r.a.createElement("b",{style:Xe},m.output["dayTemp.min"])," \u0421 \u0434\u043e ",r.a.createElement("b",{style:Xe},m.output["dayTemp.max"])," \u0421",r.a.createElement("br",null),"\u041d\u043e\u0447\u044c\u044e \u043e\u0442 ",r.a.createElement("b",{style:Xe},m.output["nightTemp.min"])," \u0421 \u0434\u043e ",r.a.createElement("b",{style:Xe},m.output["nightTemp.max"])," \u0421",r.a.createElement("br",null)))),r.a.createElement(g.k,null,r.a.createElement(g.e,{size:"xl",onClick:this.save_request},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f")),r.a.createElement(g.k,null,r.a.createElement(g.e,{style:{border:"1px solid var(--accent)"},mode:"secondary",size:"xl",onClick:function(){return t.setState({activeModal:null})}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")))))},r.a.createElement(Se,(e={id:"home",state:this.state,go:this.go,onChangeGroups:this.onChangeGroups,onChange:this.onChangeForm,changeFunction:this.chooseGlobal,changeDefaultName:function(e){return t.setState({changeDefaultName:e},console.log(e))},openModal:this.openModal},Object(s.a)(e,"onChangeGroups",this.onChangeGroups),Object(s.a)(e,"setPopout",this.setPopout),e)),r.a.createElement(Fe,{id:"settings",state:this.state,setPopout:this.setPopout,onChangeGroups:this.onChangeGroups,openModal:this.openModal,go:this.go}),r.a.createElement(ze,{id:"edit_settings",onChangeGroups:this.onChangeGroups,setPopout:this.setPopout,go:this.go,openModal:this.openModal,state:this.state}),r.a.createElement(G,{id:"groups",state:this.state,setPopout:this.setPopout,go:this.go,openCatalog:this.openCatalog}),r.a.createElement(ne,{id:"catalog",state:this.state,setPopout:this.setPopout,openModal:this.openModal,go:this.go,goGroup:this.goGroup,onChangeGroups:this.onChangeGroups,chooseSection:this.chooseSection}),r.a.createElement(oe,{id:"sectionCatalog",goGroup:this.goGroup,state:this.state,setPopout:this.setPopout,openModal:this.openModal,onChangeGroups:this.onChangeGroups,go:this.go}),r.a.createElement(Z,{id:"group",onChangeGroups:this.onChangeGroups,openModal:this.openModal,go:this.go,setPopout:this.setPopout,state:this.state})),r.a.createElement(g.U,{id:"friends",activePanel:a,popout:o,modal:r.a.createElement(g.y,{activeModal:this.state.activeModal},r.a.createElement(g.w,{id:"bullet_to_friend",onClose:function(){return t.setState({activeModal:null})},header:r.a.createElement(g.x,{right:g.s&&r.a.createElement(g.C,{onClick:function(){return t.setState({activeModal:null})}},r.a.createElement(M.a,null)),left:g.r&&r.a.createElement(g.C,{onClick:function(){return t.setState({activeModal:null})}},r.a.createElement(N.a,null))},"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c \u043d\u0438\u0437\u043a\u0438\u0445 \u0446\u0435\u043d"),dynamicContentHeight:!0},null==i?r.a.createElement(g.N,null):r.a.createElement(g.L,{disabled:!0,before:r.a.createElement(g.d,{src:i.photo_200}),description:i.city.title},i.first_name+" "+i.last_name),p&&r.a.createElement("div",{className:"container",style:{paddingLeft:12,paddingRight:12}},Object.keys(p).map((function(e,n){return r.a.createElement("div",{size:"s",className:"container__item"},r.a.createElement("div",{align:"center"},r.a.createElement(g.L,{description:p[e].price+" RUB",target:"_blank",href:"https://www.aviasales.ru/search?origin_iata="+p[e].origin+"&destination_iata="+p[e].destination+"&depart_date="+p[e].departure_at.split("T")[0]+"&return_date="+p[e].return_at.split("T")[0]+"&locale=ru&currency=RUB&with_request=true&adults=1&children=0&infants=0&trip_class=0&expected_price="+p[e].price+"&one_way=false&marker="+t.state.marker},e.split("-")[2]+"."+e.split("-")[1]+"."+e.split("-")[0])))})))))},r.a.createElement(Te,{id:"home",state:this.state,setPopout:this.setPopout,go:this.go,openModal:this.openModal,onChangeGroups:this.onChangeGroups}),r.a.createElement(Ze,{id:"chooseCity",default:c,text:l,changeFunction:this.chooseGlobal,changeDefaultName:u,state:this.state,back:function(){return t.setState({activePanel:"home"})}})),r.a.createElement(g.U,{id:"aviasales",activePanel:a,popout:o},r.a.createElement(g.z,{id:"home"}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var lt=n(82),ut=n(192),it=n(193);n(542),n(543),n(544);b.a.send("VKWebAppInit",{}),c.a.render(r.a.createElement(st,null),document.getElementById("root")),lt.init(),lt.add(ut),lt.add(it),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[223,1,2]]]);
//# sourceMappingURL=main.ab5023a1.chunk.js.map