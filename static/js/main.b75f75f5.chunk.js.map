{"version":3,"sources":["panels/Groups.jsx","components/SubscribeCities.jsx","panels/Catalog.jsx","panels/SectionCatalog.jsx","components/SnackbarError.jsx","components/MyGroups.jsx","components/MyDB.jsx","panels/MySubs.jsx","panels/Friends.jsx","panels/Settings.jsx","panels/EditSettings.jsx","components/ChooseCity.jsx","components/ChooseCountry.jsx","components/ChooseCountryByContinent.jsx","App.js","serviceWorker.js","index.js"],"names":["Groups","id","state","openCatalog","go","left","onClick","catalog","size","map","item","index","key","expandable","SubscribeCities","from","to","all","this","setState","props","obj","updateModalHeight","close","React","Component","Catalog","withModalRootContext","subscribe","e","screenName","currentTarget","split","bridge","sendPromise","app_id","appId","scope","request_id","then","auth","access_token","method","params","group_id","v","data","response","fetch","JSON","stringify","user_id","user","checkbox","subscribeMessages","name","setPopout","domain","tags","a","tagsIn","tagsOut","items","forEach","group","match","text","matchAll","length","matchOut","push","matchIn","filter","i","indexOf","groupId","tag","checked","onChangeGroups","openModal","catch","subscribeMessagesAlert","actions","title","autoclose","mode","action","onClose","currentCatalog","section","chooseSection","disabled","multiline","Fragment","channelName","window","open","description","SectionCatalog","currentSection","arr","SnakbarError","console","log","before","fill","MyGroups","snackbar","openMenu","edit_","body","openConfirm","delete","tag_id","json","check","splice","string","itemsWall","tags_obj","element","tags_name","err","String","SnackbarError","group_name","caption","after","category","SEASONS_TRANSCRIPTION","MONTHS_TRANSCRIPTION","0","1","2","3","4","5","6","7","8","9","10","11","12","CONTINENTS","PASSENGERS","url","url1Business","url2Passengers","urlForma","CURRENCY","AZN","BYN","CNY","EUR","KGS","KZT","RUB","THB","UAH","USD","UZS","CURRENCY1","LANGUAGES","de","en","es","fr","it","ru","th","tr","blue","color","MyDB","openAlert","edit","parse","output","setTimeout","requests","separator","style","padding","lineHeight","countrySrc","citySrc","continentDst","countryDst","cityDst","dual","forward","dates","year","season","month","passengers","costMin","costMax","currency","interval","updated","limit","language","currencyForUrl","optional","profitability","days","daysOfWeek","every","array","res","toLowerCase","showAddionalWeather","MySubs","activeTab","vertical","selected","marginTop","onChange","Friends","friends","getFriends","fields","city","city_","getPrice","friend","cities","myCode","code","friendCode","indexPrice","Object","keys","price","date","src","photo_200","country","bdate","first_name","last_name","icon","header","CONTINENT_DST","E","F","D","A","S","N","min","max","paddingTop","paddingBottom","Settings","listCountry","datesCnt","Date","getFullYear","activeCnt","randomCost","randomTempDay","randomTempNight","dayTempMin","dayTempMax","value","onChangeCheck","onChangeFrom","parseInt","addFrom","yearSrc","seasonSrc","monthSrc","removeFrom","onChangeDays","allDays","bool","Number","t","sort_res","citySrcCode","cityDstCode","countryDstCode","countrySrcCode","nighTempMax","nighTempMin","src_name","dst_name","content","searchCountry","type","list","unshift","nameTranslations","nameCountry","searchCity","nameCity","s","n","all_flight","top","align","placeholder","options","el","search","continent","continentCode","defaultValue","Array","m","getMonth","step","display","onFocus","border","href","target","EditSettings","cityDstList","citySrcList","form","nameList","p","ChooseCity","inp","default","changeDefaultName","resArr","country_name","onChoose","changeFunction","back","App","activeStory","activePanel","activeModal","popout","sortData","findIndex","sectionIndex","shift","onStoryChange","dataset","story","modal","chooseGlobal","save_request","onChangeForm","choose","chooseAll","submit","concat","location","axios","get","defaultCountry","chooseCountryText","isWebView","tabbar","data-story","dynamicContentHeight","settlingHeight","position","textAlign","overflowX","overflowY","backgroundColor","className","indicator","level","weight","shadow","fontWeight","fontSize","iata","user_code","itoa","Boolean","hostname","send","ReactDOM","render","document","getElementById","eruda","erudaCode","erudaDom","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.b75f75f5.chunk.js","sourcesContent":["import React from 'react'\nimport { Panel, PanelHeader, List, SimpleCell, PanelSpinner, PanelHeaderBack } from '@vkontakte/vkui'\n\nconst Groups = ({ id, state, openCatalog, go }) => (\n  <Panel id={id}>\n    <PanelHeader left={<PanelHeaderBack onClick={() => go('home')} />}></PanelHeader>\n      {state.catalog === null ? \n        <PanelSpinner size='large'/>\n      :\n    <List>\n      {\n        state.catalog && (\n          state.catalog.map((item, index) => \n            <SimpleCell\n              key={item.catalog}\n              id={index}\n              expandable\n              onClick={openCatalog}\n            >\n              {item.catalog}\n            </SimpleCell>\n          )\n        )\n          \n       \n      }\n    </List>\n    }\n  </Panel>\n)\n\nexport default Groups\n","import React from 'react'\nimport { Div, Checkbox, Title, FormLayout, Switch, Cell, ScreenSpinner, ModalPage, withModalRootContext } from '@vkontakte/vkui'\n\nexport class SubscribeCities extends React.Component {\n  state = {\n    from: null,\n    to: null,\n    all:false,\n  }\n\n  componentDidMount() {\n    this.setState({ from: this.props.state.obj.from, to: this.props.state.obj.to })\n    this.props.updateModalHeight();\n  }\n\n\n\n\n  render() {\n    const {\n      from,\n      to,\n      all\n    } = this.state\n    const {\n      id,\n      close,\n      state\n    } = this.props\n    return (\n    \n<div />\n      \n\n    )\n  }\n}\nexport default withModalRootContext(SubscribeCities);\n\n","import React, { Component } from 'react'\nimport { Panel, PanelHeader, PanelHeaderBack, RichCell, SimpleCell, Link, Button, Alert, ScreenSpinner } from '@vkontakte/vkui'\nimport Icon28SettingsOutline from '@vkontakte/icons/dist/28/settings_outline';\nimport bridge from '@vkontakte/vk-bridge'\nimport SubscribeCities from '../components/SubscribeCities'\n\nexport class Catalog extends Component {\n  //   \n  subscribe = e => {\n    const screenName = e.currentTarget.id.split(\"com/\")[1]\n    const { state } = this.props\n    bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n      app_id: state.appId,\n      scope: \"wall,groups\",\n      request_id: 1\n    })\n    .then(auth => {\n      if(auth.access_token && auth.scope === \"wall,groups\"){\n        bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n          method: \"groups.getById\",\n          request_id: 2,\n          params: {\n            group_id: screenName,\n            access_token: auth.access_token,\n            v: 5.107,\n          }\n        })\n        .then(data => {\n          bridge.sendPromise(\"VKWebAppJoinGroup\", {\"group_id\": data.response[0].id})\n          .then(() => {\n            //   ,    \n            //    \n            fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-groups\", {\n              \"headers\": {\n                \"accept\": \"*/*\",\n                \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n                \"content-type\": \"application/json;charset=utf-8\",\n              },\n              \"body\": JSON.stringify({\n                user_id: state.user.id,\n                app_id: state.appId,\n                checkbox: data.response[0].id\n              }),\n              \"method\": \"POST\",\n            });\n          })\n        })\n      }\n    })\n  }\n\n  //   \n  subscribeMessages = (screenName, name) => {\n    const { state } = this.props\n    this.props.setPopout(<ScreenSpinner />)\n    bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n      app_id: state.appId,\n      scope: \"wall,groups\",\n      request_id: 1\n    })\n    .then(auth => {\n      if(auth.access_token && auth.scope === \"wall,groups\"){\n        bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n          method: \"groups.getById\",\n          request_id: 2,\n          params: {\n            group_id: screenName,\n            access_token: auth.access_token,\n            v: 5.107,\n          }\n        })\n        .then(data => {\n          bridge.sendPromise(\"VKWebAppAllowMessagesFromGroup\", {\"group_id\": data.response[0].id, \"key\": \"dBuBKe1kFcdemzB\"})\n          .then(() => {\n            bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n              method: \"wall.get\",\n              request_id: 2,\n              params: {\n                domain: screenName,\n                access_token: auth.access_token,\n                v: 5.107,\n              }\n            })\n            .then(async tags => {\n              let tagsIn = [];\n              let tagsOut = [];\n              let itemsWall = tags.response.items;\n              itemsWall.forEach((group) => {\n                let match = [...group.text.matchAll(/(#.*@.*)/g)];\n                if (match.length) {\n                  if (match.length > 2) {\n                    let matchOut = match[2];\n                    tagsOut.push(matchOut)\n                }\n                let matchIn = match[0];\n                tagsIn.push(matchIn)\n                }\n              });\n              tagsIn = tagsIn.map((item) => \n                item[0]\n              )\n              tagsIn = tagsIn.filter((v,i) => tagsIn.indexOf(v) === i)\n              tagsOut = tagsOut.map((item) => \n                item[0]\n              )\n              tagsOut = tagsOut.filter((v,i) => tagsOut.indexOf(v) === i)\n              let obj = {\n                name:name,\n                id:null,\n                groupId:data.response[0].id, \n                from:tagsOut.map((item) => {\n                  return {\n                    tag: item,\n                    checked: false\n                  }\n                }),\n                to:tagsIn.map((item) => {\n                  return {\n                    tag: item,\n                    checked: false\n                  }\n                })\n\n              }\n              this.props.onChangeGroups('obj', obj);\n              this.props.openModal('subscribeCities')\n              this.props.setPopout(null) \n              \n            })\n            .catch(() => this.props.setPopout(null))\n          })\n          .catch(() => this.props.setPopout(null))\n        })\n        .catch(() => this.props.setPopout(null))\n      }\n    })\n    .catch(() => this.props.setPopout(null))\n  }\n\n  //   \n  subscribeMessagesAlert = e => {\n    const screenName = e.currentTarget.id.split(\"com/\")[1]\n    const name = e.currentTarget.name\n    this.props.setPopout(\n      <Alert\n        actions={[{\n          title: '',\n          autoclose: true,\n          mode: 'cancel'\n        }, {\n          title: '',\n          autoclose: true,\n          action: () => this.subscribeMessages(screenName, name),\n        }]}\n        onClose={() => this.props.setPopout(null)}\n      >\n        <p>           ,   .             .</p>\n      </Alert>\n    )\n  }\n\n  render() {\n    const {\n      id,\n      state,\n      go,\n    } = this.props\n    return (\n      <Panel id={id}>\n        <PanelHeader\n          left={\n            <PanelHeaderBack onClick={() => go(\"groups\")} />\n          }\n        >{state.catalog[state.currentCatalog].catalog}</PanelHeader>\n        {\n          state.catalog && (\n            state.catalog[state.currentCatalog].to.map((item, index) => \n              item.section ? \n                <SimpleCell\n                  key={index}\n                  expandable\n                  id={index}\n                  onClick={this.props.chooseSection}\n                >\n                  <Link>{item.section}</Link>\n                </SimpleCell>\n              :\n              <RichCell\n                key={index}\n                disabled\n                multiline\n                actions={\n                  <React.Fragment>\n                    <Button\n                      mode=\"outline\"\n                      id={item.channelName}\n                      onClick={this.subscribe}\n                    ></Button>\n                     <Button\n                      mode=\"outline\"\n                      id={item.channelName}\n                      onClick={e => window.open(e.currentTarget.id, '_blank')}\n                    ></Button>\n                    <Link name={item.description} id={item.channelName} onClick={this.subscribeMessagesAlert}>\n                      <Icon28SettingsOutline />\n                    </Link>\n                  </React.Fragment>\n                }\n              >\n                {item.description}\n              </RichCell>\n            )\n          )\n        }\n      </Panel>\n    )\n  }\n}\n\nexport default Catalog\n","import React, { Component } from 'react'\nimport { Panel, PanelHeader, PanelHeaderBack, RichCell, Link, Button, Header, ScreenSpinner, Alert } from '@vkontakte/vkui'\nimport Icon28SettingsOutline from '@vkontakte/icons/dist/28/settings_outline';\nimport bridge from '@vkontakte/vk-bridge'\nimport SubscribeCities from '../components/SubscribeCities'\n\nexport class SectionCatalog extends Component {\n  //   \n  subscribe = e => {\n    const screenName = e.currentTarget.id.split(\"com/\")[1]\n    const { state } = this.props\n    bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n      app_id: state.appId,\n      scope: \"wall,groups\",\n      request_id: 1\n    })\n    .then(auth => {\n      if(auth.access_token && auth.scope === \"wall,groups\"){\n        bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n          method: \"groups.getById\",\n          request_id: 2,\n          params: {\n            group_id: screenName,\n            access_token: auth.access_token,\n            v: 5.107,\n          }\n        })\n        .then(data => {\n          bridge.sendPromise(\"VKWebAppJoinGroup\", {\"group_id\": data.response[0].id})\n          .then(() => {\n            //   ,    \n            //    \n            fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-groups\", {\n              \"headers\": {\n                \"accept\": \"*/*\",\n                \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n                \"content-type\": \"application/json;charset=utf-8\",\n                \"sec-fetch-dest\": \"empty\",\n                \"sec-fetch-mode\": \"cors\",\n                \"sec-fetch-site\": \"same-origin\"\n              },\n              \"body\": JSON.stringify({\n                user_id: state.user.id,\n                app_id: state.appId,\n                checkbox: data.response[0].id\n              }),\n              \"method\": \"POST\",\n              \"mode\": \"cors\",\n              \"credentials\": \"include\"\n            });\n          })\n        })\n      }\n    })\n  }\n\n    //   \n    subscribeMessages = (screenName, name) => {\n      const { state } = this.props\n      this.props.setPopout(<ScreenSpinner />)\n      bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n        app_id: state.appId,\n        scope: \"wall,groups\",\n        request_id: 1\n      })\n      .then(auth => {\n        if(auth.access_token && auth.scope === \"wall,groups\"){\n          bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n            method: \"groups.getById\",\n            request_id: 2,\n            params: {\n              group_id: screenName,\n              access_token: auth.access_token,\n              v: 5.107,\n            }\n          })\n          .then(data => {\n            bridge.sendPromise(\"VKWebAppAllowMessagesFromGroup\", {\"group_id\": data.response[0].id, \"key\": \"dBuBKe1kFcdemzB\"})\n            .then(() => {\n              bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n                method: \"wall.get\",\n                request_id: 2,\n                params: {\n                  domain: screenName,\n                  access_token: auth.access_token,\n                  v: 5.107,\n                }\n              })\n              .then(async tags => {\n                let tagsIn = [];\n                let tagsOut = [];\n                let itemsWall = tags.response.items;\n                itemsWall.forEach((group) => {\n                  let match = [...group.text.matchAll(/(#.*@.*)/g)];\n                  if (match.length) {\n                    if (match.length > 2) {\n                      let matchOut = match[2];\n                      tagsOut.push(matchOut)\n                  }\n                  let matchIn = match[0];\n                  tagsIn.push(matchIn)\n                  }\n                });\n                tagsIn = tagsIn.map((item) => \n                  item[0]\n                )\n                tagsIn = tagsIn.filter((v,i) => tagsIn.indexOf(v) === i)\n                tagsOut = tagsOut.map((item) => \n                  item[0]\n                )\n                tagsOut = tagsOut.filter((v,i) => tagsOut.indexOf(v) === i)\n                let obj = {\n                  name:name,\n                  id:null,\n                  groupId:data.response[0].id, \n                  from:tagsOut.map((item) => {\n                    return {\n                      tag: item,\n                      checked: false\n                    }\n                  }),\n                  to:tagsIn.map((item) => {\n                    return {\n                      tag: item,\n                      checked: false\n                    }\n                  })\n  \n                }\n                this.props.onChangeGroups('obj', obj);\n                this.props.openModal('subscribeCities')\n                this.props.setPopout(null)\n              })\n              .catch(() => this.props.setPopout(null))\n            })\n            .catch(() => this.props.setPopout(null))\n          })\n          .catch(() => this.props.setPopout(null))\n        }\n      })\n      .catch(() => this.props.setPopout(null))\n    }\n  \n    //   \n    subscribeMessagesAlert = e => {\n      const screenName = e.currentTarget.id.split(\"com/\")[1]\n      const name = e.currentTarget.name\n      this.props.setPopout(\n        <Alert\n          actions={[{\n            title: '',\n            autoclose: true,\n            mode: 'cancel'\n          }, {\n            title: '',\n            autoclose: true,\n            action: () => this.subscribeMessages(screenName, name),\n          }]}\n          onClose={() => this.props.setPopout(null)}\n        >\n          <p>           ,   .             .</p>\n        </Alert>\n      )\n    }\n\n  render() {\n    const {\n      id,\n      state,\n      go,\n    } = this.props\n    return (\n      <Panel id={id}>\n        <PanelHeader\n          left={\n            <PanelHeaderBack onClick={() => go(\"catalog\")} />\n          }\n        >{state.catalog[state.currentCatalog].catalog}</PanelHeader>\n        {\n          (state.currentSection || state.currentSection === 0) && (\n            <Header>{state.catalog[state.currentCatalog].to[state.currentSection].section}</Header>\n          )\n        }\n        {\n          (state.currentSection || state.currentSection === 0) && (\n            state.catalog && (\n              state.catalog[state.currentCatalog].to[state.currentSection].arr.map((item, index) => \n                <RichCell\n                  key={index}\n                  disabled\n                  multiline\n                  actions={\n                    <React.Fragment>\n                      <Button\n                        mode=\"outline\"\n                        id={item.channelName}\n                        onClick={this.subscribe}\n                      ></Button>\n                       <Button\n                        mode=\"outline\"\n                        id={item.channelName}\n                        onClick={e => window.open(e.currentTarget.id, '_blank')}\n                      ></Button>\n                      <Link name={item.description} id={item.channelName} onClick={this.subscribeMessagesAlert}>\n                        <Icon28SettingsOutline />\n                      </Link>\n                    </React.Fragment>\n                  }\n                >\n                  {item.description}\n                </RichCell>\n              )\n            )\n          )\n        }\n      </Panel>\n    )\n  }\n}\n\nexport default SectionCatalog\n","import React, { Component } from 'react'\r\nimport { render } from '@testing-library/react';\r\nimport { Snackbar } from '@vkontakte/vkui';\r\n\r\nimport Icon24Error from '@vkontakte/icons/dist/24/error';\r\n\r\nexport class SnakbarError extends Component {\r\n    state = {\r\n        \r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(this.props.text);\r\n    }\r\n\r\n    render() {\r\n        return(\r\n        <Snackbar onClose={this.props.close} before={<Icon24Error fill='#FA5728'/>}>{this.props.text ? this.props.text : \" -.\"}</Snackbar>\r\n        )\r\n    }\r\n}\r\n \r\nexport default SnakbarError;","import React, { Component } from 'react'\nimport bridge from '@vkontakte/vk-bridge'\nimport { Group, ScreenSpinner, List, RichCell, Link, Separator, Placeholder, ActionSheet, ActionSheetItem, Alert } from '@vkontakte/vkui'\nimport Icon28EditOutline from '@vkontakte/icons/dist/28/edit_outline';\nimport Icon28DeleteOutlineAndroid from '@vkontakte/icons/dist/28/delete_outline_android';\n\n\nimport SnackbarError from './SnackbarError';\n\nexport class MyGroups extends Component {\n  state = {\n    data: null,\n    snackbar:null,\n  }\n  componentDidMount() {\n    this.props.setPopout(<ScreenSpinner />)\n    fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-tags\", {\n      \"headers\": {\n        \"accept\": \"*/*\",\n        \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n        \"content-type\": \"application/json;charset=utf-8\",\n      },\n      \"body\": JSON.stringify({\n        user_id: String(this.props.state.user.id)\n      }),\n      \"method\": \"POST\",\n    })\n    .then(response => response.json())\n    .then(data => {\n      \n      this.setState({ data: data.tags })\n      this.props.setPopout(null)\n    }).catch(err => {\n      this.props.setPopout(null)\n      this.setState({snackbar:<SnackbarError close={() => this.setState({snackbar:null})}/>, data:'error'})\n    })\n  }\n\n  openMenu = (item, i) => {\n    this.props.setPopout(\n      <ActionSheet onClose={() => this.props.setPopout(null)}>\n        <ActionSheetItem autoclose before={<Icon28EditOutline />} onClick={() => this.edit_(item.body, item.id)}>\n          \n        </ActionSheetItem>\n        <ActionSheetItem mode=\"destructive\" before={<Icon28DeleteOutlineAndroid />} onClick={() => this.openConfirm(item.id, i)}>\n            \n        </ActionSheetItem>\n      </ActionSheet>\n    )\n  }\n\n  openConfirm = (id, i) => {\n    this.props.setPopout(\n      <Alert\n      onClose={() => this.props.setPopout(null)}\n      actions={[{\n        title: '',\n        autoclose: true,\n        mode: 'cancel'\n      }, {\n        title: '',\n        autoclose: true,\n        mode: 'destructive',\n        action: () => this.delete(id, i),\n      }]}>\n        ?\n      </Alert>\n    )\n  }\n\n  delete = (id, i) => {\n    console.log(i)\n    this.props.setPopout(<ScreenSpinner />);\n    fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/remove-tag\", {\n      \"headers\": {\n        \"accept\": \"*/*\",\n        \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n        \"content-type\": \"application/json;charset=utf-8\",\n      },\n      \"referrer\": \"https://appvk.flights.ru/\",\n      \"referrerPolicy\": \"no-referrer-when-downgrade\",\n      \"body\": JSON.stringify({tag_id:id, user_id:this.props.state.user.id}),\n      \"method\": \"POST\",\n    })\n    .then(response => response.json())\n    .then(check => {\n      if(check.response === 'ok'){\n        this.state.data.splice(i, 1);\n        this.props.setPopout(null);\n      }\n    })\n  }\n\n  edit_ = (string, id) => {\n    let name = string.split('#')[1];\n    let screenName = string.split('@')[1];\n    const { state } = this.props\n    this.props.setPopout(<ScreenSpinner />)\n    bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n      app_id: state.appId,\n      scope: \"wall,groups\",\n      request_id: 1\n    })\n    .then(auth => {\n      if(auth.access_token && auth.scope === \"wall,groups\"){\n        bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n          method: \"groups.getById\",\n          request_id: 2,\n          params: {\n            group_id: screenName,\n            access_token: auth.access_token,\n            v: 5.107,\n          }\n        })\n        .then(data => {\n          bridge.sendPromise(\"VKWebAppAllowMessagesFromGroup\", {\"group_id\": data.response[0].id, \"key\": \"dBuBKe1kFcdemzB\"})\n          .then(() => {\n            bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n              method: \"wall.get\",\n              request_id: 2,\n              params: {\n                domain: screenName,\n                access_token: auth.access_token,\n                v: 5.107,\n              }\n            })\n            .then(async tags => {\n              let tagsIn = [];\n              let tagsOut = [];\n              let itemsWall = tags.response.items;\n              let tags_obj = this.state.data.filter(element => { if(element.body.split('@')[1] ===  screenName) { return true; }});\n              let tags_name = tags_obj.map(e => { return e.body});\n              console.log(tags_name);\n              itemsWall.forEach((group) => {\n                let match = [...group.text.matchAll(/(#.*@.*)/g)];\n                if (match.length) {\n                  if (match.length > 2) {\n                    let matchOut = match[2];\n                    tagsOut.push(matchOut)\n                }\n                let matchIn = match[0];\n                tagsIn.push(matchIn)\n                }\n              });\n              tagsIn = tagsIn.map((item) => \n                item[0]\n              )\n              tagsIn = tagsIn.filter((v,i) => tagsIn.indexOf(v) === i)\n              tagsOut = tagsOut.map((item) => \n                item[0]\n              )\n              tagsOut = tagsOut.filter((v,i) => tagsOut.indexOf(v) === i)\n              let obj = {\n                name:name,\n                id:id,\n                groupId:data.response[0].id, \n                from:tagsOut.map((item) => {\n                  return {\n                    tag: item,\n                    checked: tags_name.indexOf(item) !== -1\n                  }\n                }),\n                to:tagsIn.map((item) => {\n                  return {\n                    tag: item,\n                    checked: tags_name.indexOf(item) !== -1\n                  }\n                })\n              }\n              this.props.onChangeGroups('obj', obj);\n              this.props.openModal('subscribeCities');\n              this.props.setPopout(null);\n\n            })\n            .catch((err) => {this.props.setPopout(null); console.log(err)})\n          })\n          .catch((err) => {this.props.setPopout(null); console.log(err)})\n        })\n        .catch((err) => {this.props.setPopout(null); console.log(err)})\n      }\n    })\n    .catch(() => this.props.setPopout(null))\n  }\n\n  render() {\n    const {\n      data\n    } = this.state\n    return (\n      <Group>\n        {this.state.data === 'error' ? <Placeholder> -</Placeholder>:\n        data && (\n        <div>\n          {data.length === 0 ? <Placeholder>   .</Placeholder>:\n        <List>\n          {\n            \n              data.map((item, i) =>\n                <div key={i}>\n                  <RichCell\n                    onClick={() => this.openMenu(item, i)}\n                    text={item.group_name}\n                    caption={\n                      \": \"+item.body.split(\"#\")[1].split(\"@\")[0]\n                    }\n                    after={\n                      <div>\n                        <Link>\n                          <Icon28EditOutline />\n                        </Link><br /><br />\n                        <Link>\n                          <Icon28DeleteOutlineAndroid />\n                        </Link>\n                      </div>\n                    }\n                  >\n                    {item.category}\n                  </RichCell>\n                  <Separator />\n                </div>\n              )\n            \n          }\n        </List>\n        }\n        </div>\n        )\n      }\n      {this.state.snackbar}\n      </Group>\n    )\n  }\n}\n\nexport default MyGroups\n","import React, { Component } from 'react'\nimport SnackbarError from './SnackbarError';\nimport { Group, ScreenSpinner, CardGrid, Card, Div, Button, Alert, Placeholder } from '@vkontakte/vkui'\n\nconst SEASONS_TRANSCRIPTION = {\n  'all': '',\n  'winter': '',\n  'spring': '',\n  'summer': '',\n  'fall': '',\n};\nconst MONTHS_TRANSCRIPTION = {\n  0: '',\n  1: '', 2: '', 3: '', 4: '',\n  5: '', 6: '', 7: '', 8: '',\n  9: '', 10: '', 11: '', 12: '',\n};\n\nconst CONTINENTS = {\n  'random': '',\n  'E': '',\n  'F': '',\n  'O': '',\n  'A': '',\n  'S': ' ',\n  'N': ' ',\n};\n\nconst PASSENGERS = {\n  url: \"1 , \",\n  url1Business: \"1 , -\",\n  url2Passengers: \"2 , \",\n  urlForma: \"   \"\n}\n\nconst CURRENCY = {\n  AZN: \"\",\n  BYN: \" \",\n  CNY: \"\",\n  EUR: \"\",\n  KGS: \"\",\n  KZT: \" \",\n  RUB: \" \",\n  THB: \"\",\n  UAH: \"\",\n  USD: \"\",\n  UZS: \"\"\n}\n\nconst CURRENCY1 = {\n  AZN: \"\",\n  BYN: \" \",\n  CNY: \"\",\n  EUR: \"\",\n  KGS: \"\",\n  KZT: \" \",\n  RUB: \"\",\n  THB: \"\",\n  UAH: \"\",\n  USD: \"\",\n  UZS: \"\"\n}\n\nconst LANGUAGES = {\n  de: \"\",\n  en: \"\",\n  es: \"\",\n  fr: \"\",\n  it: \"\",\n  ru: \"\",\n  th: \"\",\n  tr: \"\"\n}\n\nconst blue = {\n  color:'var(--accent)'\n}\n\nexport class MyDB extends Component {\n  state = {\n    snackbar:null\n  }\n\n  componentDidMount() {\n    this.props.setPopout(<ScreenSpinner />)\n    fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-requests\", {\n      \"headers\": {\n        \"accept\": \"*/*\",\n        \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n        \"content-type\": \"application/json;charset=utf-8\",\n      },\n      \"body\": JSON.stringify({\n        user_id: String(this.props.state.user.id)\n      }),\n      \"method\": \"POST\",\n    })\n    .then(response => response.json())\n    .then(data => {\n      this.setState({ data: data.requests })\n      this.props.setPopout(null)\n    }).catch(err => {\n      this.props.setPopout(null)\n      this.setState({snackbar:<SnackbarError close={() => this.setState({snackbar:null})}/>, data:'error'})\n    })\n  }\n\n  openAlert = (request_id, i) => {\n    console.log(request_id)\n      this.props.setPopout(\n        <Alert\n        actions={[{\n          title: '',\n          autoclose: true,\n          mode: 'cancel'\n        }, {\n          title: '',\n          autoclose: true,\n          mode: 'destructive',\n          action: () => this.delete(request_id, i),\n        }]}\n        onClose={() => this.props.setPopout(null)}>\n          <h1>?</h1>\n        </Alert>\n      )\n  }\n\n  delete = (request_id, i) => {\n    this.props.setPopout(<ScreenSpinner />);\n    fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/delete-request\", {\n      \"headers\": {\n        \"accept\": \"*/*\",\n        \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n        \"content-type\": \"application/json;charset=utf-8\",\n      },\n      \"referrer\": \"https://appvk.flights.ru/\",\n      \"referrerPolicy\": \"no-referrer-when-downgrade\",\n      \"body\": JSON.stringify({request_id:request_id}),\n      \"method\": \"POST\",\n    })\n    .then(response => response.json())\n    .then(check => {\n      if(check.response === 'ok'){\n        let remove = this.state.data.splice(i, 1);\n\n        this.props.setPopout(null);\n      }\n    })\n  }\n\n  edit = (obj) => {\n    let data = JSON.parse(obj.output);\n    this.props.onChangeGroups('form', {...data, id:obj.id});\n    setTimeout(() => this.props.go('edit_settings'), 500)\n  }\n  \n\n  render() {\n    const {\n      data\n    } = this.state\n    return (\n      <div>\n        {\n          data &&        \n          <div>\n          {data === 'error' ? <Placeholder> -</Placeholder> :\n          <div>\n            {data.length === 0 ? <Placeholder>   .</Placeholder>:\n          (\n            data.map((item, index) => \n            <Group separator=\"hide\" key={index}>\n              <CardGrid>\n                <Card size=\"l\" mode=\"shadow\">\n                  <Div style={{ padding: '20px', lineHeight: 1.5 }}>\n                      <b style={blue}>{\n                      JSON.parse(item.output).countrySrc ? JSON.parse(item.output).countrySrc : \"\"\n                    }</b>   <b style={blue}>{JSON.parse(item.output).citySrc ? JSON.parse(item.output).citySrc : \"\"}</b><br />\n                       <b style={blue}>{CONTINENTS[JSON.parse(item.output).continentDst]}</b>   <b style={blue}>{JSON.parse(item.output).countryDst ? JSON.parse(item.output).countryDst : \"\"}</b><br />\n                      <b style={blue}>{JSON.parse(item.output).cityDst ? JSON.parse(item.output).cityDst : \"\"}</b><br />\n                     : - - <b style={blue}>{JSON.parse(item.output).dual ? \"\" : \"\"}</b><br />\n                     :  - <b style={blue}>{JSON.parse(item.output).forward ? \"\" : \"\"}</b><br />\n                    {\n                      JSON.parse(item.output).dates.map((item, i) => \n                        <div key={i}>\n                            ({i+1}) <b style={blue}>{item.year}</b><br />\n                            ({i+1}) <b style={blue}>{SEASONS_TRANSCRIPTION[item.season]}</b><br />\n                           ({i+1}) <b style={blue}>{MONTHS_TRANSCRIPTION[item.month]}</b><br />\n                        </div>    \n                      )\n                    }<br />\n                     <b style={blue}>{PASSENGERS[JSON.parse(item.output).passengers]}</b><br />\n                      <b style={blue}>{JSON.parse(item.output).costMin}</b>  <b style={blue}>{JSON.parse(item.output).costMax}</b> {CURRENCY1[JSON.parse(item.output).currency]}<br />\n\n                      <b style={blue}>{JSON.parse(item.output).interval}</b> <br />\n                      <b style={blue}>{JSON.parse(item.output).updated}</b> <br />\n                        24  <b style={blue}>{JSON.parse(item.output).limit === \"0\" ? \"\" : JSON.parse(item.output).limit}</b><br />\n                     (-) <b style={blue}>{LANGUAGES[JSON.parse(item.output).language]}</b><br />\n                     () <b style={blue}>{CURRENCY[JSON.parse(item.output).currency]}</b><br />\n                     () <b style={blue}>{CURRENCY[JSON.parse(item.output).currencyForUrl]}</b><br />\n                    {\n                      JSON.parse(item.output).optional && (\n                        <div><br />\n                          <div style={{ color: 'var(--tabbar_inactive_icon)' }}> </div>\n                          {\n                            JSON.parse(item.output).profitability && (\"   \")\n                          }\n                          {\n                            JSON.parse(item.output).profitability && \n                            <b style={blue}>{JSON.parse(item.output).profitability+\"%\"}</b>\n                          }<br />\n                             <b style={blue}>{\n                            ((days) => {\n                              const daysOfWeek = [\n                                \"\",\n                                \"\",\n                                \"\",\n                                \"\",\n                                \"\",\n                                \"\",\n                                \"\"\n                              ]\n                              let check = 0;\n                              days.every((element, index, array) => {\n                                  check++;\n                                  return element === true;\n                              });\n                              if (check === 7) {\n                                  return '';\n                              }\n                              let res = '';\n                              for (let index = 1; index < days.length; index++) {\n                                  if (days[index]) {\n                                      res += daysOfWeek[index].toLowerCase() + ', ';\n                                  }\n                              }\n                              res += daysOfWeek[0].toLowerCase();\n                              return res;\n                            })(JSON.parse(item.output).days)\n                          }</b><br />\n                          {\n                            JSON.parse(item.output).showAddionalWeather && (\n                              <div>\n                                    <br />\n                                  <b style={blue}>{JSON.parse(item.output)['dayTemp.min']}</b>   <b style={blue}>{JSON.parse(item.output)['dayTemp.max']}</b> <br />\n                                  <b style={blue}>{JSON.parse(item.output)['nightTemp.min']}</b>   <b style={blue}>{JSON.parse(item.output)['nightTemp.max']}</b> <br />\n                              </div>\n                            )\n                          }\n                        </div>\n                      )\n                    }\n                  </Div>\n                  <Div>\n                    <Button\n                      onClick={() => this.edit(item)}\n                      size=\"xl\"\n                    >\n                      \n                    </Button><br />\n                    <Button\n                      onClick={() => this.openAlert(item.id, index)}\n                      size=\"xl\"\n                      mode=\"destructive\"\n                    >\n                      \n                    </Button>\n                  </Div>\n                </Card>\n              </CardGrid>\n            </Group>\n            )\n          )\n            }\n          </div>\n         }\n         </div> \n        }\n        {this.state.snackbar}\n      </div>\n    )\n  }\n}\n\nexport default MyDB\n","import React, { Component } from 'react'\nimport { Panel, PanelHeader, FixedLayout, Tabs, TabsItem, PanelHeaderButton } from '@vkontakte/vkui'\nimport MyGroups from '../components/MyGroups'\nimport MyDB from '../components/MyDB'\n\nimport Icon28AddOutline from '@vkontakte/icons/dist/28/add_outline';\n\nexport class MySubs extends Component {\n  state = {\n    activeTab: 'groups',\n  }\n\n  render() {\n    const {\n      activeTab\n    } = this.state\n    const {\n      id,\n      state\n    } = this.props\n    return (\n      <Panel id={id}>\n        <PanelHeader left={<PanelHeaderButton onClick={() => this.props.onChangeGroups('activePanel', (activeTab === 'database' ? 'settings' : 'groups'))}><Icon28AddOutline /> </PanelHeaderButton>}> </PanelHeader>\n        <FixedLayout vertical=\"top\">\n          <Tabs>\n            <TabsItem\n              selected={activeTab === 'groups'}\n              onClick={() => this.setState({ activeTab: 'groups' })}\n            ></TabsItem>\n            <TabsItem\n              selected={activeTab === 'database'}\n              onClick={() => this.setState({ activeTab: 'database' })}\n            ></TabsItem>\n          </Tabs>\n        </FixedLayout>\n        <div style={{ marginTop: '60px' }} />\n        {\n          activeTab === 'groups' ? \n            <MyGroups\n              setPopout={this.props.setPopout}\n              onChangeGroups={this.props.onChangeGroups}\n              openModal={this.props.openModal}\n              state={state}\n            />\n          :\n            <MyDB\n              onChangeGroups={this.props.onChangeGroups}\n              setPopout={this.props.setPopout}\n              state={state}\n              onChange={this.props.onChange}\n              go={this.props.go}\n            />\n        }\n      </Panel>\n    )\n  }\n}\n\nexport default MySubs\n","import React, { Component } from 'react'\nimport { Panel, PanelHeader, Placeholder, Button, SimpleCell, Avatar, ScreenSpinner } from '@vkontakte/vkui'\nimport Icon56UsersOutline from '@vkontakte/icons/dist/56/users_outline';\nimport bridge from '@vkontakte/vk-bridge'\nimport { VKMiniAppAPI } from '@vkontakte/vk-mini-apps-api'\nimport SnackbarError from '../components/SnackbarError';\n\n\n\nexport class Friends extends Component {\n  state = {\n    friends: null,\n    snackbar:null\n  }\n\n  componentDidMount() {\n    this.getFriends()\n  }\n  \n  getFriends = () => {\n    this.props.setPopout(<ScreenSpinner />)\n    bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n      app_id: this.props.state.appId,\n      scope: \"friends\"\n    })\n    .then(data => {\n      if(data.access_token){\n        if(data.scope === \"friends\"){\n          bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n            method: \"friends.get\",\n            params: {\n              access_token: data.access_token,\n              fields: \"city,photo_200,country,bdate\",\n              v: 5.107\n            },\n            request_id: '3'\n          })\n          .then(data => {\n            if(data.response.items){\n              this.setState({\n                friends: data.response.items.filter((item) => item.city).filter((item) => \n                  item.city.id !== this.props.state.user.city.id && item.city.title !== this.props.state.city_\n                )\n              })\n              this.props.setPopout(null)\n            }else{\n              this.props.setPopout(null)\n            }\n          })\n          .catch(() => this.props.setPopout(null))\n        }else{\n          this.props.setPopout(null)\n        }\n      }else{\n        this.props.setPopout(null)\n      }\n    })\n    .catch(() => this.props.setPopout(null))\n  }\n\n   isEmpty(obj) {\n    for (let key in obj) {\n      return false;\n    }\n    return true;\n  }\n\n  getPrice = (city) => {\n\n  }\n\n  date(date) {\n    if(date == \"\" || date == null) {\n      return \" \";\n    }\n    let arr = date.split('.');\n    switch (arr[1]) {\n      case '1':\n        return arr[0]+' ';\n      break\n\n      case '2':\n        return arr[0]+' ';\n      break\n\n      case '3':\n        return arr[0]+' ';\n      break\n\n      case '4':\n        return arr[0]+' ';\n      break\n      case '5':\n        return arr[0]+' ';\n      break\n      case '6':\n        return arr[0]+' ';\n      break\n      case '7':\n        return arr[0]+' ';\n      break\n      case '8':\n        return arr[0]+' ';\n      break\n      case '9':\n        return arr[0]+' ';\n      break\n\n      case '10':\n        return arr[0]+' ';\n      break \n        \n      case '11':\n        return arr[0]+' ';\n      break\n      case '12':\n        return arr[0]+' ';\n      break\n    }\n  }\n\n  open = (friend) => {\n    console.log(friend)\n    this.props.setPopout(<ScreenSpinner />)\n    fetch(\"https://cors-anywhere.herokuapp.com/https://api.travelpayouts.com/data/ru/cities.json\")\n    .then(response => response.json())\n    .then(cities => {\n      let myCode = cities.filter((item) => item.name === this.props.state.user.city.title)[0].code\n      const friendCode = cities.filter((item) => item.name === friend.city.title)[0].code\n      fetch(`https://cors-anywhere.herokuapp.com/https://api.travelpayouts.com/v1/prices/calendar?&origin=${myCode}&destination=${friendCode}&calendar_type=departure_date&token=d378bb3f3b879e6fc87899314ba5ce5d`)\n      .then(response => response.json())\n      .then(data => {\n        console.log(data);\n        let indexPrice = Object.keys(data.data)[0]\n        if(Object.keys(data.data).length > 3){\n          indexPrice = Object.keys(data.data)[3]\n        }\n        this.props.onChangeGroups('friend', {...friend, price: data.data[indexPrice].price}); \n        this.props.openModal('bullet_to_friend')\n        this.props.setPopout(null)\n      }).catch(err => {\n        this.props.setPopout(null)\n        this.setState({snackbar:<SnackbarError text={\"       :(\"} close={() => this.setState({snackbar:null})}/>})\n      })\n    }).catch(err => {\n      this.props.setPopout(null)\n      this.setState({snackbar:<SnackbarError text={\"    :(\"} close={() => this.setState({snackbar:null})}/>})\n    })\n\n  }\n\n  render() {\n    const {\n      id\n    } = this.props\n    const {\n      friends\n    } = this.state\n    return (\n      <Panel id={id}>\n        <PanelHeader></PanelHeader>\n        {\n          friends ? \n          friends.map((friend, i) => \n          <SimpleCell key={i} before={<Avatar src={friend.photo_200}/>} multiline\n          description={friend.city == null || friend.country == null ? '??':friend.country.title+\". \"+friend.city.title+\".  : \"+this.date(friend.bdate)}\n          onClick={() => this.open(friend)}>\n          {friend.first_name+\" \"+friend.last_name}\n          </SimpleCell>\n          )\n          :\n          <Placeholder\n            icon={<Icon56UsersOutline />}\n            header=\"\"\n            action={<Button onClick={this.getFriends} size=\"l\"> </Button>}\n          >\n                ,     .\n          </Placeholder>\n        }\n        {this.state.snackbar}\n      </Panel>\n    )\n  }\n}\n\nexport default Friends\n","import React, { Component } from 'react'\nimport SnackbarError from '../components/SnackbarError'; \nimport { Panel, PanelHeader, FormLayout, Header, Input, Select, Checkbox, Button, Div, RangeSlider, PanelHeaderBack, ScreenSpinner, SimpleCell, Cell, Switch, FormLayoutGroup, Tabs, TabsItem, Separator } from '@vkontakte/vkui'\nimport Icon28AddOutline from '@vkontakte/icons/dist/28/add_outline';\nimport Icon28CancelCircleOutline from '@vkontakte/icons/dist/28/cancel_circle_outline';\nimport Icon16Add from '@vkontakte/icons/dist/16/add';\nimport Icon16Cancel from '@vkontakte/icons/dist/16/cancel';\n\nimport SelectSearch from 'react-select-search';\n\nconst SEASONS_TRANSCRIPTION = {\n  'all': '',\n  'winter': '',\n  'spring': '',\n  'summer': '',\n  'fall': '',\n};\n\nconst MONTHS_TRANSCRIPTION = {\n  0: '',\n  1: '', 2: '', 3: '', 4: '',\n  5: '', 6: '', 7: '', 8: '',\n  9: '', 10: '', 11: '', 12: '',\n};\n\nconst CONTINENT_DST = {\n  all:\"\",\n  E:'',\n  F:\"\",\n  D:'',\n  A:\"\",\n  S:\" \",\n  N:\" \"\n}\n\nconst LANGUAGES = {\n  de: \"\",\n  en: \"\",\n  es: \"\",\n  fr: \"\",\n  it: \"\",\n  ru: \"\",\n  th: \"\",\n  tr: \"\"\n}\n\nconst CURRENCY = {\n  AZN: {name:\"\", min:5, max:7000},\n  BYN: {name:\" \", min:10, max:10000},\n  CNY: {name:\"\", min:10, max:30000},\n  EUR: {name:\"\", min:1, max:4000},\n  KGS: {name:\"\", min:100, max:300000},\n  KZT: {name:\"\", min:500, max:1500000},\n  RUB: {name:\"\", min:100, max:300000},\n  THB: {name:\"\", min:10, max:150000},\n  UAH: {name:\"\", min:50, max:100000},\n  USD: {name:\"\", min:1, max:5000},\n  UZS: {name:\"\", min:500, max:500000}\n}\n\nconst PASSENGERS = {\n  url: \"1 , \",\n  url2Passengers: \"2 , \",\n  url1Business: \"1 , -\",\n  urlForma: \" \"\n}\n\nconst checkbox = {\n  paddingTop:0, paddingBottom:0\n}\n\nexport class Settings extends Component {\n  state = {\n    data:[],\n    listCountry:[],\n    cities:[],\n    updated: \"60\",\n    interval: \"60\",\n    limit: \"0\",\n    countryDst:'all',\n    cityDst:'all',\n    datesCnt: [{\n      year: (new Date()).getFullYear(),\n      season: 'all',\n      month: '0'\n    }],\n    activeCnt:0,\n    language: 'ru',\n    dual: true,\n    forward: true,\n    profitability:30,\n    currency: 'RUB',\n    currencyForUrl: 'RUB',\n    passengers:'url',\n    randomCost:true,\n    randomTempDay:true,\n    randomTempNight:true,\n    costMin: 100,\n    costMax: 500000,\n    dayTempMin:-50,\n    dayTempMax:50,\n    interval:'60',\n    nighTempMin:-50,\n    nighTempMax:50,\n    days:[true, true, true, true, true, true, true],\n    allDays:true,\n    snackbar:null,\n    all_flight:true\n  }\n\n\n  componentDidMount() {\n    this.props.setPopout(<ScreenSpinner />);\n    fetch(`https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Countries`)\n    .then(response => response.json())\n    .then(listCountry => {\n        listCountry.unshift({code:'all', nameTranslations:{ru:\"\"}})\n        let s = listCountry.filter(country => country.nameTranslations.ru.indexOf(this.props.state.user.country.title) > -1)[0];\n        fetch(`https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Cities/byCountry/`+s.code)\n          .then(response => response.json())\n          .then(cities => {\n              cities.unshift({code:'all', nameTranslations:{ru:\"\"}})\n              let n = cities.filter(city => city.nameTranslations.ru != null && city.nameTranslations.ru.indexOf(this.props.state.user.city.title) > -1)[0];\n              console.log(n);\n              this.setState({ listCountry, cities, countrySrc:s.code,  countrySrcCode:s.nameTranslations.ru, citySrc:n.code, citySrcCode:n.nameTranslations.ru}, this.props.setPopout(null));\n        })\n    })\n\n    /**/\n  }\n\n  onChange = e => {\n    this.setState({\n      [e.currentTarget.name]: e.currentTarget.value\n    })\n  }\n\n  onChangeCheck = (e) => {\n    this.setState({\n      [e.currentTarget.name]: e.currentTarget.checked\n    })\n  }\n\n  onChangeFrom = e => {\n    const { datesCnt } = this.state\n    datesCnt[parseInt(e.currentTarget.id, 10)][e.currentTarget.name] = e.currentTarget.value\n    if([e.currentTarget.name] == 'year') {\n      console.log('p');\n      datesCnt[parseInt(e.currentTarget.id, 10)]['season'] = 'all';\n      datesCnt[parseInt(e.currentTarget.id, 10)]['month'] = 0;\n    }\n    this.setState({\n      datesCnt\n    })\n  }\n\n  addFrom = () => {\n    const { datesCnt } = this.state\n    datesCnt.push({\n      yearSrc: (new Date()).getFullYear(),\n      seasonSrc: SEASONS_TRANSCRIPTION['all'],\n      monthSrc: MONTHS_TRANSCRIPTION['0']\n    })\n    this.setState({\n      datesCnt\n    })\n  }\n\n  removeFrom = () => {\n    const { datesCnt } = this.state\n    this.setState({\n      datesCnt: datesCnt.splice(0, datesCnt.length-1)\n    })\n  }\n\n  onChangeDays = (e) => {\n    console.log(e.currentTarget.name);\n    if(e.currentTarget.name == 'all') {\n      this.setState({ allDays:!this.state.allDays, days:[false, false, false, false, false, false, false]});\n    }else{\n      //this.setState({ allDays:!this.state.allDays});\n      let bool = !this.state.days[Number(e.currentTarget.name)];\n      let days = this.state.days.splice([Number(e.currentTarget.name)], 1, bool);\n      console.log(this.state.days);\n      \n      let t = true;\n      this.state.days.forEach(e => {\n        if(!e) t = false\n      })\n      this.setState({ days:this.state.days, allDays:t });\n    }\n\n  }\n\n//   \n  sort_res = () => { \n    this.props.setPopout(<ScreenSpinner />)\n    const { user } = this.props.state;\n    const { citySrcCode, cityDstCode, countryDstCode, countrySrcCode,citySrc, cityDst, countryDst, countrySrc, costMax, costMin, currency,currencyForUrl,language, randomCost, dual,forward, datesCnt, profitability, dayTempMin, dayTempMax, nighTempMax, nighTempMin,passengers, updated, interval, limit, continentDst } = this.state;\n    let days;\n    if(this.state.allDays) {\n      days = [true, true, true, true, true, true, true];\n    }else{\n      days = this.state.days;\n    }\n    let output = {\n      citySrc:citySrcCode, \n      cityDst:cityDstCode,\n      countryDst:countryDstCode,\n      countrySrc:countrySrcCode,\n      continentDst,\n      costMax, \n      costMin,\n      currency,\n      currencyForUrl, \n      language,\n      randomCost,\n      forward,\n      dual,\n      passengers,\n      updated:Number(updated),\n      limit,\n      interval,\n      optional:true,\n      dates:datesCnt,\n      showAddionalWeather:true,\n      profitability:String(profitability),\n      ['nightTemp.max']:nighTempMax,\n      ['nightTemp.min']:nighTempMin,\n      ['dayTemp.max']:dayTempMax,\n      ['dayTemp.min']:dayTempMin,\n      days\n    }\n\n    let src_name;\n    let dst_name;\n    fetch(` https://translate.yandex.net/api/v1.5/tr.json/translate?key=trnsl.1.1.20191125T185829Z.bafa3ff776a2185a.64a334987cf74f3b022d5c07a4b67f2247dbc05b&lang=ru-en&text=${citySrcCode}`)\n    .then(response => response.json())\n    .then(res => {\n      src_name = res.text;\n      fetch(` https://translate.yandex.net/api/v1.5/tr.json/translate?key=trnsl.1.1.20191125T185829Z.bafa3ff776a2185a.64a334987cf74f3b022d5c07a4b67f2247dbc05b&lang=ru-en&text=${cityDstCode}`)\n      .then(response => response.json())\n      .then(res => {\n        dst_name = res.text;\n        let content = {\n          ['src.CountryCode']:countrySrc,\n          ['src.name']:src_name,\n          ['dst.name']:dst_name,\n          ['Discount']:{ ['$gte']:profitability},\n          ['SrcDayOfWeek']:{['$in']:days.map((item, i) => { if(item == true) return i})},\n          ['Dst.CountryCode']:(countryDst == 'all' ? null : countryDst),\n          ['Price']:{['$gte']:costMin, ['$lte']:costMax},\n          ['Temp.Max']:{['$gte']:dayTempMin, ['$lte']:dayTempMax},\n          ['Temp.Min']:{['$gte']:nighTempMin, ['$lte']:nighTempMax},\n          ['Dst.continentCode']:continentDst,\n        }\n        let obj = {\n          id:null,\n          interval:interval,\n          limit:limit,\n          updated:Number(updated),\n          user_id:user.id,\n          output,\n          content\n        }\n        //this.save_request(obj);\n        this.props.onChangeGroups('item', obj);\n        this.props.openModal('confirm_settings');\n        this.props.setPopout(null);\n      })\n    })\n\n\n\n\n  }\n\n//  \n  searchCountry = (value, obj, name) => { // \n        let type = 'citySrc';\n        if(name == 'countryDst') type = 'cityDst';\n        this.setState({ [name]: value, [type]:null });\n        this.props.setPopout(<ScreenSpinner />)\n        if(value !== 'all') {\n        fetch(`https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Cities/byCountry/${value}`)\n        .then(response => response.json())\n        .then(list => {\n          list.unshift({code:'all', nameTranslations:{ ru: \"\"}})\n          let nameCountry = name+\"Code\";\n          this.setState({cities:list, [nameCountry]: obj.name})\n      })\n      }\n      this.props.setPopout(null)\n  }\n\n////  \n  searchCity = (value, obj, name) => {\n    let nameCity = name+\"Code\";\n    this.setState({ [name]: value, [nameCity]: obj.name});\n    console.log(this.state)\n  }\n\n\n\n  render() {\n    const {\n      id,\n      state,\n    } = this.props\n    const {\n      datesCnt,\n      currency,\n      currencyForUrl,\n      language,\n      countrySrc,\n      countrySrcCode,\n      countryDstCode,\n      citySrc,\n      countryDst,\n      cityDst,\n      continentDst,\n      randomCost,\n      randomTempDay,\n      randomTempNight,\n      costMin,\n      costMax,\n      dayTempMin,\n      dayTempMax,\n      nighTempMax,\n      nighTempMin,\n      days,\n      dual,\n      updated,\n      interval,\n      forward,\n      activeCnt,\n      all_flight\n    } = this.state\n    return (\n      <Panel id={id}>\n        <PanelHeader left={<PanelHeaderBack onClick={() => this.props.go('home')}/>}></PanelHeader>\n        <FormLayout>\n        <Header style={{ color: 'var(--accent)' }}></Header>\n          <FormLayoutGroup top=\"\">\n            <div align=\"left\" style={{ padding:\"0 12px\"}}>\n              <SelectSearch \n                placeholder=\" \" \n                options={this.state.listCountry.filter((el) => el.code != 'all').map((el, i) => {return {name: el.nameTranslations.ru, value: el.code}})} \n                value={countrySrc} \n                onChange={(value, obj) => this.searchCountry(value, obj, \"countrySrc\")}\n                search\n              />\n           </div>\n          </FormLayoutGroup>\n         {countrySrcCode != null ? \n          <FormLayoutGroup top=\"\">\n          <div align=\"left\" style={{ padding:\"0 12px\"}}>\n            <SelectSearch \n              placeholder=\" \" \n              options={this.state.cities.filter((el) => el.code != 'all').map((el, i) => {return {name: el.nameTranslations.ru, value: el.code}})} \n              value={citySrc} \n              onChange={(value, obj) => this.searchCity(value, obj, \"citySrc\")}\n              search\n            />\n         </div>\n        </FormLayoutGroup>:null\n         }\n         </FormLayout>\n         <datalist id='citySrc'>\n             <option></option>\n            {this.state.data.map((city) => \n             <option value={city.nameTranslations.ru}>{city.code}</option>\n            )}\n          </datalist>\n          <FormLayout>\n          <Header style={{ color: 'var(--accent)' }}></Header>\n\n          <Select\n  \n            top=\" \"\n            name=\"continentDst\"\n            onChange={(e) => { this.onChange(e); this.setState({countryDst:'all', cityDst:'all'}, console.log(this.state)) }}\n            value={continentDst}\n          >\n            {\n              Object.keys(CONTINENT_DST).map((continent) => \n                <option value={continent} key={continent}>\n                  {CONTINENT_DST[continent]}\n                </option>\n              )\n            }\n          </Select>\n            {continentDst == null || continentDst == 'all' ? null :\n          <FormLayoutGroup top=\"\">\n          <div align=\"left\" style={{ padding:\"0 12px\"}}>\n            <SelectSearch \n              placeholder=\" \" \n              options={this.state.listCountry.filter(city => city.continentCode == continentDst || city.code == 'all').map((el, i) => {return {name: el.nameTranslations.ru, value: el.code}})} \n              value={countryDst} \n              onChange={(value, obj) => this.searchCountry(value, obj, \"countryDst\")}\n              search\n            />\n         </div>\n        </FormLayoutGroup>}\n\n          {countryDst == 'all' || countryDst == null || continentDst == 'all' ? null :\n          <FormLayoutGroup top=\"\">\n          <div align=\"left\" style={{ padding:\"0 12px\"}}>\n            <SelectSearch \n              options={this.state.cities.map((el, i) => {return {name: el.nameTranslations.ru, value: el.code}})} \n              value={countryDst} \n              onChange={(value, obj) => this.searchCity(value, obj, \"cityDst\")}\n              search\n            />\n         </div>\n        </FormLayoutGroup>\n            }\n      \n      <Header style={{ color: 'var(--accent)' }}> </Header>\n          <Select\n            top=\"     \"\n            name=\"interval\"\n            onChange={this.onChange}\n          >\n            <option value=\"60\">1 </option>\n            <option value=\"240\">4 </option>\n            <option value=\"480\">8 </option>\n            <option value=\"1440\">24 </option>\n          </Select>\n\n          <Select\n            top=\"    N, \"\n            name=\"updated\"\n            onChange={this.onChange}\n            defaultValue=\"60\"\n          >\n      <option value=\"60\">1 </option>\n      {Number(interval) > 60 ? <option value=\"120\">2 </option> : null}\n      {Number(interval) > 60 ? <option value=\"180\">3 </option> : null}\n      {Number(interval) > 60 ? <option value=\"240\">4 </option> : null}\n      {Number(interval) > 240 ? <option value=\"240\">5 </option> : null}\n      {Number(interval) > 240 ? <option value=\"240\">6 </option> : null}\n      {Number(interval) > 240 ? <option value=\"240\">7 </option> : null}\n      {Number(interval) > 240 ? <option value=\"240\">8 </option> : null}\n      </Select>\n\n          <Select\n            top=\"     ?\"\n            name=\"limit\"\n            defaultValue=\"0\"\n          >\n            <option value=\"0\"></option>\n            <option value=\"20\">20</option>\n            <option value=\"50\">50</option>\n            <option value=\"100\">100</option>\n            <option value=\"300\">300</option>\n          </Select>\n          \n          <FormLayoutGroup top=\" \">\n            {(forward && dual) &&<SimpleCell after={<Switch name=\"all_flight\" style={checkbox} onChange={(e) => { this.onChangeCheck(e); this.setState({ forward: true, dual:true})}} checked={all_flight} />}></SimpleCell>}\n            {!all_flight && <SimpleCell after={<Switch name=\"forward\" onChange={this.onChangeCheck} checked={forward} />}></SimpleCell>}\n            {!all_flight && <SimpleCell after={<Switch name=\"dual\" style={checkbox} onChange={this.onChangeCheck} checked={dual} />}>-</SimpleCell>}\n          </FormLayoutGroup>\n          <Tabs mode=\"buttons\">\n            {datesCnt && (\n              datesCnt.map((item, i) => <TabsItem selected={activeCnt == i} onClick={() => this.setState({ activeCnt: i })}>{(i+1)+\" \"}</TabsItem>)\n            )}\n            {datesCnt.length < 3 && <TabsItem onClick={this.addFrom}><Icon16Add /></TabsItem>}\n            {datesCnt.length > 1 && <TabsItem onClick={this.removeFrom} ><Icon16Cancel fill=\"rgb(255, 26, 0)\"/></TabsItem>}\n          </Tabs>\n          </FormLayout>\n                <FormLayout key={activeCnt}>\n                  <Select\n                    top={`  (${activeCnt+1})`}\n                    name=\"year\"\n                    id={activeCnt}\n                    onChange={this.onChangeFrom}\n                    value={datesCnt[activeCnt].year}\n                  >\n                    {\n                      Array.from(Array(31).keys()).map((year) => \n                        <option key={year} value={(new Date()).getFullYear()+year}>\n                          {(new Date()).getFullYear()+year}\n                        </option>\n                      )\n                    }\n                  </Select>\n                  <Select\n                    top={`  (${activeCnt+1})`}\n                    name=\"season\"\n                    id={activeCnt}\n                    onChange={this.onChangeFrom}\n                    value={datesCnt[activeCnt].season}\n                  >\n                    {\n                      Object.keys(SEASONS_TRANSCRIPTION).filter((e) => {\n                        let s = e;\n                        let m = new Date().getMonth()+1;\n                      if(new Date().getFullYear() == datesCnt[activeCnt].year) {\n                        if(s == 'all') \n                          return s;\n                        if(s == 'winter' && m <= 12)\n                          return s;\n                        if(s == 'spring' && m <= 5) \n                          return s;\n                        if(s == 'summer' && m <= 8) \n                          return s;\n                        if(s == 'fall' && m <= 11)\n                          return s;\n                      }else return e;\n                      }).map((season) => \n                        <option value={season} key={season}>\n                          {SEASONS_TRANSCRIPTION[season]}\n                        </option>\n                      )\n                    }\n                  </Select>     \n                 <Select\n                    top={` (${activeCnt+1})`}\n                    name=\"month\"\n                    id={activeCnt}\n                    onChange={this.onChangeFrom}\n                    value={datesCnt[activeCnt].month}\n                  >\n                    {\n                      Object.keys(MONTHS_TRANSCRIPTION).filter((n) => {\n                        if(n == 0) {\n                          return n;\n                        }\n                        let m = new Date().getMonth()+1;\n                       if(new Date().getFullYear() == datesCnt[activeCnt].year) { \n                        switch(datesCnt[activeCnt].season) {\n                          case 'all': \n                            return n;\n                          break;\n\n                          case 'winter':\n                            if((n == 12 && m <= n) || (n == 1 && m <= n) || (n == 2 && m <= n)) {\n                              return n;\n                            }\n                          break;  \n                          case 'summer':\n                            if((n == 6 && m <= n) || (n == 7 && m <= n) || (n == 8 && m <= n)) {\n                              return n;\n                            }\n                          break;  \n                          case 'fall':\n                            if((n == 9 && n >= m) || (n == 10 && n >= m) || (n == 11 && n >= m)) {\n                              return n;\n                            }\n                          break; \n\n                          case 'spring':\n                            if((n == 3 && n >= m) || (n == 4 && n >= m) || (n == 5 && n >= m)) {\n                              return n;\n                            }\n                          break;  \n                        }\n                      }else{\n                        switch(datesCnt[activeCnt].season) {\n                          case 'all': \n                            return n;\n                          break;\n\n                          case 'winter':\n                            if((n == 12 ) || (n == 1) || (n == 2)) {\n                              return n;\n                            }\n                          break;  \n                          case 'summer':\n                            if((n == 6 ) || (n == 7) || (n == 8)) {\n                              return n;\n                            }\n                          break;  \n                          case 'fall':\n                            if((n == 9) || (n == 10) || (n == 11)) {\n                              return n;\n                            }\n                          break; \n\n                          case 'spring':\n                            if((n == 3 ) || (n == 4 ) || (n == 5)) {\n                              return n;\n                            }\n                          break;  \n                        }\n                      }\n                      }).map((month) => \n                        <option value={month} key={month}>\n                          {MONTHS_TRANSCRIPTION[month]}\n                        </option>\n                      )\n                    }\n                  </Select>\n                  </FormLayout>\n              <FormLayout>    \n              <Separator />\n          <Select\n            top=\"\"\n            name=\"passengers\"\n            onChange={this.onChange}\n          >\n            {\n              Object.keys(PASSENGERS).map((passengers) => \n                <option value={passengers} key={passengers}>\n                  {PASSENGERS[passengers]}\n                </option>\n              )\n            }\n          </Select>\n          <Select\n            top=\"\"\n            name=\"language\"\n            onChange={this.onChange}\n            value={language}\n          >\n            {\n              Object.keys(LANGUAGES).map((language) => \n                <option value={language} key={language}>\n                  {LANGUAGES[language]}\n                </option>\n              )\n            }\n          </Select>\n          <Select\n            top=\"  \"\n            name=\"currency\"\n            onChange={(e) => {this.onChange(e); this.setState({randomCost:true, costMin:CURRENCY[e.currentTarget.value].min, costMax:CURRENCY[e.currentTarget.value].max})}}\n            value={currency}\n          >\n            {\n              Object.keys(CURRENCY).map((currency) => \n                <option value={currency} key={currency}>\n                  {CURRENCY[currency].name}\n                </option>\n              )\n            }\n          </Select>\n          <Select\n            top=\" \"\n            name=\"currencyForUrl\"\n            onChange={this.onChange}\n            value={currencyForUrl}\n          >\n            {\n              Object.keys(CURRENCY).map((currency) => \n                <option value={currency} key={currency}>\n                  {CURRENCY[currency].name}\n                </option>\n              )\n            }\n          </Select>\n\n          <FormLayoutGroup top={\"     , \" + currency}>\n          \n\n           <SimpleCell after={\n                       <Switch\n                       checked={randomCost}\n                       onChange={(e) => {\n                         this.setState({\n                           costMin: e.currentTarget.checked ? CURRENCY[currency].min : costMin,\n                           costMax: e.currentTarget.checked ? CURRENCY[currency].max : costMax,\n                           randomCost: e.currentTarget.checked\n                         })\n                       }}\n                     />\n           }></SimpleCell>\n            \n           {!randomCost &&\n          <RangeSlider\n            top={costMin + \" - \" + costMax}\n            min={CURRENCY[currency].min}\n            max={CURRENCY[currency].max}\n            step={100}\n            defaultValue={[CURRENCY[currency].min, CURRENCY[currency].max]}\n            value={[costMin, costMax]}\n            onChange={(value) => {\n              this.setState({\n                costMin: value[0],\n                costMax: value[1],\n                randomCost: false\n              })\n            }}\n          />\n          }\n          {!randomCost &&\n          <div style={{ display: 'flex' }}>\n            <Input\n              onFocus={() => {\n                console.log('focus')\n              }}\n              value={costMin}\n              type=\"number\"\n              onChange={(e) => {\n                const value = parseInt(e.currentTarget.value, 10)\n                if(value){\n                  if(value < costMax && value >= CURRENCY[currency].min){\n                    this.setState({ costMin: value })\n                  }\n                }\n              }}\n            />\n            <Input\n              value={costMax}\n              type=\"number\"\n              onChange={(e) => {\n                const value = parseInt(e.currentTarget.value, 10)\n                if(value){\n                  if(value > costMin && value <= CURRENCY[currency].max){\n                    this.setState({ costMax: value })\n                  }\n                }\n              }}\n            />\n          </div>\n  }\n          </FormLayoutGroup> \n          <Select name='profitability' onChange={this.onChange} top=\"     , %\">\n            <option>30</option>\n            <option>40</option>\n            <option>50</option>\n            <option>60</option>\n            <option>70</option>\n            <option>80</option>\n            <option>90</option>\n          </Select>\n          <FormLayoutGroup top=\"     \">\n              <SimpleCell after={<Switch checked={this.state.allDays} name='all' onChange={this.onChangeDays} />}></SimpleCell>\n              {!this.state.allDays &&\n              <div>\n                <SimpleCell after={<Switch name='0' onChange={this.onChangeDays} checked={days[0] || this.state.allDays} />}></SimpleCell>\n                <SimpleCell after={<Switch name='1' onChange={this.onChangeDays} checked={days[1] || this.state.allDays} />}></SimpleCell>\n                <SimpleCell after={<Switch name='2' onChange={this.onChangeDays} checked={days[2] || this.state.allDays} />}></SimpleCell>\n                <SimpleCell after={<Switch name='3' onChange={this.onChangeDays} checked={days[3] || this.state.allDays} />}></SimpleCell>\n                <SimpleCell after={<Switch name='4' onChange={this.onChangeDays} checked={days[4] || this.state.allDays} />}></SimpleCell>\n                <SimpleCell after={<Switch name='5' onChange={this.onChangeDays} checked={days[5] || this.state.allDays} />}></SimpleCell>\n                <SimpleCell after={<Switch name='6' onChange={this.onChangeDays} checked={days[6] || this.state.allDays} />}></SimpleCell>\n                \n              \n              \n              \n              \n              \n              \n              </div>\n              }\n          </FormLayoutGroup>  \n          <FormLayoutGroup top=\"     , C\">\n              <SimpleCell after={          \n          <Switch\n            checked={randomTempDay}\n            onChange={(e) => {\n              this.setState({\n                dayTempMin: e.currentTarget.checked ? -50 : dayTempMin,\n                dayTempMax: e.currentTarget.checked ?  50 : dayTempMax,\n                randomTempDay: e.currentTarget.checked\n              })\n            }}\n          />}>\n                \n              </SimpleCell>\n\n            \n         {!randomTempDay &&\n          <RangeSlider\n            min={-50}\n            max={50}\n            step={1}\n            defaultValue={[-50, 50]}\n            value={[dayTempMin, dayTempMax]}\n            onChange={(value) => {\n              this.setState({\n                dayTempMin: value[0],\n                dayTempMax: value[1],\n                randomTempDay: false\n              })\n            }}\n          />\n          }\n          {!randomTempDay &&\n          <div style={{ display: 'flex' }}>\n            <Input\n              onFocus={() => {\n                console.log('focus')\n              }}\n              value={dayTempMin}\n              type=\"number\"\n              onChange={(e) => {\n                const value = parseInt(e.currentTarget.value, 10)\n                if(value){\n                  if(value < dayTempMax && value >= -50){\n                    this.setState({ dayTempMin: value })\n                  }\n                }\n              }}\n            />\n            <Input\n              value={dayTempMax}\n              type=\"number\"\n              onChange={(e) => {\n                const value = parseInt(e.currentTarget.value, 10)\n                if(value){\n                  if(value > dayTempMin && value <= 50){\n                    this.setState({ dayTempMax: value })\n                  }\n                }\n              }}\n            />\n          </div>\n          }     \n          </FormLayoutGroup>\n          \n          <FormLayoutGroup top=\"     , C\">     \n            <SimpleCell after={\n                         <Switch\n                         checked={randomTempNight}\n                         onChange={(e) => {\n                           this.setState({\n                             nighTempMin: e.currentTarget.checked ? -50 : nighTempMin,\n                             nighTempMax: e.currentTarget.checked ?  50 : nighTempMax,\n                             randomTempNight: e.currentTarget.checked\n                           })\n                         }}\n                       />\n            }></SimpleCell>    \n\n          {!randomTempNight &&\n          <RangeSlider\n            min={-50}\n            max={50}\n            step={1}\n            defaultValue={[-50, 50]}\n            value={[nighTempMin, nighTempMax]}\n            onChange={(value) => {\n              this.setState({\n                nighTempMin: value[0],\n                nighTempMax: value[1],\n                randomTempNight: false\n              })\n            }}\n          />\n          }\n          {!randomTempNight && \n           <div style={{ display: 'flex' }}>\n            <Input\n              onFocus={() => {\n                console.log('focus')\n              }}\n              value={nighTempMin}\n              type=\"number\"\n              onChange={(e) => {\n                const value = parseInt(e.currentTarget.value, 10)\n                if(value){\n                  if(value < nighTempMin && value >= -50){\n                    this.setState({ nighTempMin: value })\n                  }\n                }\n              }}\n            />\n            <Input\n              value={nighTempMax}\n              type=\"number\"\n              onChange={(e) => {\n                const value = parseInt(e.currentTarget.value, 10)\n                if(value){\n                  if(value > nighTempMax && value <= 50){\n                    this.setState({ nighTempMax: value })\n                  }\n                }\n              }}\n            />\n          </div>\n            }\n          </FormLayoutGroup>\n          <Button mode='primary' size='xl' onClick={this.sort_res}></Button>\n          <Button style={{ border: '1px solid var(--accent)'}} href='https://www.booking.com/?aid=1540284' size='xl' target='_blank' mode='secondary'>   booking.com</Button>\n        </FormLayout>\n        {this.state.snackbar}\n      </Panel>\n    )\n  }\n}\n\nexport default Settings \n","\r\nimport React, { Component } from 'react'\r\nimport SnackbarError from '../components/SnackbarError'; \r\nimport { Panel, PanelHeader, FormLayout, Header, Input, Select, FormLayoutGroup, Button, Div, RangeSlider, SelectMimicry, ScreenSpinner, SimpleCell, Cell, Switch, PanelHeaderBack, Tabs, TabsItem, Separator } from '@vkontakte/vkui'\r\nimport Icon16Add from '@vkontakte/icons/dist/16/add';\r\nimport Icon16Cancel from '@vkontakte/icons/dist/16/cancel';\r\n\r\nimport SelectSearch from 'react-select-search';\r\n\r\nconst checkbox = {\r\n  paddingTop:0, paddingBottom:0\r\n}\r\n\r\nconst SEASONS_TRANSCRIPTION = {\r\n  'all': '',\r\n  'winter': '',\r\n  'spring': '',\r\n  'summer': '',\r\n  'fall': '',\r\n};\r\n\r\nconst MONTHS_TRANSCRIPTION = {\r\n  0: '',\r\n  1: '', 2: '', 3: '', 4: '',\r\n  5: '', 6: '', 7: '', 8: '',\r\n  9: '', 10: '', 11: '', 12: '',\r\n};\r\n\r\nconst CONTINENT_DST = {\r\n  all:\"\",\r\n  E:'',\r\n  F:\"\",\r\n  D:'',\r\n  A:\"\",\r\n  S:\" \",\r\n  N:\" \"\r\n}\r\n\r\nconst LANGUAGES = {\r\n  de: \"\",\r\n  en: \"\",\r\n  es: \"\",\r\n  fr: \"\",\r\n  it: \"\",\r\n  ru: \"\",\r\n  th: \"\",\r\n  tr: \"\"\r\n}\r\n\r\nconst CURRENCY = {\r\n  AZN: {name:\"\", min:5, max:7000},\r\n  BYN: {name:\" \", min:10, max:10000},\r\n  CNY: {name:\"\", min:10, max:30000},\r\n  EUR: {name:\"\", min:1, max:4000},\r\n  KGS: {name:\"\", min:100, max:300000},\r\n  KZT: {name:\"\", min:500, max:1500000},\r\n  RUB: {name:\"\", min:100, max:300000},\r\n  THB: {name:\"\", min:10, max:150000},\r\n  UAH: {name:\"\", min:50, max:100000},\r\n  USD: {name:\"\", min:1, max:5000},\r\n  UZS: {name:\"\", min:500, max:500000}\r\n}\r\n\r\nconst PASSENGERS = {\r\n  url: \"1 , \",\r\n  url2Passengers: \"2 , \",\r\n  url1Business: \"1 , -\",\r\n  urlForma: \" \"\r\n}\r\n\r\nexport class EditSettings extends Component {\r\n\r\n  state = {\r\n    data:[],\r\n    listCountry:[],\r\n    cityDstList:[],\r\n    citySrcList:[],\r\n    continentDst:this.props.state.form.continentDst,\r\n    updated: this.props.state.form.updated,\r\n    countrySrcCode: this.props.state.form.countrySrc,\r\n    citySrcCode: this.props.state.form.citySrc,\r\n    countryDstCode: this.props.state.form.countryDst,\r\n    cityDstCode: this.props.state.form.cityDst,\r\n    limit: this.props.state.form.limit,\r\n    datesCnt: this.props.state.form.dates,\r\n    language: this.props.state.form.language,\r\n    profitability:this.props.state.form.profitability,\r\n    currency: this.props.state.form.currency,\r\n    currencyForUrl: this.props.state.form.currencyForUrl,\r\n    passengers:this.props.state.form.passengers,\r\n    randomCost:this.props.state.form.randomCost,\r\n    costMin: this.props.state.form.costMin,\r\n    costMax: this.props.state.form.costMax,\r\n    dayTempMin: this.props.state.form['dayTemp.min'],\r\n    dayTempMax: this.props.state.form['dayTemp.max'],\r\n    interval: this.props.state.form.interval,\r\n    nighTempMin:this.props.state.form['nightTemp.min'],\r\n    nighTempMax:this.props.state.form['nightTemp.max'],\r\n    dual:this.props.state.form.dual,\r\n    forward:this.props.state.form.forward,\r\n    days:this.props.state.form.days,\r\n    allDays:(this.props.state.form.days.indexOf(false) == -1 ? true : false),\r\n    all_flight:(this.props.state.form.dual && this.props.state.form.forward),\r\n    randomTempDay:(this.props.state.form['dayTemp.min'] == -50 && this.props.state.form['dayTemp.max'] == 50),\r\n    randomTempNight:(this.props.state.form['nightTemp.min'] == -50 && this.props.state.form['nightTemp.max'] == 50),\r\n    activeCnt:0,\r\n    snackbar:null\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setPopout(<ScreenSpinner />);\r\n    fetch(`https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Countries`)\r\n    .then(response => response.json())\r\n    .then(listCountry => {\r\n        listCountry.unshift({code:'all', nameTranslations:{ru:\"\"}})\r\n        let s = listCountry.filter(country => country.nameTranslations.ru.indexOf(this.state.countrySrcCode) > -1)[0];\r\n        console.log(s, this.state);\r\n        fetch(`https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Cities/byCountry/`+s.code)\r\n          .then(response => response.json())\r\n          .then(cities => {\r\n              cities.unshift({code:'all', nameTranslations:{ru:\"\"}})\r\n              let n = cities.filter(city => city.nameTranslations.ru != null && city.nameTranslations.ru.indexOf(this.state.citySrcCode) > -1)[0];\r\n              console.log(n);\r\n              this.setState({ listCountry, citySrcList:cities, countrySrc:s.code,  countrySrcCode:s.nameTranslations.ru, citySrc:n.code, citySrcCode:n.nameTranslations.ru});\r\n              \r\n              if(this.state.countryDstCode != null) {\r\n                let i = listCountry.filter(country => country.nameTranslations.ru.indexOf(this.state.countryDstCode) > -1)[0];\r\n                fetch(`https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Cities/byCountry/`+i.code)\r\n                .then(response => response.json())\r\n                .then(cities => {\r\n                    cities.unshift({code:'all', nameTranslations:{ru:\"\"}})\r\n                    let p = cities.filter(city => city.nameTranslations.ru != null && city.nameTranslations.ru.indexOf(this.state.citySrcCode) > -1)[0];\r\n                    console.log(n);\r\n                    this.setState({ listCountry, cityDstList:cities, countryDst:i.code,  countryDstCode:i.nameTranslations.ru, cityDst:p.code, cityDstCode:p.nameTranslations.ru});\r\n                  \r\n                })\r\n              } \r\n              this.props.setPopout(null)\r\n        })\r\n    })\r\n\r\n    /**/\r\n  }\r\n  \r\n\r\n\r\n  onChange = e => {\r\n    this.setState({\r\n      [e.currentTarget.name]: e.currentTarget.value\r\n    })\r\n  }\r\n\r\n  onChangeFrom = e => {\r\n    const { datesCnt } = this.state\r\n    datesCnt[parseInt(e.currentTarget.id, 10)][e.currentTarget.name] = e.currentTarget.value\r\n    this.setState({\r\n      datesCnt\r\n    })\r\n  }\r\n\r\n  addFrom = () => {\r\n    const { datesCnt } = this.state\r\n    datesCnt.push({\r\n      yearSrc: (new Date()).getFullYear(),\r\n      seasonSrc: SEASONS_TRANSCRIPTION['all'],\r\n      monthSrc: MONTHS_TRANSCRIPTION['0']\r\n    })\r\n    this.setState({\r\n      datesCnt\r\n    })\r\n  }\r\n\r\n  removeFrom = () => {\r\n    const { datesCnt } = this.state\r\n    this.setState({\r\n      datesCnt: datesCnt.splice(0, datesCnt.length-1)\r\n    })\r\n  }\r\n\r\n  onChangeDays = (e) => {\r\n    console.log(e.currentTarget.name);\r\n    if(e.currentTarget.name == 'all') {\r\n      this.setState({ allDays:!this.state.allDays});\r\n    }else{\r\n      let bool = !this.state.days[Number(e.currentTarget.name)];\r\n      let days = this.state.days.splice([Number(e.currentTarget.name)], 1, bool);\r\n      console.log(this.state.days);\r\n      \r\n      let t = true;\r\n      this.state.days.forEach(e => {\r\n        if(!e) t = false\r\n      })\r\n      this.setState({ days:this.state.days, allDays:t });\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  sort_res = () => { \r\n    this.props.setPopout(<ScreenSpinner />)\r\n    const { user } = this.props.state;\r\n    const { citySrcCode, cityDstCode, countryDstCode, countrySrcCode,citySrc, cityDst, countryDst, countrySrc, costMax, costMin, currency,currencyForUrl,language, randomCost, dual,forward, datesCnt, profitability, dayTempMin, dayTempMax, nighTempMax, nighTempMin,passengers, updated, interval, limit, continentDst } = this.state;\r\n    let days;\r\n    if(this.state.allDays) {\r\n      days = [true, true, true, true, true, true, true];\r\n    }else{\r\n      days = this.state.days;\r\n    }\r\n    let output = {\r\n      citySrc:citySrcCode, \r\n      cityDst:cityDstCode,\r\n      countryDst:countryDstCode,\r\n      countrySrc:countrySrcCode,\r\n      continentDst,\r\n      costMax, \r\n      costMin,\r\n      currency,\r\n      currencyForUrl, \r\n      language,\r\n      randomCost,\r\n      forward,\r\n      dual,\r\n      passengers,\r\n      updated:Number(updated),\r\n      limit,\r\n      interval,\r\n      optional:true,\r\n      dates:datesCnt,\r\n      showAddionalWeather:true,\r\n      profitability:String(profitability),\r\n      ['nightTemp.max']:nighTempMax,\r\n      ['nightTemp.min']:nighTempMin,\r\n      ['dayTemp.max']:dayTempMax,\r\n      ['dayTemp.min']:dayTempMin,\r\n      days\r\n    }\r\n\r\n    let src_name;\r\n    let dst_name;\r\n    fetch(` https://translate.yandex.net/api/v1.5/tr.json/translate?key=trnsl.1.1.20191125T185829Z.bafa3ff776a2185a.64a334987cf74f3b022d5c07a4b67f2247dbc05b&lang=ru-en&text=${citySrcCode}`)\r\n    .then(response => response.json())\r\n    .then(res => {\r\n      src_name = res.text;\r\n      fetch(` https://translate.yandex.net/api/v1.5/tr.json/translate?key=trnsl.1.1.20191125T185829Z.bafa3ff776a2185a.64a334987cf74f3b022d5c07a4b67f2247dbc05b&lang=ru-en&text=${cityDstCode}`)\r\n      .then(response => response.json())\r\n      .then(res => {\r\n        dst_name = res.text;\r\n        let content = {\r\n          ['src.CountryCode']:countrySrc,\r\n          ['src.name']:src_name,\r\n          ['dst.name']:dst_name,\r\n          ['Discount']:{ ['$gte']:profitability},\r\n          ['SrcDayOfWeek']:{['$in']:days.map((item, i) => { if(item == true) return i})},\r\n          ['Dst.CountryCode']:(countryDst == 'all' ? null : countryDst),\r\n          ['Price']:{['$gte']:costMin, ['$lte']:costMax},\r\n          ['Temp.Max']:{['$gte']:dayTempMin, ['$lte']:dayTempMax},\r\n          ['Temp.Min']:{['$gte']:nighTempMin, ['$lte']:nighTempMax},\r\n          ['Dst.continentCode']:continentDst,\r\n        }\r\n        let obj = {\r\n          id:this.props.state.form.id,\r\n          interval:interval,\r\n          limit:limit,\r\n          updated:Number(updated),\r\n          user_id:user.id,\r\n          output,\r\n          content\r\n        }\r\n        //this.save_request(obj);\r\n        this.props.onChangeGroups('item', obj);\r\n        this.props.openModal('confirm_settings');\r\n        this.props.setPopout(null);\r\n      })\r\n    })\r\n  }\r\n\r\n//  \r\nsearchCountry = (value, obj, name) => { // \r\n  let type = 'citySrc';\r\n  if(name == 'countryDst') type = 'cityDst';\r\n  this.setState({ [name]: value, [type]:null });\r\n  this.props.setPopout(<ScreenSpinner />)\r\n  if(value !== 'all') {\r\n  fetch(`https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Cities/byCountry/${value}`)\r\n  .then(response => response.json())\r\n  .then(list => {\r\n    list.unshift({code:'all', nameTranslations:{ ru: \"\"}})\r\n    let nameCountry = name+\"Code\";\r\n    let nameList = type+\"List\";\r\n    this.setState({[nameList]:list, [nameCountry]: obj.name})\r\n})\r\n}\r\nthis.props.setPopout(null)\r\n}\r\n\r\n////  \r\nsearchCity = (value, obj, name) => {\r\nlet nameCity = name+\"Code\";\r\nthis.setState({ [name]: value, [nameCity]: obj.name});\r\nconsole.log(this.state)\r\n}\r\n\r\n\r\n  render() {\r\n    const {\r\n      id,\r\n      state\r\n    } = this.props\r\n    const {\r\n      datesCnt,\r\n      currency,\r\n      currencyForUrl,\r\n      language,\r\n      countrySrc,\r\n      countrySrcCode,\r\n      countryDstCode,\r\n      citySrc,\r\n      countryDst,\r\n      cityDst,\r\n      continentDst,\r\n      randomCost,\r\n      randomTempDay,\r\n      randomTempNight,\r\n      costMin,\r\n      costMax,\r\n      dayTempMin,\r\n      dayTempMax,\r\n      nighTempMax,\r\n      nighTempMin,\r\n      days,\r\n      dual,\r\n      updated,\r\n      interval,\r\n      forward,\r\n      activeCnt,\r\n      all_flight\r\n    } = this.state\r\n    return (\r\n      <Panel id={id}>\r\n        <PanelHeader left={<PanelHeaderBack onClick={() => this.props.go('home')}/>}></PanelHeader>\r\n        <FormLayout>\r\n        <Header style={{ color: 'var(--accent)' }}></Header>\r\n          <FormLayoutGroup top=\"\">\r\n            <div align=\"left\" style={{ padding:\"0 12px\"}}>\r\n              <SelectSearch \r\n                placeholder=\" \" \r\n                options={this.state.listCountry.filter((el) => el.code != 'all').map((el, i) => {return {name: el.nameTranslations.ru, value: el.code}})} \r\n                value={countrySrc} \r\n                onChange={(value, obj) => this.searchCountry(value, obj, \"countrySrc\")}\r\n                search\r\n              />\r\n           </div>\r\n          </FormLayoutGroup>\r\n         {countrySrcCode != null ? \r\n          <FormLayoutGroup top=\"\">\r\n          <div align=\"left\" style={{ padding:\"0 12px\"}}>\r\n            <SelectSearch \r\n              placeholder=\" \" \r\n              options={this.state.citySrcList.filter((el) => el.code != 'all').map((el, i) => {return {name: el.nameTranslations.ru, value: el.code}})} \r\n              value={citySrc} \r\n              onChange={(value, obj) => this.searchCity(value, obj, \"citySrc\")}\r\n              search\r\n            />\r\n         </div>\r\n        </FormLayoutGroup>:null\r\n         }\r\n         </FormLayout>\r\n         <datalist id='citySrc'>\r\n             <option></option>\r\n            {this.state.data.map((city) => \r\n             <option value={city.nameTranslations.ru}>{city.code}</option>\r\n            )}\r\n          </datalist>\r\n          <FormLayout>\r\n          <Header style={{ color: 'var(--accent)' }}></Header>\r\n\r\n          <Select\r\n  \r\n            top=\" \"\r\n            name=\"continentDst\"\r\n            onChange={(e) => { this.onChange(e); this.setState({countryDst:'all', cityDst:'all'}, console.log(this.state)) }}\r\n            value={continentDst}\r\n          >\r\n            {\r\n              Object.keys(CONTINENT_DST).map((continent) => \r\n                <option value={continent} key={continent}>\r\n                  {CONTINENT_DST[continent]}\r\n                </option>\r\n              )\r\n            }\r\n          </Select>\r\n            {continentDst == null || continentDst == 'all' ? null :\r\n          <FormLayoutGroup top=\"\">\r\n          <div align=\"left\" style={{ padding:\"0 12px\"}}>\r\n            <SelectSearch \r\n              placeholder=\" \" \r\n              options={this.state.listCountry.filter(city => city.continentCode == continentDst || city.code == 'all').map((el, i) => {return {name: el.nameTranslations.ru, value: el.code}})} \r\n              value={countryDst} \r\n              onChange={(value, obj) => this.searchCountry(value, obj, \"countryDst\")}\r\n              search\r\n            />\r\n         </div>\r\n        </FormLayoutGroup>}\r\n\r\n          {countryDst == 'all' || countryDst == null || continentDst == 'all' ? null :\r\n          <FormLayoutGroup top=\"\">\r\n          <div align=\"left\" style={{ padding:\"0 12px\"}}>\r\n            <SelectSearch \r\n              options={this.state.cityDstList.map((el, i) => {return {name: el.nameTranslations.ru, value: el.code}})} \r\n              value={countryDst} \r\n              onChange={(value, obj) => this.searchCity(value, obj, \"cityDst\")}\r\n              search\r\n            />\r\n         </div>\r\n        </FormLayoutGroup>\r\n            }\r\n      \r\n      <Header style={{ color: 'var(--accent)' }}> </Header>\r\n          <Select\r\n            top=\"     \"\r\n            name=\"interval\"\r\n            onChange={this.onChange}\r\n          >\r\n            <option value=\"60\">1 </option>\r\n            <option value=\"240\">4 </option>\r\n            <option value=\"480\">8 </option>\r\n            <option value=\"1440\">24 </option>\r\n          </Select>\r\n\r\n          <Select\r\n            top=\"    N, \"\r\n            name=\"updated\"\r\n            onChange={this.onChange}\r\n            defaultValue=\"60\"\r\n          >\r\n      <option value=\"60\">1 </option>\r\n      {Number(interval) > 60 ? <option value=\"120\">2 </option> : null}\r\n      {Number(interval) > 60 ? <option value=\"180\">3 </option> : null}\r\n      {Number(interval) > 60 ? <option value=\"240\">4 </option> : null}\r\n      {Number(interval) > 240 ? <option value=\"240\">5 </option> : null}\r\n      {Number(interval) > 240 ? <option value=\"240\">6 </option> : null}\r\n      {Number(interval) > 240 ? <option value=\"240\">7 </option> : null}\r\n      {Number(interval) > 240 ? <option value=\"240\">8 </option> : null}\r\n      </Select>\r\n\r\n          <Select\r\n            top=\"     ?\"\r\n            name=\"limit\"\r\n            defaultValue=\"0\"\r\n          >\r\n            <option value=\"0\"></option>\r\n            <option value=\"20\">20</option>\r\n            <option value=\"50\">50</option>\r\n            <option value=\"100\">100</option>\r\n            <option value=\"300\">300</option>\r\n          </Select>\r\n          \r\n          <FormLayoutGroup top=\" \">\r\n            {(forward && dual) &&<SimpleCell after={<Switch name=\"all_flight\" style={checkbox} onChange={(e) => { this.onChangeCheck(e); this.setState({ forward: true, dual:true})}} checked={all_flight} />}></SimpleCell>}\r\n            {!all_flight && <SimpleCell after={<Switch name=\"forward\" onChange={this.onChangeCheck} checked={forward} />}></SimpleCell>}\r\n            {!all_flight && <SimpleCell after={<Switch name=\"dual\" style={checkbox} onChange={this.onChangeCheck} checked={dual} />}>-</SimpleCell>}\r\n          </FormLayoutGroup>\r\n          <Tabs mode=\"buttons\">\r\n            {datesCnt && (\r\n              datesCnt.map((item, i) => <TabsItem selected={activeCnt == i} onClick={() => this.setState({ activeCnt: i })}>{(i+1)+\" \"}</TabsItem>)\r\n            )}\r\n            {datesCnt.length < 3 && <TabsItem onClick={this.addFrom}><Icon16Add /></TabsItem>}\r\n            {datesCnt.length > 1 && <TabsItem onClick={this.removeFrom} ><Icon16Cancel fill=\"rgb(255, 26, 0)\"/></TabsItem>}\r\n          </Tabs>\r\n          </FormLayout>\r\n                <FormLayout key={activeCnt}>\r\n                  <Select\r\n                    top={`  (${activeCnt+1})`}\r\n                    name=\"year\"\r\n                    id={activeCnt}\r\n                    onChange={this.onChangeFrom}\r\n                    value={datesCnt[activeCnt].year}\r\n                  >\r\n                    {\r\n                      Array.from(Array(31).keys()).map((year) => \r\n                        <option key={year} value={(new Date()).getFullYear()+year}>\r\n                          {(new Date()).getFullYear()+year}\r\n                        </option>\r\n                      )\r\n                    }\r\n                  </Select>\r\n                  <Select\r\n                    top={`  (${activeCnt+1})`}\r\n                    name=\"season\"\r\n                    id={activeCnt}\r\n                    onChange={this.onChangeFrom}\r\n                    value={datesCnt[activeCnt].season}\r\n                  >\r\n                    {\r\n                      Object.keys(SEASONS_TRANSCRIPTION).filter((e) => {\r\n                        let s = e;\r\n                        let m = new Date().getMonth()+1;\r\n                      if(new Date().getFullYear() == datesCnt[activeCnt].year) {\r\n                        if(s == 'all') \r\n                          return s;\r\n                        if(s == 'winter' && m <= 12)\r\n                          return s;\r\n                        if(s == 'spring' && m <= 5) \r\n                          return s;\r\n                        if(s == 'summer' && m <= 8) \r\n                          return s;\r\n                        if(s == 'fall' && m <= 11)\r\n                          return s;\r\n                      }else return e;\r\n                      }).map((season) => \r\n                        <option value={season} key={season}>\r\n                          {SEASONS_TRANSCRIPTION[season]}\r\n                        </option>\r\n                      )\r\n                    }\r\n                  </Select>     \r\n                 <Select\r\n                    top={` (${activeCnt+1})`}\r\n                    name=\"month\"\r\n                    id={activeCnt}\r\n                    onChange={this.onChangeFrom}\r\n                    value={datesCnt[activeCnt].month}\r\n                  >\r\n                    {\r\n                      Object.keys(MONTHS_TRANSCRIPTION).filter((n) => {\r\n                        if(n == 0) {\r\n                          return n;\r\n                        }\r\n                        let m = new Date().getMonth()+1;\r\n                       if(new Date().getFullYear() == datesCnt[activeCnt].year) { \r\n                        switch(datesCnt[activeCnt].season) {\r\n                          case 'all': \r\n                            return n;\r\n                          break;\r\n\r\n                          case 'winter':\r\n                            if((n == 12 && m <= n) || (n == 1 && m <= n) || (n == 2 && m <= n)) {\r\n                              return n;\r\n                            }\r\n                          break;  \r\n                          case 'summer':\r\n                            if((n == 6 && m <= n) || (n == 7 && m <= n) || (n == 8 && m <= n)) {\r\n                              return n;\r\n                            }\r\n                          break;  \r\n                          case 'fall':\r\n                            if((n == 9 && n >= m) || (n == 10 && n >= m) || (n == 11 && n >= m)) {\r\n                              return n;\r\n                            }\r\n                          break; \r\n\r\n                          case 'spring':\r\n                            if((n == 3 && n >= m) || (n == 4 && n >= m) || (n == 5 && n >= m)) {\r\n                              return n;\r\n                            }\r\n                          break;  \r\n                        }\r\n                      }else{\r\n                        switch(datesCnt[activeCnt].season) {\r\n                          case 'all': \r\n                            return n;\r\n                          break;\r\n\r\n                          case 'winter':\r\n                            if((n == 12 ) || (n == 1) || (n == 2)) {\r\n                              return n;\r\n                            }\r\n                          break;  \r\n                          case 'summer':\r\n                            if((n == 6 ) || (n == 7) || (n == 8)) {\r\n                              return n;\r\n                            }\r\n                          break;  \r\n                          case 'fall':\r\n                            if((n == 9) || (n == 10) || (n == 11)) {\r\n                              return n;\r\n                            }\r\n                          break; \r\n\r\n                          case 'spring':\r\n                            if((n == 3 ) || (n == 4 ) || (n == 5)) {\r\n                              return n;\r\n                            }\r\n                          break;  \r\n                        }\r\n                      }\r\n                      }).map((month) => \r\n                        <option value={month} key={month}>\r\n                          {MONTHS_TRANSCRIPTION[month]}\r\n                        </option>\r\n                      )\r\n                    }\r\n                  </Select>\r\n                  </FormLayout>\r\n              <FormLayout>    \r\n              <Separator />\r\n          <Select\r\n            top=\"\"\r\n            name=\"passengers\"\r\n            onChange={this.onChange}\r\n          >\r\n            {\r\n              Object.keys(PASSENGERS).map((passengers) => \r\n                <option value={passengers} key={passengers}>\r\n                  {PASSENGERS[passengers]}\r\n                </option>\r\n              )\r\n            }\r\n          </Select>\r\n          <Select\r\n            top=\"\"\r\n            name=\"language\"\r\n            onChange={this.onChange}\r\n            value={language}\r\n          >\r\n            {\r\n              Object.keys(LANGUAGES).map((language) => \r\n                <option value={language} key={language}>\r\n                  {LANGUAGES[language]}\r\n                </option>\r\n              )\r\n            }\r\n          </Select>\r\n          <Select\r\n            top=\"  \"\r\n            name=\"currency\"\r\n            onChange={(e) => {this.onChange(e); this.setState({randomCost:true, costMin:CURRENCY[e.currentTarget.value].min, costMax:CURRENCY[e.currentTarget.value].max})}}\r\n            value={currency}\r\n          >\r\n            {\r\n              Object.keys(CURRENCY).map((currency) => \r\n                <option value={currency} key={currency}>\r\n                  {CURRENCY[currency].name}\r\n                </option>\r\n              )\r\n            }\r\n          </Select>\r\n          <Select\r\n            top=\" \"\r\n            name=\"currencyForUrl\"\r\n            onChange={this.onChange}\r\n            value={currencyForUrl}\r\n          >\r\n            {\r\n              Object.keys(CURRENCY).map((currency) => \r\n                <option value={currency} key={currency}>\r\n                  {CURRENCY[currency].name}\r\n                </option>\r\n              )\r\n            }\r\n          </Select>\r\n\r\n          <FormLayoutGroup top={\"     , \" + currency}>\r\n          \r\n\r\n           <SimpleCell after={\r\n                       <Switch\r\n                       checked={randomCost}\r\n                       onChange={(e) => {\r\n                         this.setState({\r\n                           costMin: e.currentTarget.checked ? CURRENCY[currency].min : costMin,\r\n                           costMax: e.currentTarget.checked ? CURRENCY[currency].max : costMax,\r\n                           randomCost: e.currentTarget.checked\r\n                         })\r\n                       }}\r\n                     />\r\n           }></SimpleCell>\r\n            \r\n           {!randomCost &&\r\n          <RangeSlider\r\n            top={costMin + \" - \" + costMax}\r\n            min={CURRENCY[currency].min}\r\n            max={CURRENCY[currency].max}\r\n            step={100}\r\n            defaultValue={[CURRENCY[currency].min, CURRENCY[currency].max]}\r\n            value={[costMin, costMax]}\r\n            onChange={(value) => {\r\n              this.setState({\r\n                costMin: value[0],\r\n                costMax: value[1],\r\n                randomCost: false\r\n              })\r\n            }}\r\n          />\r\n          }\r\n          {!randomCost &&\r\n          <div style={{ display: 'flex' }}>\r\n            <Input\r\n              onFocus={() => {\r\n                console.log('focus')\r\n              }}\r\n              value={costMin}\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                const value = parseInt(e.currentTarget.value, 10)\r\n                if(value){\r\n                  if(value < costMax && value >= CURRENCY[currency].min){\r\n                    this.setState({ costMin: value })\r\n                  }\r\n                }\r\n              }}\r\n            />\r\n            <Input\r\n              value={costMax}\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                const value = parseInt(e.currentTarget.value, 10)\r\n                if(value){\r\n                  if(value > costMin && value <= CURRENCY[currency].max){\r\n                    this.setState({ costMax: value })\r\n                  }\r\n                }\r\n              }}\r\n            />\r\n          </div>\r\n  }\r\n          </FormLayoutGroup> \r\n          <Select name='profitability' onChange={this.onChange} top=\"     , %\">\r\n            <option>30</option>\r\n            <option>40</option>\r\n            <option>50</option>\r\n            <option>60</option>\r\n            <option>70</option>\r\n            <option>80</option>\r\n            <option>90</option>\r\n          </Select>\r\n          <FormLayoutGroup top=\"     \">\r\n              <SimpleCell after={<Switch checked={this.state.allDays} name='all' onChange={this.onChangeDays} />}></SimpleCell>\r\n              {!this.state.allDays &&\r\n              <div>\r\n                <SimpleCell after={<Switch name='0' onChange={this.onChangeDays} checked={days[0] || this.state.allDays} />}></SimpleCell>\r\n                <SimpleCell after={<Switch name='1' onChange={this.onChangeDays} checked={days[1] || this.state.allDays} />}></SimpleCell>\r\n                <SimpleCell after={<Switch name='2' onChange={this.onChangeDays} checked={days[2] || this.state.allDays} />}></SimpleCell>\r\n                <SimpleCell after={<Switch name='3' onChange={this.onChangeDays} checked={days[3] || this.state.allDays} />}></SimpleCell>\r\n                <SimpleCell after={<Switch name='4' onChange={this.onChangeDays} checked={days[4] || this.state.allDays} />}></SimpleCell>\r\n                <SimpleCell after={<Switch name='5' onChange={this.onChangeDays} checked={days[5] || this.state.allDays} />}></SimpleCell>\r\n                <SimpleCell after={<Switch name='6' onChange={this.onChangeDays} checked={days[6] || this.state.allDays} />}></SimpleCell>\r\n                \r\n              \r\n              \r\n              \r\n              \r\n              \r\n              \r\n              </div>\r\n              }\r\n          </FormLayoutGroup>  \r\n          <FormLayoutGroup top=\"     , C\">\r\n              <SimpleCell after={          \r\n          <Switch\r\n            checked={randomTempDay}\r\n            onChange={(e) => {\r\n              this.setState({\r\n                dayTempMin: e.currentTarget.checked ? -50 : dayTempMin,\r\n                dayTempMax: e.currentTarget.checked ?  50 : dayTempMax,\r\n                randomTempDay: e.currentTarget.checked\r\n              })\r\n            }}\r\n          />}>\r\n                \r\n              </SimpleCell>\r\n\r\n            \r\n         {!randomTempDay &&\r\n          <RangeSlider\r\n            min={-50}\r\n            max={50}\r\n            step={1}\r\n            defaultValue={[-50, 50]}\r\n            value={[dayTempMin, dayTempMax]}\r\n            onChange={(value) => {\r\n              this.setState({\r\n                dayTempMin: value[0],\r\n                dayTempMax: value[1],\r\n                randomTempDay: false\r\n              })\r\n            }}\r\n          />\r\n          }\r\n          {!randomTempDay &&\r\n          <div style={{ display: 'flex' }}>\r\n            <Input\r\n              onFocus={() => {\r\n                console.log('focus')\r\n              }}\r\n              value={dayTempMin}\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                const value = parseInt(e.currentTarget.value, 10)\r\n                if(value){\r\n                  if(value < dayTempMax && value >= -50){\r\n                    this.setState({ dayTempMin: value })\r\n                  }\r\n                }\r\n              }}\r\n            />\r\n            <Input\r\n              value={dayTempMax}\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                const value = parseInt(e.currentTarget.value, 10)\r\n                if(value){\r\n                  if(value > dayTempMin && value <= 50){\r\n                    this.setState({ dayTempMax: value })\r\n                  }\r\n                }\r\n              }}\r\n            />\r\n          </div>\r\n          }     \r\n          </FormLayoutGroup>\r\n          \r\n          <FormLayoutGroup top=\"     , C\">     \r\n            <SimpleCell after={\r\n                         <Switch\r\n                         checked={randomTempNight}\r\n                         onChange={(e) => {\r\n                           this.setState({\r\n                             nighTempMin: e.currentTarget.checked ? -50 : nighTempMin,\r\n                             nighTempMax: e.currentTarget.checked ?  50 : nighTempMax,\r\n                             randomTempNight: e.currentTarget.checked\r\n                           })\r\n                         }}\r\n                       />\r\n            }></SimpleCell>    \r\n\r\n          {!randomTempNight &&\r\n          <RangeSlider\r\n            min={-50}\r\n            max={50}\r\n            step={1}\r\n            defaultValue={[-50, 50]}\r\n            value={[nighTempMin, nighTempMax]}\r\n            onChange={(value) => {\r\n              this.setState({\r\n                nighTempMin: value[0],\r\n                nighTempMax: value[1],\r\n                randomTempNight: false\r\n              })\r\n            }}\r\n          />\r\n          }\r\n          {!randomTempNight && \r\n           <div style={{ display: 'flex' }}>\r\n            <Input\r\n              onFocus={() => {\r\n                console.log('focus')\r\n              }}\r\n              value={nighTempMin}\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                const value = parseInt(e.currentTarget.value, 10)\r\n                if(value){\r\n                  if(value < nighTempMin && value >= -50){\r\n                    this.setState({ nighTempMin: value })\r\n                  }\r\n                }\r\n              }}\r\n            />\r\n            <Input\r\n              value={nighTempMax}\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                const value = parseInt(e.currentTarget.value, 10)\r\n                if(value){\r\n                  if(value > nighTempMax && value <= 50){\r\n                    this.setState({ nighTempMax: value })\r\n                  }\r\n                }\r\n              }}\r\n            />\r\n          </div>\r\n            }\r\n          </FormLayoutGroup>\r\n          <Button mode='primary' size='xl' onClick={this.sort_res}></Button>\r\n          <Button style={{ border: '1px solid var(--accent)'}} href='https://www.booking.com/?aid=1540284' size='xl' target='_blank' mode='secondary'>   booking.com</Button>\r\n        </FormLayout>\r\n        {this.state.snackbar}\r\n      </Panel>\r\n    )\r\n  }\r\n}\r\n\r\nexport default EditSettings \r\n","import React, { Component } from 'react'\r\nimport { Panel, PanelHeader, PanelHeaderBack, Div, Input, List, SimpleCell, Placeholder } from '@vkontakte/vkui'\r\nimport Icon24Done from '@vkontakte/icons/dist/24/done';\r\n\r\nexport class ChooseCity extends Component {\r\n  state = {\r\n    inp: this.props.default,\r\n    list:null\r\n  }\r\n\r\n  onChange = (e) => {\r\n    let country = \"\";\r\n    if(this.props.changeDefaultName == 'citySrc') \r\n        country = this.props.state.countrySrc;\r\n    if(this.props.changeDefaultName == 'cityDst') \r\n        country = this.props.state.countryDst;\r\n    if(this.props.changeDefaultName == 'city_')\r\n        country = this.props.state.user.country.title;\r\n    console.log(this.props.state);        \r\n    fetch(`https://autocomplete.travelpayouts.com/places2?term=${country} ${\r\n      e.currentTarget.value\r\n    }&locale=ru&types[]=city`)\r\n    .then(response => response.json())\r\n    .then(list => {\r\n      if(list.length > 0){\r\n        var resArr = [];\r\n        list.forEach(function(item){\r\n          if(item.country_name === country){\r\n            resArr.push(item);\r\n          }\r\n        });\r\n        this.setState({\r\n          list: resArr\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  onChoose = (name) => {\r\n    this.props.changeFunction(name);\r\n    this.props.back()\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      list\r\n    } = this.state\r\n    const {\r\n      id,\r\n      back,\r\n      text\r\n    } = this.props\r\n    return (\r\n      <Panel id={id}>\r\n        <PanelHeader\r\n          left={\r\n            <PanelHeaderBack onClick={back} />\r\n          }\r\n        >{text}</PanelHeader>\r\n        <Div>\r\n          <Input\r\n            onChange={this.onChange}\r\n          />\r\n        </Div>\r\n        {list === null ? \r\n        <Placeholder>   </Placeholder>:\r\n        <List>\r\n          {\r\n            list && list.map((item, i) => \r\n              <SimpleCell\r\n                onClick={() => this.onChoose(item.name)}\r\n                id={item.name}\r\n                key={i}\r\n                after={\r\n                  item.name === text && (\r\n                    <Icon24Done />\r\n                  )\r\n                }\r\n              >\r\n                {item.name}\r\n              </SimpleCell>\r\n            )\r\n          }\r\n        </List>\r\n      }\r\n      </Panel>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ChooseCity\r\n","import React, { Component } from 'react'\nimport { Panel, PanelHeader, PanelHeaderBack, Div, Input, List, SimpleCell, Placeholder } from '@vkontakte/vkui'\nimport Icon24Done from '@vkontakte/icons/dist/24/done';\n\nexport class ChooseCountry extends Component {\n  state = {\n    inp: this.props.default,\n    list:null\n  }\n\n  onChange = (e) => {\n    fetch(`https://autocomplete.travelpayouts.com/places2?term=${\n      e.currentTarget.value\n    }&locale=ru`)\n    .then(response => response.json())\n    .then(list => {\n      if(list.length > 0){\n        var resArr = [];\n        list.forEach(function(item){\n          var i = resArr.findIndex(x => x.country_name === item.country_name);\n          if(i <= -1){\n            resArr.push(item);\n          }\n        });\n        this.setState({\n          list: resArr\n        })\n      }\n    })\n  }\n\n  onChoose = (country_name) => {\n    this.props.changeFunction(country_name);\n    this.props.back()\n  }\n\n  render() {\n    const {\n      list\n    } = this.state\n    const {\n      id,\n      back,\n      text\n    } = this.props\n    return (\n      <Panel id={id}>\n        <PanelHeader\n          left={\n            <PanelHeaderBack onClick={back} />\n          }\n        >{text}</PanelHeader>\n        <Div>\n          <Input\n            onChange={this.onChange}\n          />\n        </Div>\n        {list === null ? \n        <Placeholder>   </Placeholder>\n        :\n        <List>\n          {\n            list && list.map((item, i) => \n              <SimpleCell\n                onClick={() => this.onChoose(item.country_name)}\n                id={item.country_name}\n                key={i}\n                after={\n                  item.country_name === text && (\n                    <Icon24Done />\n                  )\n                }\n              >\n                {item.country_name}\n              </SimpleCell>\n            )\n          }\n        </List>\n       }\n      </Panel>\n    )\n  }\n}\n\nexport default ChooseCountry\n","import React, { Component } from 'react'\r\nimport { Panel, PanelHeader, PanelHeaderBack, Div, Input, List, SimpleCell, Placeholder } from '@vkontakte/vkui'\r\nimport Icon24Done from '@vkontakte/icons/dist/24/done';\r\n\r\nexport class ChooseCountryByContinentp extends Component {\r\n  state = {\r\n    inp: this.props.default,\r\n    list:null\r\n  }\r\n\r\n  onChange = (e) => {\r\n    const search = e.currentTarget.value.toLowerCase();\r\n    fetch(`https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/countries/byContinent/${\r\n      this.props.state.continentDst\r\n    }`)\r\n    .then(response => response.json())\r\n    .then(list => {\r\n\r\n        let arr = list.map((item) => { return item.nameTranslations.ru});\r\n        let resArr = arr.filter((name) => name.toLowerCase().indexOf(search) > -1);\r\n        console.log(resArr);\r\n        this.setState({\r\n          list: resArr\r\n        })\r\n      }\r\n    )\r\n  }\r\n\r\n  onChoose = (country_name) => {\r\n    this.props.changeFunction(country_name);\r\n    this.props.back()\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      list\r\n    } = this.state\r\n    const {\r\n      id,\r\n      back,\r\n      text\r\n    } = this.props\r\n    return (\r\n      <Panel id={id}>\r\n        <PanelHeader\r\n          left={\r\n            <PanelHeaderBack onClick={back} />\r\n          }\r\n        >{text}</PanelHeader>\r\n        <Div>\r\n          <Input\r\n            onChange={this.onChange}\r\n          />\r\n        </Div>\r\n        {list === null ? \r\n        <Placeholder>   </Placeholder>\r\n        :\r\n        <List>\r\n          {\r\n            list && list.map((item, i) => \r\n              <SimpleCell\r\n                onClick={() => this.onChoose(item)}\r\n                id={item}\r\n                key={i}\r\n                after={\r\n                    item === text && (\r\n                    <Icon24Done />\r\n                  )\r\n                }\r\n              >\r\n                {item}\r\n              </SimpleCell>\r\n            )\r\n          }\r\n        </List>\r\n       }\r\n      </Panel>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ChooseCountryByContinentp;\r\n","import React from 'react'\nimport { Epic, Tabbar, TabbarItem, View, Panel, ModalRoot, ModalPage,  Div, Checkbox, Title, FormLayout, Switch, Cell, ScreenSpinner, Button, ModalPageHeader, Card, ConfigProvider, Spinner, Avatar, InfoRow, FormStatus } from '@vkontakte/vkui'\nimport bridge from '@vkontakte/vk-bridge'\nimport axios from 'axios';\n\n\n\n// icons\nimport Icon28Users3Outline from '@vkontakte/icons/dist/28/users_3_outline';\nimport Icon28Settings from '@vkontakte/icons/dist/28/settings';\nimport Icon28HomeOutline from '@vkontakte/icons/dist/28/home_outline';\nimport Icon28Users from '@vkontakte/icons/dist/28/users';\nimport Icon28Send from '@vkontakte/icons/dist/28/send';\nimport Icon28HelpOutline from '@vkontakte/icons/dist/28/help_outline';\nimport Icon28ServicesOutline from '@vkontakte/icons/dist/28/services_outline';\n\n\n// panels\nimport Groups from './panels/Groups'\nimport Catalog from './panels/Catalog'\nimport SectionCatalog from './panels/SectionCatalog'\nimport MySubs from './panels/MySubs'\nimport Friends from './panels/Friends'\nimport Settings from './panels/Settings'\nimport EditSettings from './panels/EditSettings';\nimport ChooseCountry from './components/ChooseCountry';\nimport ChooseCity from './components/ChooseCity';\nimport ChooseCountryByContinent from './components/ChooseCountryByContinent';\nimport SnackbarError from './components/SnackbarError';\n\nconst blue = {\n  color:'var(--accent)'\n}\n\nconst SEASONS_TRANSCRIPTION = {\n  'all': '',\n  'winter': '',\n  'spring': '',\n  'summer': '',\n  'fall': '',\n};\nconst MONTHS_TRANSCRIPTION = {\n  0: '',\n  1: '', 2: '', 3: '', 4: '',\n  5: '', 6: '', 7: '', 8: '',\n  9: '', 10: '', 11: '', 12: '',\n};\n\nconst CONTINENTS = {\n  'random': '',\n  'E': '',\n  'F': '',\n  'O': '',\n  'A': '',\n  'S': ' ',\n  'N': ' ',\n};\n\nconst PASSENGERS = {\n  url: \"1 , \",\n  url1Business: \"1 , -\",\n  url2Passengers: \"2 , \",\n  urlForma: \"   \"\n}\n\nconst CURRENCY = {\n  AZN: \"\",\n  BYN: \" \",\n  CNY: \"\",\n  EUR: \"\",\n  KGS: \"\",\n  KZT: \" \",\n  RUB: \" \",\n  THB: \"\",\n  UAH: \"\",\n  USD: \"\",\n  UZS: \"\"\n}\n\nconst CURRENCY1 = {\n  AZN: \"\",\n  BYN: \" \",\n  CNY: \"\",\n  EUR: \"\",\n  KGS: \"\",\n  KZT: \" \",\n  RUB: \"\",\n  THB: \"\",\n  UAH: \"\",\n  USD: \"\",\n  UZS: \"\"\n}\n\nconst LANGUAGES = {\n  de: \"\",\n  en: \"\",\n  es: \"\",\n  fr: \"\",\n  it: \"\",\n  ru: \"\",\n  th: \"\",\n  tr: \"\"\n}\n\nclass App extends React.Component {\n  state = {\n    activeStory: 'about',\n    activePanel: 'home',\n    activeModal: null,\n    popout: null,\n    currentCatalog: 0,\n    catalog:null,\n    appId: null,\n\n\n\n    form:null, //state      ( )\n    obj:{\n      from:null,\n      to:null,\n      all:false\n    } , //state          \n\n  }\n\n  componentDidMount() {\n    //      \n    // this.setPopout(<ScreenSpinner />)\n    bridge.sendPromise(\"VKWebAppGetUserInfo\")\n    .then(user => {\n    \n        this.setState({\n          appId: parseInt(window.location.href.split(\"vk_app_id=\")[1].split(\"&\")[0], 10),\n          user\n        })\n       }\n      )\n\n      axios.get(\"https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Channels\")\n      .then(async data => {\n        await this.sortData(data.data)\n      })\n    \n  }\n\n  //     :\n  // [\n  //   {\n  //     catalog: \"catalog name\",\n  //     to: [\n  //       \"country\",\n  //       {\n  //         \"section\": \" \",\n  //         arr: [\n  //           \"country\"\n  //         ]\n  //       }\n  //     ]\n  //   }\n  // ]\n  sortData = async data => {\n    const catalog = []\n    data.forEach(async item => {\n      let index = catalog.findIndex(a => a.catalog === item.catalog)\n      if(index === -1){\n        catalog.push({\n          catalog: item.catalog,\n          to: []\n        })\n        index = catalog.length-1\n      }\n      if(item.section){\n        const sectionIndex = catalog[index].to.findIndex(a => a.section === item.section)\n        if(sectionIndex === -1){\n          catalog[index].to.push({\n            section: item.section,\n            arr: [item]\n          })\n        }else{\n          catalog[index].to[sectionIndex].arr.push(item)\n        }\n      }else{\n        catalog[index].to.push(item)\n      }\n    })\n    catalog.shift()\n    catalog.splice(catalog.findIndex(a => a.catalog === \"\"),1)\n    this.setState({ catalog })\n    this.setPopout(null)\n  }\n  \n  //  \n  onStoryChange = (e) => {\n    this.setState({ activeStory: e.currentTarget.dataset.story, activePanel: 'home' })\n  }\n\n  //  \n  setPopout = popout => {\n    this.setState({ popout })\n  }\n\n  //      \n  openCatalog = e => {\n    this.setState({ \n      activePanel: 'catalog',\n      currentCatalog: parseInt(e.currentTarget.id, 10),\n    })\n  }\n  // \n  openModal = modal => {\n    console.log(modal);\n    this.setState({activeModal: modal});\n  }\n\n  chooseGlobal = ( data) => {\n    console.log(this.state.changeDefaultName, data);\n    this.setState({[this.state.changeDefaultName]: data});\n  }\n\n  //  \n  go = activePanel => {\n    this.setState({ activePanel, currentSection: null })\n  }\n\n  //  \n  chooseSection = e => {\n    this.setState({ activePanel: \"sectionCatalog\", currentSection: parseInt(e.currentTarget.id, 10) })\n  }\n\n  save_request = () => {  // \n    this.setState({ popout: <ScreenSpinner /> });\n    fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-user-api-request\", {\n      \"headers\": {\n        \"accept\": \"*/*\",\n        \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n        \"content-type\": \"application/json;charset=utf-8\",\n      },\n      \"referrer\": \"https://appvk.flights.ru/\",\n      \"referrerPolicy\": \"no-referrer-when-downgrade\",\n      \"body\": JSON.stringify(this.state.item),\n      \"method\": \"POST\",\n    })\n    .then(response => response.json())\n    .then(check => {\n      if(check.response === 'ok'){\n        this.setState({ popout: null, activeModal: null, activePanel:'home'});\n        console.log(check);\n      }\n    }).catch(err => {\n        this.setState({snackbar:<SnackbarError close={() => this.setState({snackbar:null})} />})\n        this.setState({ popout: null });\n    })\n  }\n  \n  // state(       )\n  onChangeGroups = (name, obj) => {\n    console.log(obj)\n   this.setState({ [name]: obj });\n  }\n\n  // state(  )\n  onChangeForm = (countrySrc,citySrc,countryDst,cityDst, request_id) => {\n    this.setState({ countrySrc, citySrc, countryDst, cityDst, request_id});\n  }\n\n  choose = e => {\n    this.setState({\n      obj:{ ...this.state.obj,\n      [e.currentTarget.name]: this.state.obj[e.currentTarget.name].map((item, i) => {\n        if(i === parseInt(e.currentTarget.id, 10)){\n          item.checked = e.currentTarget.checked\n          return item\n        }else{\n          return item\n        }\n      })\n    }\n    })\n    let bool = true;\n    this.state.obj.from.forEach(element => {\n      if(!element.checked) {\n        bool = false;\n      }\n    });\n    this.state.obj.to.forEach(element => {\n      if(!element.checked) {\n        bool = false;\n      }\n    })\n    this.setState({ obj:{ ...this.state.obj,all:bool }})\n  }\n\n  chooseAll = () => {\n    let bool = !this.state.obj.all;\n    const { from , to} = this.state.obj;\n    this.setState({\n      obj: {\n      ...this.state.obj,\n      from: from.map((item, i) => {  \n          item.checked = bool;\n          return item\n      }),\n      to: to.map((item, i) => {  \n        item.checked = bool;\n        return item\n    }), all:bool\n  }\n    })\n  }\n\n  //  ()\n  submit = async () => {\n    const { from, to, name, groupId, id } = this.state.obj;\n    const { catalog, currentCatalog, currentSection, user} = this.state;\n    this.setPopout(<ScreenSpinner />);\n    if(from.filter((item) => item.checked).length > 0 && \n      to.filter((item) => item.checked).length > 0\n    ){\n      let arr = []\n      arr = arr.concat(from.filter((item) => item.checked)\n      .map((item) => item.tag+\"/\"+groupId+\"/\"+name+\"/\"+catalog[currentCatalog].catalog+\"/\"+(currentSection ? currentSection : \"\")))\n      arr = arr.concat(to.filter((item) => item.checked)\n      .map((item) => item.tag+\"/\"+groupId+\"/\"+name+\"/\"+catalog[currentCatalog].catalog+\"/\"+(currentSection ? currentSection : \"\")))\n\n      fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-tags\", {\n        \"headers\": {\n          \"accept\": \"*/*\",\n          \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n          \"content-type\": \"application/json;charset=utf-8\",\n        },\n        \"body\": JSON.stringify({\n          user_id: String(user.id)\n        }),\n        \"method\": \"POST\",\n      })\n      .then(response => response.json())\n      .then(data => {\n        if(data.tags.length > 0){\n          arr = arr.concat(\n            data.tags.map((item) => \n              item.body+\"/\"+item.group_id+\"/\"+item.group_name+\"/\"+item.category+\"/\"+item.section\n            )\n          )\n        }\n        fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-tags\", {\n          \"headers\": {\n            \"accept\": \"*/*\",\n            \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n            \"content-type\": \"application/json;charset=utf-8\",\n          },\n          \"referrer\": \"https://appvk.flights.ru/\",\n          \"referrerPolicy\": \"no-referrer-when-downgrade\",\n          \"body\": JSON.stringify({\n            user_id: String(user.id),\n            checkbox: arr\n          }),\n          \"method\": \"POST\",\n        })\n        .then(response => response.json())\n        .then(check => {\n          if(check.response === 'ok'){\n            this.setState({ popout: null, activeModal: null});\n          }\n        })\n      })\n    }\n  }\n\n  render () {\n    const {\n      activePanel,\n      popout,\n      defaultCountry,\n      chooseCountryText,\n      changeFunction,\n      changeDefaultName,\n      item\n    } = this.state\n    const {\n      from,\n      to,\n      all\n    } = this.state.obj;\n    return (\n      <ConfigProvider isWebView={true}>\n      <Epic activeStory={this.state.activeStory}  tabbar={\n        <Tabbar>\n          <TabbarItem\n            onClick={this.onStoryChange}\n            selected={this.state.activeStory === 'about'}\n            data-story=\"about\"\n            text=\"  ?\"\n          ><Icon28HelpOutline /></TabbarItem>\n          <TabbarItem\n            onClick={this.onStoryChange}\n            selected={this.state.activeStory === 'subscribes'}\n            data-story=\"subscribes\"\n            text=\"\"\n          ><Icon28HomeOutline /></TabbarItem>\n          <TabbarItem\n            onClick={this.onStoryChange}\n            selected={this.state.activeStory === 'friends'}\n            data-story=\"friends\"\n            text=\"\"\n          ><Icon28Users /></TabbarItem>\n          <TabbarItem\n            onClick={this.onStoryChange}\n            selected={this.state.activeStory === 'aviasales'}\n            data-story=\"aviasales\"\n            text=\"Aviasales\"\n          ><Icon28Send /></TabbarItem>\n          <TabbarItem\n            onClick={this.onStoryChange}\n            selected={this.state.activeStory === 'services'}\n            data-story=\"services\"\n            text=\"\"\n          ><Icon28ServicesOutline /></TabbarItem>\n        </Tabbar>\n      }>\n\n\n\n        <View id=\"subscribes\" activePanel={activePanel} popout={popout} modal={\n        <ModalRoot activeModal={this.state.activeModal}>\n          <ModalPage id='subscribeCities' onClose={() => this.setState({ activeModal:null} )} dynamicContentHeight settlingHeight={100} header={<ModalPageHeader></ModalPageHeader>}>\n          <Div style={{ position: \"relative\", textAlign: \"left\", overflowX: \"hidden\", overflowY: \"auto\", backgroundColor:'#fff' }} className=\"SubscribeCities\">\n          <Cell indicator={<Switch checked={all} onChange={this.chooseAll}/>}></Cell>\n          <Title level=\"3\" weight=\"bold\">  :</Title>\n          <FormLayout>\n            {\n              from && (\n                from.map((item, index) => \n                  <Checkbox\n                    key={index}\n                    id={index}\n                    name=\"from\"\n                    onChange={this.choose}\n                    checked={item.checked}\n                  >\n                    {item.tag.split(\"#\")[1].split(\"@\")[0]}\n                  </Checkbox>\n                )\n              )\n            }\n            <Title level=\"3\" weight=\"bold\">  :</Title>\n            {\n              to && (\n                to.map((item, index) => \n                  <Checkbox\n                    key={index}\n                    id={index}\n                    name=\"to\"\n                    onChange={this.choose}\n                    checked={item.checked}\n                  >\n                    {item.tag.split(\"#\")[1].split(\"@\")[0]}\n                  </Checkbox>\n                )\n              )\n            }\n            <Button mode='commerce' size='xl' onClick={this.submit}></Button>\n          </FormLayout>\n        </Div>\n          </ModalPage>\n          <ModalPage id='confirm_settings' header={<ModalPageHeader></ModalPageHeader>} onClose={() => this.setState({ activeModal: null})} settlingHeight={100}>\n              {item && \n              <Card size=\"l\" mode=\"shadow\">\n                  <Div style={{ padding: '20px', lineHeight: 1.5 }}>\n                      <b style={blue}>{\n                    (item.output).countrySrc ? (item.output).countrySrc : \"\"\n                    }</b>   <b style={blue}>{(item.output).citySrc ? (item.output).citySrc : \"\"}</b><br />\n                       <b style={blue}>{CONTINENTS[(item.output).continentDst]}</b>   <b  style={blue}>{(item.output).countryDst ? (item.output).countryDst : \"\"}</b><br />\n                      <b  style={blue}>{(item.output).cityDst ? (item.output).cityDst : \"\"}</b><br />\n                     : - - <b  style={blue}>{(item.output).dual ? \"\" : \"\"}</b><br />\n                     :  - <b  style={blue}>{(item.output).forward ? \"\" : \"\"}</b><br />\n                    {\n                      (item.output).dates.map((item, i) => \n                        <div key={i}>\n                            ({i+1}) <b  style={blue}>{item.year}</b><br />\n                            ({i+1}) <b  style={blue}>{SEASONS_TRANSCRIPTION[item.season]}</b><br />\n                           ({i+1}) <b  style={blue}>{MONTHS_TRANSCRIPTION[item.month]}</b><br />\n                        </div>    \n                      )\n                    }<br />\n                     <b style={blue}>{PASSENGERS[(item.output).passengers]}</b><br />\n                      <b style={blue}>{(item.output).costMin}</b>  <b style={blue}>{(item.output).costMax}</b> {CURRENCY1[(item.output).currency]}<br />\n\n                      <b style={blue}>{(item.output).interval}</b> <br />\n                      <b style={blue}>{(item.output).updated}</b> <br />\n                        24  <b style={blue}>{(item.output).limit === \"0\" ? \"\" : (item.output).limit}</b><br />\n                     <b style={blue}>{LANGUAGES[(item.output).language]}</b><br />\n                     () <b style={blue}>{CURRENCY[(item.output).currency]}</b><br />\n                     () <b style={blue}>{CURRENCY[(item.output).currencyForUrl]}</b><br />\n                    {\n                      (item.output).optional && (\n                        <div><br />\n                          <div style={{ color: 'var(--tabbar_inactive_icon)' }}> </div>\n                          {\n                            (item.output).profitability && (\"   \")\n                          }\n                          {\n                            (item.output).profitability && \n                            <b style={blue}>{(item.output).profitability+\"%\"}</b>\n                          }<br />\n                             <b style={blue}>{\n                            ((days) => {\n                              const daysOfWeek = [\n                                \"\",\n                                \"\",\n                                \"\",\n                                \"\",\n                                \"\",\n                                \"\",\n                                \"\"\n                              ]\n                              let check = 0;\n                              days.every((element, index, array) => {\n                                  check++;\n                                  return element === true;\n                              });\n                              if (check === 7) {\n                                  return '';\n                              }\n                              let res = '';\n                              for (let index = 1; index < days.length; index++) {\n                                  if (days[index]) {\n                                      res += daysOfWeek[index].toLowerCase() + ', ';\n                                  }\n                              }\n                              res += daysOfWeek[0].toLowerCase();\n                              return res;\n                            })((item.output).days)\n                          }</b><br />\n                          {\n                            (item.output).showAddionalWeather && (\n                              <div>\n                                    <br />\n                                  <b style={blue}>{(item.output)['dayTemp.min']}</b>   <b style={blue}>{(item.output)['dayTemp.max']}</b> <br />\n                                  <b style={blue}>{(item.output)['nightTemp.min']}</b>   <b style={blue}>{(item.output)['nightTemp.max']}</b> <br />\n                              </div>\n                            )\n                          }\n                        </div>\n                      )\n                    }\n                  </Div>\n                    <Div>\n                      <Button size='xl' onClick={this.save_request}></Button>  \n                    </Div>\n\n                    <Div>\n                      <Button style={{ border: '1px solid var(--accent)'}} mode='secondary' size='xl' onClick={() => this.setState({activeModal:null})}></Button>\n                    </Div>\n                          \n                </Card>\n              }\n            </ModalPage>\n        </ModalRoot>\n      }>\n          <MySubs\n            id=\"home\"\n            state={this.state}\n            go={this.go}\n            onChangeGroups={this.onChangeGroups}\n            onChange={this.onChangeForm}\n            changeFunction={this.chooseGlobal}\n            changeDefaultName={(changeDefaultName) => this.setState({ changeDefaultName }, console.log(changeDefaultName))}\n            openModal={this.openModal}\n            onChangeGroups={this.onChangeGroups}\n            setPopout={this.setPopout}\n          />\n\n          <Settings\n            id=\"settings\"\n            state={this.state}\n            setPopout={this.setPopout}\n            onChangeGroups={this.onChangeGroups}\n            openModal={this.openModal}\n            go={this.go}\n          />\n\n          <EditSettings \n            id='edit_settings'\n            onChangeGroups={this.onChangeGroups}\n            setPopout={this.setPopout}\n            go={this.go}\n            openModal={this.openModal}\n            state={this.state}\n          />\n\n          <Groups\n            id=\"groups\"\n            state={this.state}\n            setPopout={this.setPopout}\n            go={this.go}\n            openCatalog={this.openCatalog}\n          />\n          <Catalog\n            id=\"catalog\"\n            state={this.state}\n            setPopout={this.setPopout}\n            openModal={this.openModal}\n            go={this.go}\n            onChangeGroups={this.onChangeGroups}\n            chooseSection={this.chooseSection}\n          />\n          <SectionCatalog\n            id=\"sectionCatalog\"\n            state={this.state}\n            setPopout={this.setPopout}\n            openModal={this.openModal}\n            onChangeGroups={this.onChangeGroups}\n            go={this.go}\n          />\n\n        </View>\n        <View id=\"friends\" activePanel={activePanel} popout={popout} modal={\n          <ModalRoot activeModal={this.state.activeModal}>\n            <ModalPage id='bullet_to_friend' onClose={() => this.setState({ activeModal: null })} header={<ModalPageHeader>  </ModalPageHeader>} dynamicContentHeight>\n            {this.state.friend == null ? <Spinner />:\n           <div align=\"center\"> \n            <Avatar src={this.state.friend.photo_200} size={80} shadow={false} />\n            <span style={{fontWeight:'bold', fontSize:15}}>{this.state.friend.first_name+\" \"+this.state.friend.last_name}</span>\n            <Div>\n        \n             <InfoRow header=\"\">\n             {this.state.friend.country.title}\n             </InfoRow>\n            \n             <InfoRow header=\"\" style={{marginTop:10}}>\n             {this.state.friend.city.title}\n             </InfoRow>\n\n             <InfoRow header=\"  \" style={{marginTop:10}}>\n             {this.state.friend.price+\" RUB\"}\n             </InfoRow>\n\n             {this.state.friend.iata == 'error' ? \n             <Div>\n             <FormStatus>     </FormStatus></Div>:null}\n             <Div>\n             <Button size='xl' disabled={this.state.user.user_code == 'error' || this.state.friend.itoa == 'error'}> </Button>\n             </Div>\n            </Div>\n           </div>\n            }\n          </ModalPage>\n          </ModalRoot>\n        }>\n          <Friends\n            id=\"home\"\n            state={this.state}\n            setPopout={this.setPopout}\n            go={this.go}\n            openModal={this.openModal}\n            onChangeGroups={this.onChangeGroups}\n          />\n          <ChooseCity\n            id='chooseCity'\n            default={defaultCountry}\n            text={chooseCountryText}\n            changeFunction={this.chooseGlobal}\n            changeDefaultName={changeDefaultName}\n            state={this.state}\n            back={() => this.setState({ activePanel: 'home' })}\n          />  \n        </View>\n        <View id=\"aviasales\" activePanel={activePanel} popout={popout}>\n          <Panel id=\"home\"></Panel>\n        </View>\n      </Epic>\n      </ConfigProvider>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport * as eruda from 'eruda';\nimport * as erudaCode from 'eruda-code';\nimport * as erudaDom from 'eruda-dom';\nimport bridge from '@vkontakte/vk-bridge'\nimport '@vkontakte/vkui/dist/vkui.css';\n \nimport './main.css';\nimport './style.css';\nbridge.send(\"VKWebAppInit\", {})\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n\n\neruda.init();\neruda.add(erudaCode);\neruda.add(erudaDom);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}