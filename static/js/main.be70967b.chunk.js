(this.webpackJsonpairlanes=this.webpackJsonpairlanes||[]).push([[0],{215:function(e,t,a){e.exports=a(524)},521:function(e,t,a){},523:function(e,t,a){},524:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(38),c=a.n(o),l=a(48),s=a(17),u=a(24),i=a.n(u),p=a(35),m=a(13),h=a(14),d=a(16),f=a(15),g=a(1),y=a(12),E=a.n(y),b=a(169),v=a.n(b),C=a(170),k=a.n(C),S=a(171),D=a.n(S),T=a(172),O=a.n(T),j=a(173),w=a.n(j),P=a(174),x=a.n(P),M=function(e){var t=e.id,a=e.state,n=e.openCatalog;return r.a.createElement(g.w,{id:t},r.a.createElement(g.x,null,"\u0421\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430"),null===a.catalog?r.a.createElement(g.z,{size:"large"}):r.a.createElement(g.s,null,a.catalog&&a.catalog.map((function(e,t){return r.a.createElement(g.H,{key:e.catalog,id:t,expandable:!0,onClick:n},e.catalog)}))))},N=a(55),_=a(74),A=a.n(_),F=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={from:null,to:null,all:!1},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.setState({from:this.props.state.obj.from,to:this.props.state.obj.to}),this.props.updateModalHeight()}},{key:"render",value:function(){var e=this.state,t=(e.from,e.to,e.all,this.props);t.id,t.close,t.state;return r.a.createElement("div",null)}}]),a}(r.a.Component),q=(Object(g.Q)(F),function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).subscribe=function(t){var a=t.currentTarget.id.split("com/")[1],n=e.props.state;E.a.sendPromise("VKWebAppGetAuthToken",{app_id:n.appId,scope:"wall,groups",request_id:1}).then((function(e){e.access_token&&"wall,groups"===e.scope&&E.a.sendPromise("VKWebAppCallAPIMethod",{method:"groups.getById",request_id:2,params:{group_id:a,access_token:e.access_token,v:5.107}}).then((function(e){E.a.sendPromise("VKWebAppJoinGroup",{group_id:e.response[0].id}).then((function(){fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-groups",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},body:JSON.stringify({user_id:n.user.id,app_id:n.appId,checkbox:e.response[0].id}),method:"POST"})}))}))}))},e.subscribeMessages=function(t,a){var n=e.props.state;e.props.setPopout(r.a.createElement(g.D,null)),E.a.sendPromise("VKWebAppGetAuthToken",{app_id:n.appId,scope:"wall,groups",request_id:1}).then((function(n){n.access_token&&"wall,groups"===n.scope&&E.a.sendPromise("VKWebAppCallAPIMethod",{method:"groups.getById",request_id:2,params:{group_id:t,access_token:n.access_token,v:5.107}}).then((function(r){E.a.sendPromise("VKWebAppAllowMessagesFromGroup",{group_id:r.response[0].id,key:"dBuBKe1kFcdemzB"}).then((function(){E.a.sendPromise("VKWebAppCallAPIMethod",{method:"wall.get",request_id:2,params:{domain:t,access_token:n.access_token,v:5.107}}).then(function(){var t=Object(p.a)(i.a.mark((function t(n){var o,c,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=[],c=[],n.response.items.forEach((function(e){var t=Object(N.a)(e.text.matchAll(/(#.*@.*)/g));if(t.length){if(t.length>2){var a=t[2];c.push(a)}var n=t[0];o.push(n)}})),o=(o=o.map((function(e){return e[0]}))).filter((function(e,t){return o.indexOf(e)===t})),c=(c=c.map((function(e){return e[0]}))).filter((function(e,t){return c.indexOf(e)===t})),l={name:a,id:null,groupId:r.response[0].id,from:c.map((function(e){return{tag:e,checked:!1}})),to:o.map((function(e){return{tag:e,checked:!1}}))},e.props.onChangeGroups("obj",l),e.props.openModal("subscribeCities"),e.props.setPopout(null);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){return e.props.setPopout(null)}))})).catch((function(){return e.props.setPopout(null)}))})).catch((function(){return e.props.setPopout(null)}))})).catch((function(){return e.props.setPopout(null)}))},e.subscribeMessagesAlert=function(t){var a=t.currentTarget.id.split("com/")[1],n=t.currentTarget.name;e.props.setPopout(r.a.createElement(g.c,{actions:[{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"},{title:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c",autoclose:!0,action:function(){return e.subscribeMessages(a,n)}}],onClose:function(){return e.props.setPopout(null)}},r.a.createElement("p",null,"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0441\u043e \u0441\u0442\u0435\u043d\u044b \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 \u0432 \u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u0435 \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0412\u0430\u043c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u0435 \u0441\u0435\u0439\u0447\u0430\u0441 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435 \u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434\u0430 \u043f\u0440\u0438\u043b\u0435\u0442\u0430 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430.")))},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.id,n=t.state,o=t.go;return r.a.createElement(g.w,{id:a},r.a.createElement(g.x,{left:r.a.createElement(g.y,{onClick:function(){return o("home")}})},n.catalog[n.currentCatalog].catalog),n.catalog&&n.catalog[n.currentCatalog].to.map((function(t,a){return t.section?r.a.createElement(g.H,{key:a,expandable:!0,id:a,onClick:e.props.chooseSection},r.a.createElement(g.r,null,t.section)):r.a.createElement(g.C,{key:a,disabled:!0,multiline:!0,actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(g.e,{mode:"outline",id:t.channelName,onClick:e.subscribe},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"),r.a.createElement(g.e,{mode:"outline",id:t.channelName,onClick:function(e){return window.open(e.currentTarget.id,"_blank")}},"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c"),r.a.createElement(g.r,{name:t.description,id:t.channelName,onClick:e.subscribeMessagesAlert},r.a.createElement(A.a,null)))},t.description)})))}}]),a}(n.Component)),U=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).subscribe=function(t){var a=t.currentTarget.id.split("com/")[1],n=e.props.state;E.a.sendPromise("VKWebAppGetAuthToken",{app_id:n.appId,scope:"wall,groups",request_id:1}).then((function(e){e.access_token&&"wall,groups"===e.scope&&E.a.sendPromise("VKWebAppCallAPIMethod",{method:"groups.getById",request_id:2,params:{group_id:a,access_token:e.access_token,v:5.107}}).then((function(e){E.a.sendPromise("VKWebAppJoinGroup",{group_id:e.response[0].id}).then((function(){fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-groups",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin"},body:JSON.stringify({user_id:n.user.id,app_id:n.appId,checkbox:e.response[0].id}),method:"POST",mode:"cors",credentials:"include"})}))}))}))},e.subscribeMessages=function(t,a){var n=e.props.state;e.props.setPopout(r.a.createElement(g.D,null)),E.a.sendPromise("VKWebAppGetAuthToken",{app_id:n.appId,scope:"wall,groups",request_id:1}).then((function(n){n.access_token&&"wall,groups"===n.scope&&E.a.sendPromise("VKWebAppCallAPIMethod",{method:"groups.getById",request_id:2,params:{group_id:t,access_token:n.access_token,v:5.107}}).then((function(r){E.a.sendPromise("VKWebAppAllowMessagesFromGroup",{group_id:r.response[0].id,key:"dBuBKe1kFcdemzB"}).then((function(){E.a.sendPromise("VKWebAppCallAPIMethod",{method:"wall.get",request_id:2,params:{domain:t,access_token:n.access_token,v:5.107}}).then(function(){var t=Object(p.a)(i.a.mark((function t(n){var o,c,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=[],c=[],n.response.items.forEach((function(e){var t=Object(N.a)(e.text.matchAll(/(#.*@.*)/g));if(t.length){if(t.length>2){var a=t[2];c.push(a)}var n=t[0];o.push(n)}})),o=(o=o.map((function(e){return e[0]}))).filter((function(e,t){return o.indexOf(e)===t})),c=(c=c.map((function(e){return e[0]}))).filter((function(e,t){return c.indexOf(e)===t})),l={name:a,id:null,groupId:r.response[0].id,from:c.map((function(e){return{tag:e,checked:!1}})),to:o.map((function(e){return{tag:e,checked:!1}}))},e.props.onChangeGroups("obj",l),e.props.openModal("subscribeCities"),e.props.setPopout(null);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){return e.props.setPopout(null)}))})).catch((function(){return e.props.setPopout(null)}))})).catch((function(){return e.props.setPopout(null)}))})).catch((function(){return e.props.setPopout(null)}))},e.subscribeMessagesAlert=function(t){var a=t.currentTarget.id.split("com/")[1],n=t.currentTarget.name;e.props.setPopout(r.a.createElement(g.c,{actions:[{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"},{title:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c",autoclose:!0,action:function(){return e.subscribeMessages(a,n)}}],onClose:function(){return e.props.setPopout(null)}},r.a.createElement("p",null,"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0441\u043e \u0441\u0442\u0435\u043d\u044b \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 \u0432 \u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u0435 \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0412\u0430\u043c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u0435 \u0441\u0435\u0439\u0447\u0430\u0441 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435 \u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434\u0430 \u043f\u0440\u0438\u043b\u0435\u0442\u0430 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430.")))},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.id,n=t.state,o=t.go;return r.a.createElement(g.w,{id:a},r.a.createElement(g.x,{left:r.a.createElement(g.y,{onClick:function(){return o("catalog")}})},n.catalog[n.currentCatalog].catalog),(n.currentSection||0===n.currentSection)&&r.a.createElement(g.p,null,n.catalog[n.currentCatalog].to[n.currentSection].section),(n.currentSection||0===n.currentSection)&&n.catalog&&n.catalog[n.currentCatalog].to[n.currentSection].arr.map((function(t,a){return r.a.createElement(g.C,{key:a,disabled:!0,multiline:!0,actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(g.e,{mode:"outline",id:t.channelName,onClick:e.subscribe},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"),r.a.createElement(g.e,{mode:"outline",id:t.channelName,onClick:function(e){return window.open(e.currentTarget.id,"_blank")}},"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c"),r.a.createElement(g.r,{name:t.description,id:t.channelName,onClick:e.subscribeMessagesAlert},r.a.createElement(A.a,null)))},t.description)})))}}]),a}(n.Component),I=a(99),B=a.n(I),J=a(100),G=a.n(J),K=(a(246),a(179)),V=a.n(K),W=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.text)}},{key:"render",value:function(){return r.a.createElement(g.I,{onClose:this.props.close,before:r.a.createElement(V.a,{fill:"#FA5728"})},this.props.text?this.props.text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u0441\u043e\u0435\u0434\u0435\u043d\u0435\u043d\u0438\u044f.")}}]),a}(n.Component),H=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={data:null,snackbar:null},e.openMenu=function(t,a){e.props.setPopout(r.a.createElement(g.a,{onClose:function(){return e.props.setPopout(null)}},r.a.createElement(g.b,{autoclose:!0,before:r.a.createElement(B.a,null),onClick:function(){return e.edit_(t.body,t.id)}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement(g.b,{mode:"destructive",before:r.a.createElement(G.a,null),onClick:function(){return e.openConfirm(t.id,a)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))},e.openConfirm=function(t,a){e.props.setPopout(r.a.createElement(g.c,{onClose:function(){return e.props.setPopout(null)},actions:[{title:"\u041d\u0435\u0442",autoclose:!0,mode:"cancel"},{title:"\u0414\u0430",autoclose:!0,mode:"destructive",action:function(){return e.delete(t,a)}}]},"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?"))},e.delete=function(t,a){console.log(a),e.props.setPopout(r.a.createElement(g.D,null)),fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/remove-tag",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},referrer:"https://appvk.flights.ru/",referrerPolicy:"no-referrer-when-downgrade",body:JSON.stringify({tag_id:t,user_id:e.props.state.user.id}),method:"POST"}).then((function(e){return e.json()})).then((function(t){"ok"===t.response&&(e.state.data.splice(a,1),e.props.setPopout(null))}))},e.edit_=function(t,a){var n=t.split("#")[1],o=t.split("@")[1],c=e.props.state;e.props.setPopout(r.a.createElement(g.D,null)),E.a.sendPromise("VKWebAppGetAuthToken",{app_id:c.appId,scope:"wall,groups",request_id:1}).then((function(t){t.access_token&&"wall,groups"===t.scope&&E.a.sendPromise("VKWebAppCallAPIMethod",{method:"groups.getById",request_id:2,params:{group_id:o,access_token:t.access_token,v:5.107}}).then((function(r){E.a.sendPromise("VKWebAppAllowMessagesFromGroup",{group_id:r.response[0].id,key:"dBuBKe1kFcdemzB"}).then((function(){E.a.sendPromise("VKWebAppCallAPIMethod",{method:"wall.get",request_id:2,params:{domain:o,access_token:t.access_token,v:5.107}}).then(function(){var t=Object(p.a)(i.a.mark((function t(c){var l,s,u,p,m,h;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l=[],s=[],u=c.response.items,p=e.state.data.filter((function(e){if(e.body.split("@")[1]===o)return!0})),m=p.map((function(e){return e.body})),console.log(m),u.forEach((function(e){var t=Object(N.a)(e.text.matchAll(/(#.*@.*)/g));if(t.length){if(t.length>2){var a=t[2];s.push(a)}var n=t[0];l.push(n)}})),l=(l=l.map((function(e){return e[0]}))).filter((function(e,t){return l.indexOf(e)===t})),s=(s=s.map((function(e){return e[0]}))).filter((function(e,t){return s.indexOf(e)===t})),h={name:n,id:a,groupId:r.response[0].id,from:s.map((function(e){return{tag:e,checked:-1!==m.indexOf(e)}})),to:l.map((function(e){return{tag:e,checked:-1!==m.indexOf(e)}}))},e.props.onChangeGroups("obj",h),e.props.openModal("subscribeCities"),e.props.setPopout(null);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.props.setPopout(null),console.log(t)}))})).catch((function(t){e.props.setPopout(null),console.log(t)}))})).catch((function(t){e.props.setPopout(null),console.log(t)}))})).catch((function(){return e.props.setPopout(null)}))},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.setPopout(r.a.createElement(g.D,null)),fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-tags",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},body:JSON.stringify({user_id:String(this.props.state.user.id)}),method:"POST"}).then((function(e){return e.json()})).then((function(t){e.setState({data:t.tags}),e.props.setPopout(null)})).catch((function(t){e.props.setPopout(null),e.setState({snackbar:r.a.createElement(W,{close:function(){return e.setState({snackbar:null})}}),data:"error"})}))}},{key:"render",value:function(){var e=this,t=this.state.data;return r.a.createElement(g.o,null,"error"===this.state.data?r.a.createElement(g.A,null,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u0441\u043e\u0435\u0434\u0435\u043d\u0435\u043d\u0438\u044f"):t&&r.a.createElement("div",null,0===t.length?r.a.createElement(g.A,null,"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u043e\u043a."):r.a.createElement(g.s,null,t.map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement(g.C,{onClick:function(){return e.openMenu(t,a)},text:t.group_name,caption:"\u041a\u0443\u0434\u0430: "+t.body.split("#")[1].split("@")[0],after:r.a.createElement("div",null,r.a.createElement(g.r,null,r.a.createElement(B.a,null)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(g.r,null,r.a.createElement(G.a,null)))},t.category),r.a.createElement(g.G,null))})))),this.state.snackbar)}}]),a}(n.Component),R={all:"\u043b\u044e\u0431\u043e\u0435",winter:"\u0437\u0438\u043c\u0430",spring:"\u0432\u0435\u0441\u043d\u0430",summer:"\u043b\u0435\u0442\u043e",fall:"\u043e\u0441\u0435\u043d\u044c"},Y={0:"\u043b\u044e\u0431\u043e\u0439",1:"\u044f\u043d\u0432\u0430\u0440\u044c",2:"\u0444\u0435\u0432\u0440\u0430\u043b\u044c",3:"\u043c\u0430\u0440\u0442",4:"\u0430\u043f\u0440\u0435\u043b\u044c",5:"\u043c\u0430\u0439",6:"\u0438\u044e\u043d\u044c",7:"\u0438\u044e\u043b\u044c",8:"\u0430\u0432\u0433\u0443\u0441\u0442",9:"\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c",10:"\u043e\u043a\u0442\u044f\u0431\u0440\u044c",11:"\u043d\u043e\u044f\u0431\u0440\u044c",12:"\u0434\u0435\u043a\u0430\u0431\u0440\u044c"},z={random:"\u043b\u044e\u0431\u0430\u044f",E:"\u0415\u0432\u0440\u043e\u043f\u0430",F:"\u0410\u0444\u0440\u0438\u043a\u0430",O:"\u041e\u043a\u0435\u0430\u043d\u0438\u044f",A:"\u0410\u0437\u0438\u044f",S:"\u042e\u0436\u043d\u0430\u044f \u0410\u043c\u0435\u0440\u0438\u043a\u0430",N:"\u0421\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0410\u043c\u0435\u0440\u0438\u043a\u0430"},Z={url:"1 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440, \u044d\u043a\u043e\u043d\u043e\u043c\u043a\u043b\u0430\u0441\u0441",url1Business:"1 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440, \u0431\u0438\u0437\u043d\u0435\u0441-\u043a\u043b\u0430\u0441\u0441",url2Passengers:"2 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430, \u044d\u043a\u043e\u043d\u043e\u043c\u043a\u043b\u0430\u0441\u0441",urlForma:"\u043e\u0442\u043a\u0440\u044b\u0442\u0430\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0435\u043c\u0430\u044f \u0444\u043e\u0440\u043c\u0430 \u043f\u043e\u0438\u0441\u043a\u0430"},L={AZN:"\u043c\u0430\u043d\u0430\u0442",BYN:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",CNY:"\u044e\u0430\u043d\u044c",EUR:"\u0435\u0432\u0440\u043e",KGS:"\u0441\u043e\u043c",KZT:"\u0442\u0435\u043d\u0433\u0435 ",RUB:"\u0440\u0443\u0431\u043b\u044c ",THB:"\u0431\u0430\u0442",UAH:"\u0433\u0440\u0438\u0432\u043d\u0430",USD:"\u0434\u043e\u043b\u043b\u0430\u0440",UZS:"\u0441\u0443\u043c"},X={AZN:"\u043c\u0430\u043d\u0430\u0442",BYN:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u0441\u043a\u0438\u0445 \u0440\u0443\u0431\u043b\u0435\u0439",CNY:"\u044e\u0430\u043d\u044c",EUR:"\u0435\u0432\u0440\u043e",KGS:"\u0441\u043e\u043c",KZT:"\u0442\u0435\u043d\u0433\u0435 ",RUB:"\u0440\u0443\u0431\u043b\u0435\u0439",THB:"\u0431\u0430\u0442",UAH:"\u0433\u0440\u0438\u0432\u043d\u0430",USD:"\u0434\u043e\u043b\u043b\u0430\u0440",UZS:"\u0441\u0443\u043c"},Q={de:"\u043d\u0435\u043c\u0435\u0446\u043a\u0438\u0439",en:"\u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439",es:"\u0438\u0441\u043f\u0430\u043d\u0441\u043a\u0438\u0439",fr:"\u0444\u0440\u0430\u043d\u0446\u0443\u0437\u0441\u043a\u0438\u0439",it:"\u0438\u0442\u0430\u043b\u044c\u044f\u043d\u0441\u043a\u0438\u0439",ru:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439",th:"\u0442\u0430\u0439\u0441\u043a\u0438\u0439",tr:"\u0442\u0443\u0440\u0435\u0446\u043a\u0438\u0439"},$=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={snackbar:null},e.openAlert=function(t,a){console.log(t),e.props.setPopout(r.a.createElement(g.c,{actions:[{title:"\u041d\u0435\u0442",autoclose:!0,mode:"cancel"},{title:"\u0414\u0430",autoclose:!0,mode:"destructive",action:function(){return e.delete(t,a)}}],onClose:function(){return e.props.setPopout(null)}},r.a.createElement("h1",null,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c?")))},e.delete=function(t,a){e.props.setPopout(r.a.createElement(g.D,null)),fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/delete-request",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},referrer:"https://appvk.flights.ru/",referrerPolicy:"no-referrer-when-downgrade",body:JSON.stringify({request_id:t}),method:"POST"}).then((function(e){return e.json()})).then((function(t){if("ok"===t.response){e.state.data.splice(a,1);e.props.setPopout(null)}}))},e.edit=function(t){var a=JSON.parse(t.output);e.props.onChange(a.countrySrc,a.citySrc,a.countryDst,a.cityDst,t.id),e.props.changeDefaultName("form"),setTimeout((function(){return e.props.changeFunction(a)}),200),setTimeout((function(){return e.props.go("edit-settings")}),500)},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.setPopout(r.a.createElement(g.D,null)),fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-requests",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},body:JSON.stringify({user_id:String(this.props.state.user.id)}),method:"POST"}).then((function(e){return e.json()})).then((function(t){e.setState({data:t.requests}),e.props.setPopout(null)})).catch((function(t){e.props.setPopout(null),e.setState({snackbar:r.a.createElement(W,{close:function(){return e.setState({snackbar:null})}}),data:"error"})}))}},{key:"render",value:function(){var e=this,t=this.state.data;return r.a.createElement("div",null,t&&r.a.createElement("div",null,"error"===t?r.a.createElement(g.A,null,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u0441\u043e\u0435\u0434\u0435\u043d\u0435\u043d\u0438\u044f"):r.a.createElement("div",null,0===t.length?r.a.createElement(g.A,null,"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u043e\u043a."):t.map((function(t,a){return r.a.createElement(g.o,{separator:"hide",key:a},r.a.createElement(g.g,null,r.a.createElement(g.f,{size:"l",mode:"shadow"},r.a.createElement(g.j,{style:{padding:"20px",lineHeight:1.5}},"\u0418\u0437 \u0441\u0442\u0440\u0430\u043d\u044b ",r.a.createElement("b",null,JSON.parse(t.output).countrySrc?JSON.parse(t.output).countrySrc:"\u043b\u044e\u0431\u0430\u044f")," \u0438 \u0433\u043e\u0440\u043e\u0434\u0430 ",r.a.createElement("b",null,JSON.parse(t.output).citySrc?JSON.parse(t.output).citySrc:"\u043b\u044e\u0431\u043e\u0439"),r.a.createElement("br",null),"\u0412 \u0447\u0430\u0441\u0442\u044c \u0441\u0432\u0435\u0442\u0430 ",r.a.createElement("b",null,z[JSON.parse(t.output).continentDst])," \u0438 \u0441\u0442\u0440\u0430\u043d\u0443 ",r.a.createElement("b",null,JSON.parse(t.output).countryDst?JSON.parse(t.output).countryDst:"\u043b\u044e\u0431\u0430\u044f"),r.a.createElement("br",null),"\u0412 \u0433\u043e\u0440\u043e\u0434 ",r.a.createElement("b",null,JSON.parse(t.output).cityDst?JSON.parse(t.output).cityDst:"\u043b\u044e\u0431\u043e\u0439"),r.a.createElement("br",null),"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0442\u043e\u0432 - ",r.a.createElement("b",null,JSON.parse(t.output).forward?"\u0442\u0443\u0434\u0430":"\u0442\u0443\u0434\u0430-\u043e\u0431\u0440\u0430\u0442\u043d\u043e"),r.a.createElement("br",null),JSON.parse(t.output).dates.map((function(e,t){return r.a.createElement("div",{key:t},"\u0413\u043e\u0434 \u0432\u044b\u043b\u0435\u0442\u0430 (",t+1,") ",r.a.createElement("b",null,e.year),r.a.createElement("br",null),"\u0412\u0440\u0435\u043c\u044f \u0433\u043e\u0434\u0430 (",t+1,") ",r.a.createElement("b",null,R[e.season]),r.a.createElement("br",null),"\u041c\u0435\u0441\u044f\u0446 (",t+1,") ",r.a.createElement("b",null,Y[e.month]),r.a.createElement("br",null))})),r.a.createElement("br",null),"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b ",r.a.createElement("b",null,Z[JSON.parse(t.output).passengers]),r.a.createElement("br",null),"\u0426\u0435\u043d\u0430 \u043e\u0442 ",r.a.createElement("b",null,JSON.parse(t.output).costMin)," \u0434\u043e ",r.a.createElement("b",null,JSON.parse(t.output).costMax)," ",X[JSON.parse(t.output).currency],r.a.createElement("br",null),"\u041f\u0435\u0440\u0438\u043e\u0434 \u043f\u043e\u043a\u0430\u0437\u0430 ",r.a.createElement("b",null,JSON.parse(t.output).interval)," \u043c\u0438\u043d\u0443\u0442",r.a.createElement("br",null),"\u0413\u043b\u0443\u0431\u0438\u043d\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 ",r.a.createElement("b",null,JSON.parse(t.output).updated)," \u043c\u0438\u043d\u0443\u0442",r.a.createElement("br",null),"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0437\u0430 24 \u0447\u0430\u0441\u0430 ",r.a.createElement("b",null,"0"===JSON.parse(t.output).limit?"\u0432\u0441\u0435":JSON.parse(t.output).limit),r.a.createElement("br",null),"\u042f\u0437\u044b\u043a (\u0442\u0443\u0434\u0430-\u043e\u0431\u0440\u0430\u0442\u043d\u043e) ",r.a.createElement("b",null,Q[JSON.parse(t.output).language]),r.a.createElement("br",null),"\u0412\u0430\u043b\u044e\u0442\u0430 (\u0446\u0435\u043d\u0430) ",r.a.createElement("b",null,L[JSON.parse(t.output).currency]),r.a.createElement("br",null),"\u0412\u0430\u043b\u044e\u0442\u0430 (\u043c\u0435\u0442\u0430\u043f\u043e\u0438\u0441\u043a\u043e\u0432\u0438\u043a\u0430) ",r.a.createElement("b",null,L[JSON.parse(t.output).currencyForUrl]),r.a.createElement("br",null),JSON.parse(t.output).optional&&r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{style:{color:"var(--tabbar_inactive_icon)"}},"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b"),JSON.parse(t.output).profitability&&"\u0412\u044b\u0433\u043e\u0434\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u043a\u0443\u043f\u043a\u0438 \u0431\u043e\u043b\u044c\u0448\u0435 ",JSON.parse(t.output).profitability&&r.a.createElement("b",null,JSON.parse(t.output).profitability+"%"),r.a.createElement("br",null),"\u0414\u043d\u0438 \u043d\u0435\u0434\u0435\u043b\u0438 \u0432\u044b\u043b\u0435\u0442\u0430 ",r.a.createElement("b",null,function(e){var t=["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],a=0;if(e.every((function(e,t,n){return a++,!0===e})),7===a)return"\u0432\u0441\u0435";for(var n="",r=1;r<e.length;r++)e[r]&&(n+=t[r].toLowerCase()+", ");return n+=t[0].toLowerCase()}(JSON.parse(t.output).days)),r.a.createElement("br",null),JSON.parse(t.output).showAddionalWeather&&r.a.createElement("div",null,"\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u043f\u043e\u0433\u043e\u0434\u044b \u0432 \u0434\u0435\u043d\u044c \u043f\u0440\u0438\u043b\u0435\u0442\u0430",r.a.createElement("br",null),"\u0414\u043d\u0435\u043c \u043e\u0442 ",r.a.createElement("b",null,JSON.parse(t.output)["dayTemp.min"])," \u0421 \u0434\u043e ",r.a.createElement("b",null,JSON.parse(t.output)["dayTemp.max"])," \u0421",r.a.createElement("br",null),"\u041d\u043e\u0447\u044c\u044e \u043e\u0442 ",r.a.createElement("b",null,JSON.parse(t.output)["nightTemp.min"])," \u0421 \u0434\u043e ",r.a.createElement("b",null,JSON.parse(t.output)["nightTemp.max"])," \u0421",r.a.createElement("br",null)))),r.a.createElement(g.j,null,r.a.createElement(g.e,{onClick:function(){return e.edit(t)},size:"xl"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement("br",null),r.a.createElement(g.e,{onClick:function(){return e.openAlert(t.id,a)},size:"xl",mode:"destructive"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))))})))),this.state.snackbar)}}]),a}(n.Component),ee=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={activeTab:"groups"},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.state.activeTab,a=this.props,n=a.id,o=a.state;return r.a.createElement(g.w,{id:n},r.a.createElement(g.x,null,"\u041c\u043e\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"),r.a.createElement(g.l,{vertical:"top"},r.a.createElement(g.M,null,r.a.createElement(g.N,{selected:"groups"===t,onClick:function(){return e.setState({activeTab:"groups"})}},"\u0421\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430"),r.a.createElement(g.N,{selected:"database"===t,onClick:function(){return e.setState({activeTab:"database"})}},"\u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445"))),r.a.createElement("div",{style:{marginTop:"60px"}}),"groups"===t?r.a.createElement(H,{setPopout:this.props.setPopout,onChangeGroups:this.props.onChangeGroups,openModal:this.props.openModal,state:o}):r.a.createElement($,{setPopout:this.props.setPopout,state:o,onChange:this.props.onChange,go:this.props.go,changeDefaultName:this.props.changeDefaultName,changeFunction:this.props.changeFunction}))}}]),a}(n.Component),te=a(180),ae=a.n(te),ne=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={friends:null,snackbar:null},e.getFriends=function(){e.props.setPopout(r.a.createElement(g.D,null)),E.a.sendPromise("VKWebAppGetAuthToken",{app_id:e.props.state.appId,scope:"friends"}).then((function(t){t.access_token&&"friends"===t.scope?E.a.sendPromise("VKWebAppCallAPIMethod",{method:"friends.get",params:{access_token:t.access_token,fields:"city,photo_50",v:5.107},request_id:"3"}).then((function(t){t.response.items?(e.setState({friends:t.response.items.filter((function(e){return e.city})).filter((function(t){return t.city.id!==e.props.state.user.city.id&&t.city.title!==e.props.state.city_}))}),e.props.setPopout(null)):e.props.setPopout(null)})).catch((function(){return e.props.setPopout(null)})):e.props.setPopout(null)})).catch((function(){return e.props.setPopout(null)}))},e.getPrice=function(t){e.props.setPopout(r.a.createElement(g.D,null));var a=t.currentTarget.id.split("_")[1],n=t.currentTarget.id.split("_")[0];fetch("https://cors-anywhere.herokuapp.com/https://api.travelpayouts.com/data/ru/cities.json").then((function(e){return e.json()})).then((function(t){var o=t.filter((function(t){return t.name===e.props.state.user.city.title}))[0].code;o=null==e.props.state.city_?t.filter((function(t){return t.name===e.props.state.user.city.title}))[0].code:t.filter((function(t){return t.name===e.props.state.city_}))[0].code;var c=t.filter((function(e){return e.name===a}))[0].code;fetch("https://cors-anywhere.herokuapp.com/https://api.travelpayouts.com/v1/prices/calendar?&origin=".concat(o,"&destination=").concat(c,"&calendar_type=departure_date&token=d378bb3f3b879e6fc87899314ba5ce5d")).then((function(e){return e.json()})).then((function(t){console.log(t),e.isEmpty(t.data)&&(e.props.changeDefaultName("city_"),e.props.changeDefault("\u0413\u043e\u0440\u043e\u0434 \u0432\u044b\u043b\u0435\u0442\u0430"),e.props.go("chooseCity"));var a=Object.keys(t.data)[0];Object.keys(t.data).length>3&&(a=Object.keys(t.data)[3]),e.setState({friends:e.state.friends.map((function(e){return e.id===parseInt(n,10)&&(e.price=t.data[a].price+" "+t.currency),e}))}),e.props.setPopout(null)})).catch((function(t){e.props.setPopout(null),e.setState({snackbar:r.a.createElement(W,{text:"\u041d\u0435 \u043d\u0430\u0448\u043b\u0438 \u0446\u0435\u043d\u0443 \u0431\u0438\u043b\u0435\u0442\u0430 \u043a \u044d\u0442\u043e\u043c\u0443 \u0434\u0440\u0443\u0433\u0443 :(",close:function(){return e.setState({snackbar:null})}})})}))})).catch((function(t){e.props.setPopout(null),e.setState({snackbar:r.a.createElement(W,{close:function(){return e.setState({snackbar:null})}})})}))},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.getFriends()}},{key:"isEmpty",value:function(e){for(var t in e)return!1;return!0}},{key:"render",value:function(){var e=this,t=this.props.id,a=this.state.friends;return r.a.createElement(g.w,{id:t},r.a.createElement(g.x,null,"\u0414\u0440\u0443\u0437\u044c\u044f"),a?a.map((function(t){return r.a.createElement(g.C,{key:t.id,actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(g.e,{id:t.id+"_"+t.city.title,onClick:e.getPrice},t.price?t.price:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0446\u0435\u043d\u0443")),text:t.city.title,before:r.a.createElement(g.d,{src:t.photo_50})},t.first_name+" "+t.last_name)})):r.a.createElement(g.A,{icon:r.a.createElement(ae.a,null),header:"\u0414\u0440\u0443\u0437\u044c\u044f",action:r.a.createElement(g.e,{onClick:this.getFriends,size:"l"},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a")},"\u0427\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043a \u0434\u0440\u0443\u0437\u044c\u044f\u043c, \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e."),this.state.snackbar)}}]),a}(n.Component),re=a(181),oe=a.n(re),ce=a(75),le=a.n(ce),se=(a(521),{all:"\u043b\u044e\u0431\u043e\u0435",winter:"\u0437\u0438\u043c\u0430",spring:"\u0432\u0435\u0441\u043d\u0430",summer:"\u043b\u0435\u0442\u043e",fall:"\u043e\u0441\u0435\u043d\u044c"}),ue={0:"\u043b\u044e\u0431\u043e\u0439",1:"\u044f\u043d\u0432\u0430\u0440\u044c",2:"\u0444\u0435\u0432\u0440\u0430\u043b\u044c",3:"\u043c\u0430\u0440\u0442",4:"\u0430\u043f\u0440\u0435\u043b\u044c",5:"\u043c\u0430\u0439",6:"\u0438\u044e\u043d\u044c",7:"\u0438\u044e\u043b\u044c",8:"\u0430\u0432\u0433\u0443\u0441\u0442",9:"\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c",10:"\u043e\u043a\u0442\u044f\u0431\u0440\u044c",11:"\u043d\u043e\u044f\u0431\u0440\u044c",12:"\u0434\u0435\u043a\u0430\u0431\u0440\u044c"},ie={all:"\u043b\u044e\u0431\u0430\u044f",E:"\u0415\u0432\u0440\u043e\u043f\u0430",F:"\u0410\u0444\u0440\u0438\u043a\u0430",D:"\u041e\u043a\u0435\u0430\u043d\u0438\u044f",A:"\u0410\u0437\u0438\u044f",S:"\u042e\u0436\u043d\u0430\u044f \u0410\u043c\u0435\u0440\u0438\u043a\u0430",N:"\u0421\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0410\u043c\u0435\u0440\u0438\u043a\u0430"},pe={de:"\u043d\u0435\u043c\u0435\u0446\u043a\u0438\u0439",en:"\u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439",es:"\u0438\u0441\u043f\u0430\u043d\u0441\u043a\u0438\u0439",fr:"\u0444\u0440\u0430\u043d\u0446\u0443\u0437\u0441\u043a\u0438\u0439",it:"\u0438\u0442\u0430\u043b\u044c\u044f\u043d\u0441\u043a\u0438\u0439",ru:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439",th:"\u0442\u0430\u0439\u0441\u043a\u0438\u0439",tr:"\u0442\u0443\u0440\u0435\u0446\u043a\u0438\u0439"},me={AZN:"\u043c\u0430\u043d\u0430\u0442",BYN:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",CNY:"\u044e\u0430\u043d\u044c",EUR:"\u0435\u0432\u0440\u043e",KGS:"\u0441\u043e\u043c",KZT:"\u0442\u0435\u043d\u0433\u0435",RUB:"\u0440\u0443\u0431\u043b\u044c",THB:"\u0431\u0430\u0442",UAH:"\u0433\u0440\u0438\u0432\u043d\u0430",USD:"\u0434\u043e\u043b\u043b\u0430\u0440",UZS:"\u0441\u0443\u043c"},he={url:"1 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440, \u044d\u043a\u043e\u043d\u043e\u043c\u043a\u043b\u0430\u0441\u0441",url2Passengers:"2 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430, \u044d\u043a\u043e\u043d\u043e\u043c\u043a\u043b\u0430\u0441\u0441",url1Business:"1 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440, \u0431\u0438\u0437\u043d\u0435\u0441-\u043a\u043b\u0430\u0441\u0441",urlForma:"\u0434\u0440\u0443\u0433\u043e\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442"},de=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e,n;Object(m.a)(this,a);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return(n=t.call.apply(t,[this].concat(c))).state=(e={updated:"60",interval:"60",limit:"0",datesCnt:[{year:(new Date).getFullYear(),season:"all",month:"0"}],language:"ru",dual:!0,forward:!0,profitability:30,currency:"RUB",currencyForUrl:"RUB",passengers:"url",randomCost:!0,randomTempDay:!0,randomTempNight:!0,costMin:100,costMax:5e5,dayTempMin:-50,dayTempMax:50},Object(s.a)(e,"interval","60"),Object(s.a)(e,"nighTempMin",-50),Object(s.a)(e,"nighTempMax",50),Object(s.a)(e,"days",[!0,!0,!0,!0,!0,!0,!0]),Object(s.a)(e,"allDays",!0),Object(s.a)(e,"snackbar",null),e),n.onChange=function(e){n.setState(Object(s.a)({},e.currentTarget.name,e.currentTarget.value))},n.onChangeCheck=function(e){n.setState(Object(s.a)({},e.currentTarget.name,e.currentTarget.checked))},n.onChangeFrom=function(e){var t=n.state.datesCnt;t[parseInt(e.currentTarget.id,10)][e.currentTarget.name]=e.currentTarget.value,"year"==[e.currentTarget.name]&&(console.log("p"),t[parseInt(e.currentTarget.id,10)].season="all",t[parseInt(e.currentTarget.id,10)].month=0),n.setState({datesCnt:t})},n.addFrom=function(){var e=n.state.datesCnt;e.push({yearSrc:(new Date).getFullYear(),seasonSrc:se.all,monthSrc:ue[0]}),n.setState({datesCnt:e})},n.removeFrom=function(){var e=n.state.datesCnt;n.setState({datesCnt:e.splice(0,e.length-1)})},n.onChangeDays=function(e){if(console.log(e.currentTarget.name),"all"==e.currentTarget.name)n.setState({allDays:!n.state.allDays});else{var t=!n.state.days[Number(e.currentTarget.name)];n.state.days.splice([Number(e.currentTarget.name)],1,t);console.log(n.state.days);var a=!0;n.state.days.forEach((function(e){e||(a=!1)})),n.setState({days:n.state.days,allDays:a})}},n.sort_res=function(){var e;n.props.setPopout(r.a.createElement(g.D,null));var t,a=n.props.state,o=a.user,c=a.citySrc,l=a.cityDst,u=a.countryDst,i=a.countrySrc,p=n.state,m=p.costMax,h=p.costMin,d=p.currency,f=p.currencyForUrl,y=p.language,E=p.randomCost,b=p.dual,v=p.forward,C=p.datesCnt,k=p.profitability,S=p.dayTempMin,D=p.dayTempMax,T=p.nighTempMax,O=p.nighTempMin,j=p.passengers,w=p.updated,P=p.interval,x=p.limit;t=n.state.allDays?[!0,!0,!0,!0,!0,!0,!0]:n.state.days;var M=(e={citySrc:c,cityDst:l,countryDst:u,countrySrc:i,continentDst:n.props.state.continentDst,costMax:m,costMin:h,currency:d,currencyForUrl:f,language:y,randomCost:E,forward:v,dual:b,passengers:j,updated:Number(w),limit:x,interval:P,optional:!0,dates:C,showAddionalWeather:!0,profitability:String(k)},Object(s.a)(e,"nightTemp.max",T),Object(s.a)(e,"nightTemp.min",O),Object(s.a)(e,"dayTemp.max",D),Object(s.a)(e,"dayTemp.min",S),Object(s.a)(e,"days",t),e),N={id:null,interval:P,limit:x,updated:Number(w),user_id:o.id,output:M};n.props.onChangeGroups("item",N),n.props.openModal("confirm_settings"),n.props.setPopout(null)},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.props.id,a=this.state,n=a.datesCnt,o=a.currency,c=a.currencyForUrl,l=a.language,s=a.countrySrc,u=a.citySrc,i=a.countryDst,p=a.cityDst,m=(a.continentDst,a.randomCost),h=a.randomTempDay,d=a.randomTempNight,f=a.costMin,y=a.costMax,E=a.dayTempMin,b=a.dayTempMax,v=a.nighTempMax,C=a.nighTempMin,k=a.days,S=a.dual,D=(a.updated,a.interval),T=a.forward;return r.a.createElement(g.w,{id:t},r.a.createElement(g.x,null,"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b"),r.a.createElement(g.m,null,r.a.createElement(g.F,{top:"\u0421\u0442\u0440\u0430\u043d\u0430 \u0432\u044b\u043b\u0435\u0442\u0430",name:"countrySrc","data-type":"country",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0443",onClick:function(){e.props.changeDefaultName("countrySrc"),e.props.changeDefault("\u0421\u0442\u0440\u0430\u043d\u0430 \u0432\u044b\u043b\u0435\u0442\u0430"),e.props.changeDefaultText(s),e.props.go("chooseCountry")}},this.props.state.countrySrc),r.a.createElement(g.F,{top:"\u0413\u043e\u0440\u043e\u0434 \u0432\u044b\u043b\u0435\u0442\u0430",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",name:"citySrc",disabled:null==this.props.state.countrySrc,onClick:function(){e.props.changeDefaultName("citySrc"),e.props.changeDefault("\u0413\u043e\u0440\u043e\u0434 \u0432\u044b\u043b\u0435\u0442\u0430"),e.props.changeDefaultText(u),e.props.go("chooseCity")}},this.props.state.citySrc),r.a.createElement(g.p,{style:{color:"var(--accent)"}},"\u041a\u0443\u0434\u0430"),r.a.createElement(g.E,{top:"\u0427\u0430\u0441\u0442\u044c \u0441\u0432\u0435\u0442\u0430",name:"continentDst",onChange:function(t){e.props.onChangeGroups("continentDst",t.currentTarget.value),e.props.onChangeGroups("countryDst",null),e.props.onChangeGroups("cityDst",null)},value:this.props.state.continentDst},Object.keys(ie).map((function(e){return r.a.createElement("option",{value:e,key:e},ie[e])}))),null==this.props.state.continentDst||"all"==this.props.state.continentDst?null:r.a.createElement(g.F,{top:"\u0421\u0442\u0440\u0430\u043d\u0430",name:"countryDst",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0443",onClick:function(){e.props.changeDefaultName("countryDst"),e.props.changeDefault("\u0421\u0442\u0440\u0430\u043d\u0430 \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f"),e.props.changeDefaultText(i),e.props.go("chooseCountryByContinent")}},null==this.props.state.countryDst?"\u041b\u044e\u0431\u0430\u044f":this.props.state.countryDst),null==this.props.state.countryDst||"all"==this.props.state.continentDst?null:r.a.createElement(g.F,{top:"\u0413\u043e\u0440\u043e\u0434",name:"cityDst",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",onClick:function(){e.props.changeDefaultName("cityDst"),e.props.changeDefault("\u0413\u043e\u0440\u043e\u0434 \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f"),e.props.changeDefaultText(p),e.props.go("chooseCity")}},null==this.props.state.cityDst?"\u041b\u044e\u0431\u043e\u0439":this.props.state.cityDst),r.a.createElement(g.E,{top:"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0434\u0435\u0448\u0435\u0432\u044b\u0435 \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u0432:",name:"interval",onChange:this.onChange},r.a.createElement("option",{value:"60"},"1 \u0447\u0430\u0441"),r.a.createElement("option",{value:"240"},"4 \u0447\u0430\u0441\u0430"),r.a.createElement("option",{value:"480"},"8 \u0447\u0430\u0441\u043e\u0432"),r.a.createElement("option",{value:"1440"},"24 \u0447\u0430\u0441\u0430")),r.a.createElement(g.E,{top:"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u0437\u0430 \u043a\u0440\u0430\u0439\u043d\u0438\u0435 N, \u0447\u0430\u0441\u043e\u0432",name:"updated",onChange:this.onChange,defaultValue:"60"},r.a.createElement("option",{value:"60"},"1 \u0447\u0430\u0441"),Number(D)>60?r.a.createElement("option",{value:"120"},"2 \u0447\u0430\u0441\u0430"):null,Number(D)>60?r.a.createElement("option",{value:"180"},"3 \u0447\u0430\u0441\u0430"):null,Number(D)>60?r.a.createElement("option",{value:"240"},"4 \u0447\u0430\u0441\u0430"):null,Number(D)>240?r.a.createElement("option",{value:"240"},"5 \u0447\u0430\u0441\u043e\u0432"):null,Number(D)>240?r.a.createElement("option",{value:"240"},"6 \u0447\u0430\u0441\u043e\u0432"):null,Number(D)>240?r.a.createElement("option",{value:"240"},"7 \u0447\u0430\u0441\u043e\u0432"):null,Number(D)>240?r.a.createElement("option",{value:"240"},"8 \u0447\u0430\u0441\u043e\u0432"):null),r.a.createElement(g.E,{top:"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0434\u0435\u0448\u0435\u0432\u044b\u0445 \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432 \u0441\u0443\u0442\u043a\u0438?",name:"limit",defaultValue:"0"},r.a.createElement("option",{value:"0"},"\u0432\u0441\u0435"),r.a.createElement("option",{value:"20"},"20"),r.a.createElement("option",{value:"50"},"50"),r.a.createElement("option",{value:"100"},"100"),r.a.createElement("option",{value:"300"},"300")),r.a.createElement(g.n,{top:"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0442\u043e\u0432"},r.a.createElement(g.i,{name:"forward",onChange:this.onChangeCheck,checked:T},"\u0442\u0443\u0434\u0430"),r.a.createElement(g.i,{name:"dual",style:{paddingTop:0,paddingBottom:0},onChange:this.onChangeCheck,checked:S},"\u0442\u0443\u0434\u0430-\u043e\u0431\u0440\u0430\u0442\u043d\u043e")),n&&n.map((function(t,a){return r.a.createElement(g.m,{key:a},r.a.createElement(g.E,{top:"\u0413\u043e\u0434 \u0432\u044b\u043b\u0435\u0442\u0430 (".concat(a+1,")"),name:"year",id:a,onChange:e.onChangeFrom,value:t.year},Array.from(Array(31).keys()).map((function(e){return r.a.createElement("option",{key:e,value:(new Date).getFullYear()+e},(new Date).getFullYear()+e)}))),r.a.createElement(g.E,{top:"\u0412\u0440\u0435\u043c\u044f \u0433\u043e\u0434\u0430 (".concat(a+1,")"),name:"season",id:a,onChange:e.onChangeFrom,value:t.season},Object.keys(se).filter((function(e){var a=e,n=(new Date).getMonth()+1;return(new Date).getFullYear()!=t.year?e:"all"==a||"winter"==a&&n<=12||"spring"==a&&n<=5||"summer"==a&&n<=8||"fall"==a&&n<=11?a:void 0})).map((function(e){return r.a.createElement("option",{value:e,key:e},se[e])}))),r.a.createElement(g.E,{top:"\u041c\u0435\u0441\u044f\u0446 \u0433\u043e\u0434\u0430 (".concat(a+1,")"),name:"month",id:a,onChange:e.onChangeFrom,value:t.month},Object.keys(ue).filter((function(e){if(0==e)return e;var a=(new Date).getMonth()+1;if((new Date).getFullYear()==t.year)switch(t.season){case"all":return e;case"winter":if(12==e&&a<=e||1==e&&a<=e||2==e&&a<=e)return e;break;case"summer":if(6==e&&a<=e||7==e&&a<=e||8==e&&a<=e)return e;break;case"fall":if(9==e&&e>=a||10==e&&e>=a||11==e&&e>=a)return e;break;case"spring":if(3==e&&e>=a||4==e&&e>=a||5==e&&e>=a)return e}else switch(t.season){case"all":return e;case"winter":if(12==e||1==e||2==e)return e;break;case"summer":if(6==e||7==e||8==e)return e;break;case"fall":if(9==e||10==e||11==e)return e;break;case"spring":if(3==e||4==e||5==e)return e}})).map((function(e){return r.a.createElement("option",{value:e,key:e},ue[e])}))))})),n.length>1,r.a.createElement(g.j,{style:{display:"flex"}},n.length<3&&r.a.createElement(g.e,{size:"l",onClick:this.addFrom},r.a.createElement(oe.a,null)),n.length>1&&r.a.createElement(g.e,{size:"l",mode:"destructive",onClick:this.removeFrom},r.a.createElement(le.a,{color:"rgb(255, 26, 0)"}))),r.a.createElement(g.E,{top:"\u042f\u0437\u044b\u043a",name:"language",onChange:this.onChange,value:l},Object.keys(pe).map((function(e){return r.a.createElement("option",{value:e,key:e},pe[e])}))),r.a.createElement(g.E,{top:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432 \u0431\u0438\u043b\u0435\u0442\u0435",name:"currency",onChange:this.onChange,value:o},Object.keys(me).map((function(e){return r.a.createElement("option",{value:e,key:e},me[e])}))),r.a.createElement(g.E,{top:"\u0412\u0430\u043b\u044e\u0442\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0438",name:"currencyForUrl",onChange:this.onChange,value:c},Object.keys(me).map((function(e){return r.a.createElement("option",{value:e,key:e},me[e])}))),r.a.createElement(g.E,{top:"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b",name:"passengers",onChange:this.onChange},Object.keys(he).map((function(e){return r.a.createElement("option",{value:e,key:e},he[e])}))),r.a.createElement(g.n,{top:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"},r.a.createElement(g.i,{checked:m,onChange:function(t){e.setState({costMin:t.currentTarget.checked?100:f,costMax:t.currentTarget.checked?5e5:y,randomCost:t.currentTarget.checked})}},"\u043b\u044e\u0431\u0430\u044f"),r.a.createElement(g.B,{top:f+" - "+y,min:100,max:5e5,step:100,defaultValue:[100,5e5],value:[f,y],onChange:function(t){e.setState({costMin:t[0],costMax:t[1],randomCost:!1})}}),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(g.q,{onFocus:function(){console.log("focus")},value:f,type:"number",onChange:function(t){var a=parseInt(t.currentTarget.value,10);a&&a<y&&a>=100&&e.setState({costMin:a})}}),r.a.createElement(g.q,{value:y,type:"number",onChange:function(t){var a=parseInt(t.currentTarget.value,10);a&&a>f&&a<=5e5&&e.setState({costMax:a})}}))),r.a.createElement(g.E,{name:"profitability",onChange:this.onChange,top:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0441 \u0432\u044b\u0433\u043e\u0434\u043e\u0439 \u0431\u043e\u043b\u044c\u0448\u0435, %"},r.a.createElement("option",null,"30"),r.a.createElement("option",null,"40"),r.a.createElement("option",null,"50"),r.a.createElement("option",null,"60"),r.a.createElement("option",null,"70"),r.a.createElement("option",null,"80"),r.a.createElement("option",null,"90")),r.a.createElement(g.n,{top:"\u0425\u043e\u0447\u0443 \u0432\u044b\u043b\u0435\u0442\u0435\u0442\u044c \u0432 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u0434\u0435\u043d\u044c \u043d\u0435\u0434\u0435\u043b\u0438"},r.a.createElement(g.h,{before:r.a.createElement(g.i,{style:{padding:0},checked:this.state.allDays,name:"all",onChange:this.onChangeDays})},"\u043b\u044e\u0431\u043e\u0439"),r.a.createElement(g.h,{before:r.a.createElement(g.i,{style:{padding:0},name:"0",onChange:this.onChangeDays,checked:k[0]||this.state.allDays})},"\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a"),r.a.createElement(g.h,{before:r.a.createElement(g.i,{style:{padding:0},name:"1",onChange:this.onChangeDays,checked:k[1]||this.state.allDays})},"\u0432\u0442\u043e\u0440\u043d\u0438\u043a"),r.a.createElement(g.h,{before:r.a.createElement(g.i,{style:{padding:0},name:"2",onChange:this.onChangeDays,checked:k[2]||this.state.allDays})},"\u0441\u0440\u0435\u0434\u0430"),r.a.createElement(g.h,{before:r.a.createElement(g.i,{style:{padding:0},name:"3",onChange:this.onChangeDays,checked:k[3]||this.state.allDays})},"\u0447\u0435\u0442\u0432\u0435\u0440\u0433"),r.a.createElement(g.h,{before:r.a.createElement(g.i,{style:{padding:0},name:"4",onChange:this.onChangeDays,checked:k[4]||this.state.allDays})},"\u043f\u044f\u0442\u043d\u0438\u0446\u0430"),r.a.createElement(g.h,{before:r.a.createElement(g.i,{style:{padding:0},name:"5",onChange:this.onChangeDays,checked:k[5]||this.state.allDays})},"\u0441\u0443\u0431\u0431\u043e\u0442\u0430"),r.a.createElement(g.h,{before:r.a.createElement(g.i,{style:{padding:0},name:"6",onChange:this.onChangeDays,checked:k[6]||this.state.allDays})},"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435")),r.a.createElement(g.n,{top:"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0432\u043e\u0437\u0434\u0443\u0445\u0430 \u0434\u043d\u0435\u043c \u0432 \u0434\u0435\u043d\u044c \u043f\u0440\u0438\u043b\u0435\u0442\u0430"},r.a.createElement(g.i,{checked:h,onChange:function(t){e.setState({dayTempMin:t.currentTarget.checked?-50:E,dayTempMax:t.currentTarget.checked?50:b,randomTempDay:t.currentTarget.checked})}},"\u043b\u044e\u0431\u0430\u044f"),r.a.createElement(g.B,{min:-50,max:50,step:1,defaultValue:[-50,50],value:[E,b],onChange:function(t){e.setState({dayTempMin:t[0],dayTempMax:t[1],randomTempDay:!1})}}),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(g.q,{onFocus:function(){console.log("focus")},value:E,type:"number",onChange:function(t){var a=parseInt(t.currentTarget.value,10);a&&a<b&&a>=-50&&e.setState({dayTempMin:a})}}),r.a.createElement(g.q,{value:b,type:"number",onChange:function(t){var a=parseInt(t.currentTarget.value,10);a&&a>E&&a<=50&&e.setState({dayTempMax:a})}}))),r.a.createElement(g.n,{top:"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0432\u043e\u0437\u0434\u0443\u0445\u0430 \u043d\u043e\u0447\u044c\u044e \u0432 \u0434\u0435\u043d\u044c \u043f\u0440\u0438\u043b\u0435\u0442\u0430"},"          ",r.a.createElement(g.i,{checked:d,onChange:function(t){e.setState({nighTempMin:t.currentTarget.checked?-50:C,nighTempMax:t.currentTarget.checked?50:v,randomTempNight:t.currentTarget.checked})}},"\u043b\u044e\u0431\u0430\u044f"),r.a.createElement(g.B,{min:-50,max:50,step:1,defaultValue:[-50,50],value:[C,v],onChange:function(t){e.setState({nighTempMin:t[0],nighTempMax:t[1],randomTempNight:!1})}}),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(g.q,{onFocus:function(){console.log("focus")},value:C,type:"number",onChange:function(t){var a=parseInt(t.currentTarget.value,10);a&&a<C&&a>=-50&&e.setState({nighTempMin:a})}}),r.a.createElement(g.q,{value:v,type:"number",onChange:function(t){var a=parseInt(t.currentTarget.value,10);a&&a>v&&a<=50&&e.setState({nighTempMax:a})}}))),r.a.createElement(g.e,{mode:"primary",size:"xl",onClick:this.sort_res},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f")),this.state.snackbar)}}]),a}(n.Component),fe=a(182),ge=a.n(fe),ye={all:"\u043b\u044e\u0431\u043e\u0435",winter:"\u0437\u0438\u043c\u0430",spring:"\u0432\u0435\u0441\u043d\u0430",summer:"\u043b\u0435\u0442\u043e",fall:"\u043e\u0441\u0435\u043d\u044c"},Ee={0:"\u043b\u044e\u0431\u043e\u0439",1:"\u044f\u043d\u0432\u0430\u0440\u044c",2:"\u0444\u0435\u0432\u0440\u0430\u043b\u044c",3:"\u043c\u0430\u0440\u0442",4:"\u0430\u043f\u0440\u0435\u043b\u044c",5:"\u043c\u0430\u0439",6:"\u0438\u044e\u043d\u044c",7:"\u0438\u044e\u043b\u044c",8:"\u0430\u0432\u0433\u0443\u0441\u0442",9:"\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c",10:"\u043e\u043a\u0442\u044f\u0431\u0440\u044c",11:"\u043d\u043e\u044f\u0431\u0440\u044c",12:"\u0434\u0435\u043a\u0430\u0431\u0440\u044c"},be=Object(s.a)({A:"\u041b\u044e\u0431\u0430\u044f",B:"\u0415\u0432\u0440\u043e\u043f\u0430",C:"\u0410\u0444\u0440\u0438\u043a\u0430",D:"\u041e\u043a\u0435\u0430\u043d\u0438\u044f",E:"\u0410\u0437\u0438\u044f",F:"\u042e\u0436\u043d\u0430\u044f \u0410\u043c\u0435\u0440\u0438\u043a\u0430"},"D","\u0421\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0410\u043c\u0435\u0440\u0438\u043a\u0430"),ve={de:"\u043d\u0435\u043c\u0435\u0446\u043a\u0438\u0439",en:"\u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439",es:"\u0438\u0441\u043f\u0430\u043d\u0441\u043a\u0438\u0439",fr:"\u0444\u0440\u0430\u043d\u0446\u0443\u0437\u0441\u043a\u0438\u0439",it:"\u0438\u0442\u0430\u043b\u044c\u044f\u043d\u0441\u043a\u0438\u0439",ru:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439",th:"\u0442\u0430\u0439\u0441\u043a\u0438\u0439",tr:"\u0442\u0443\u0440\u0435\u0446\u043a\u0438\u0439"},Ce={AZN:"\u043c\u0430\u043d\u0430\u0442",BYN:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",CNY:"\u044e\u0430\u043d\u044c",EUR:"\u0435\u0432\u0440\u043e",KGS:"\u0441\u043e\u043c",KZT:"\u0442\u0435\u043d\u0433\u0435",RUB:"\u0440\u0443\u0431\u043b\u044c",THB:"\u0431\u0430\u0442",UAH:"\u0433\u0440\u0438\u0432\u043d\u0430",USD:"\u0434\u043e\u043b\u043b\u0430\u0440",UZS:"\u0441\u0443\u043c"},ke={url:"1 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440, \u044d\u043a\u043e\u043d\u043e\u043c\u043a\u043b\u0430\u0441\u0441",url1Business:"1 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440, \u0431\u0438\u0437\u043d\u0435\u0441-\u043a\u043b\u0430\u0441\u0441",url2Passengers:"2 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430, \u044d\u043a\u043e\u043d\u043e\u043c\u043a\u043b\u0430\u0441\u0441",urlForma:"\u043e\u0442\u043a\u0440\u044b\u0442\u0430\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0435\u043c\u0430\u044f \u0444\u043e\u0440\u043c\u0430 \u043f\u043e\u0438\u0441\u043a\u0430"},Se=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={updated:"60",limit:"0",datesCnt:[{year:(new Date).getFullYear(),season:"all",month:"0"}],language:e.props.state.form.language,profitability:e.props.state.form.profitability,currency:e.props.state.form.currency,currencyForUrl:e.props.state.form.currencyForUrl,passengers:e.props.state.form.passengers,randomCost:e.props.state.form.randomCost,costMin:e.props.state.form.costMin,costMax:e.props.state.form.costMax,dayTempMin:e.props.state.form["dayTemp.min"],dayTempMax:e.props.state.form["dayTemp.max"],interval:e.props.state.form.interval,nighTempMin:e.props.state.form["nightTemp.min"],nighTempMax:e.props.state.form["nightTemp.max"],dual:e.props.state.form.dual,forward:e.props.state.form.forward,days:e.props.state.form.days,allDays:-1==e.props.state.form.days.indexOf(!1),snackbar:null},e.onChange=function(t){e.setState(Object(s.a)({},t.currentTarget.name,t.currentTarget.value))},e.onChangeFrom=function(t){var a=e.state.datesCnt;a[parseInt(t.currentTarget.id,10)][t.currentTarget.name]=t.currentTarget.value,e.setState({datesCnt:a})},e.addFrom=function(){var t=e.state.datesCnt;t.push({yearSrc:(new Date).getFullYear(),seasonSrc:ye.all,monthSrc:Ee[0]}),e.setState({datesCnt:t})},e.removeFrom=function(){var t=e.state.datesCnt;e.setState({datesCnt:t.splice(0,t.length-1)})},e.onChangeDays=function(t){if(console.log(t.currentTarget.name),"all"==t.currentTarget.name)e.setState({allDays:!e.state.allDays});else{var a=!e.state.days[Number(t.currentTarget.name)];e.state.days.splice([Number(t.currentTarget.name)],1,a);console.log(e.state.days);var n=!0;e.state.days.forEach((function(e){e||(n=!1)})),e.setState({days:e.state.days,allDays:n})}},e.sort_res=function(){var t;e.props.setPopout(r.a.createElement(g.D,null));var a,n=e.props.state,o=n.user,c=n.citySrc,l=n.cityDst,u=n.countryDst,i=n.countrySrc,p=e.state,m=p.costMax,h=p.costMin,d=p.currency,f=p.currencyForUrl,y=p.language,E=p.randomCost,b=p.dual,v=p.forward,C=p.datesCnt,k=p.profitability,S=p.dayTempMin,D=p.dayTempMax,T=p.nighTempMax,O=p.nighTempMin,j=p.passengers,w=p.updated,P=p.interval,x=p.limit;a=e.state.allDays?[!0,!0,!0,!0,!0,!0,!0]:e.state.days;var M=(t={citySrc:c,cityDst:l,countryDst:u,countrySrc:i,costMax:m,costMin:h,currency:d,currencyForUrl:f,language:y,randomCost:E,forward:v,dual:b,passengers:j,updated:Number(w),limit:x,interval:P,optional:!0,dates:C,showAddionalWeather:!0,profitability:String(k)},Object(s.a)(t,"nightTemp.max",T),Object(s.a)(t,"nightTemp.min",O),Object(s.a)(t,"dayTemp.max",D),Object(s.a)(t,"dayTemp.min",S),Object(s.a)(t,"days",a),t),N={id:e.props.state.request_id,interval:P,limit:x,updated:Number(w),user_id:o.id,output:M};e.save_request(N),console.log(N)},e.save_request=function(t){fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-user-api-request",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},referrer:"https://appvk.flights.ru/",referrerPolicy:"no-referrer-when-downgrade",body:JSON.stringify(t),method:"POST"}).then((function(e){return e.json()})).then((function(t){"ok"===t.response&&(e.props.setPopout(null),e.props.back())})).catch((function(t){e.setState({snackbar:r.a.createElement(W,{close:function(){return e.setState({snackbar:null})}})}),e.props.setPopout(null),e.props.back()}))},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.state)}},{key:"render",value:function(){var e=this,t=this.props,a=t.id,n=t.state,o=this.state,c=o.datesCnt,l=o.currency,s=o.currencyForUrl,u=o.language,i=o.countrySrc,p=o.citySrc,m=o.countryDst,h=o.cityDst,d=o.continentDst,f=o.randomCost,y=o.costMin,E=o.costMax,b=o.dayTempMin,v=o.dayTempMax,C=o.nighTempMax,k=o.nighTempMin,S=o.days;return r.a.createElement(g.w,{id:a},r.a.createElement(g.x,{left:r.a.createElement(g.y,{onClick:this.props.back})},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),r.a.createElement(g.m,null,r.a.createElement(g.p,null,"\u041e\u0442\u043a\u0443\u0434\u0430"),r.a.createElement(g.F,{top:"\u0421\u0442\u0440\u0430\u043d\u0430 \u0432\u044b\u043b\u0435\u0442\u0430",name:"countrySrc","data-type":"country",placeholder:"\u0420\u043e\u0441\u0441\u0438\u044f",onClick:function(){e.props.changeDefaultName("countrySrc"),e.props.changeDefault("\u0421\u0442\u0440\u0430\u043d\u0430 \u0432\u044b\u043b\u0435\u0442\u0430"),e.props.changeDefaultText(i),e.props.go("chooseCountry")}},n.countrySrc),r.a.createElement(g.F,{top:"\u0413\u043e\u0440\u043e\u0434 \u0432\u044b\u043b\u0435\u0442\u0430",placeholder:"\u041c\u043e\u0441\u043a\u0432\u0430",name:"citySrc",disabled:null==n.form.countrySrc,onClick:function(){e.props.changeDefaultName("citySrc"),e.props.changeDefault("\u0413\u043e\u0440\u043e\u0434 \u0432\u044b\u043b\u0435\u0442\u0430"),e.props.changeDefaultText(p),e.props.go("chooseCity")}},n.citySrc),r.a.createElement(g.p,null,"\u041a\u0443\u0434\u0430"),r.a.createElement(g.E,{top:"\u0427\u0430\u0441\u0442\u044c \u0441\u0432\u0435\u0442\u0430",name:"continentDst",onChange:this.onChange,value:d},Object.keys(be).map((function(e){return r.a.createElement("option",{value:e,key:e},be[e])}))),r.a.createElement(g.F,{top:"\u0421\u0442\u0440\u0430\u043d\u0430",name:"countryDst",placeholder:"\u0418\u0442\u0430\u043b\u0438\u044f",onClick:function(){e.props.changeDefaultName("countryDst"),e.props.changeDefault("\u0421\u0442\u0440\u0430\u043d\u0430 \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f"),e.props.changeDefaultText(m),e.props.go("chooseCountry")}},n.countryDst),r.a.createElement(g.F,{top:"\u0413\u043e\u0440\u043e\u0434",name:"cityDst",placeholder:"\u0420\u0438\u043c",disabled:null==n.form.countryDst,onClick:function(){e.props.changeDefaultName("cityDst"),e.props.changeDefault("\u0413\u043e\u0440\u043e\u0434 \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f"),e.props.changeDefaultText(h),e.props.go("chooseCity")}},n.cityDst),r.a.createElement(g.p,null,"\u0418\u043d\u0442\u0435\u0440\u0432\u0430\u043b"),r.a.createElement(g.E,{top:"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0434\u0435\u0448\u0435\u0432\u044b\u0435 \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u0432:",name:"interval"},r.a.createElement("option",{value:"60"},"\u0427\u0430\u0441"),r.a.createElement("option",{value:"240"},"\u0427\u0435\u0442\u044b\u0440\u0435 \u0447\u0430\u0441\u0430"),r.a.createElement("option",{value:"480"},"\u0412\u043e\u0441\u0435\u043c\u044c \u0447\u0430\u0441\u043e\u0432"),r.a.createElement("option",{value:"1440"},"24 \u0447\u0430\u0441\u0430")),r.a.createElement(g.E,{top:"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u0437\u0430 \u043a\u0440\u0430\u0439\u043d\u0438\u0435 N, \u0447\u0430\u0441\u043e\u0432",name:"updated",onChange:this.onChange,defaultValue:"60"},r.a.createElement("option",{value:"60"},"1 \u0447\u0430\u0441")),r.a.createElement(g.p,null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),r.a.createElement(g.E,{top:"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0434\u0435\u0448\u0435\u0432\u044b\u0445 \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432 \u0441\u0443\u0442\u043a\u0438?",name:"limit",defaultValue:"0"},r.a.createElement("option",{value:"0"},"\u0412\u0441\u0435"),r.a.createElement("option",{value:"20"},"20"),r.a.createElement("option",{value:"50"},"50"),r.a.createElement("option",{value:"100"},"100"),r.a.createElement("option",{value:"300"},"300")),r.a.createElement(g.p,null,"\u041f\u043e\u043b\u0435\u0442\u044b"),r.a.createElement(g.i,{name:"forward",checked:this.state.forward,onChange:function(t){e.setState({forward:t.currentTarget.checked})}},"\u0422\u0443\u0434\u0430"),r.a.createElement(g.i,{name:"dual",checked:this.state.dual,onChange:function(t){e.setState({dual:t.currentTarget.checked})}},"\u0422\u0443\u0434\u0430-\u043e\u0431\u0440\u0430\u0442\u043d\u043e"),r.a.createElement(g.p,null,"\u041a\u043e\u0433\u0434\u0430"),c&&c.map((function(t,a){return r.a.createElement(g.m,{key:a},r.a.createElement(g.E,{top:"\u0413\u043e\u0434 \u0432\u044b\u043b\u0435\u0442\u0430 (".concat(a+1,")"),name:"year",id:a,onChange:e.onChangeFrom,value:t.yearSrc},Array.from(Array(31).keys()).map((function(e){return r.a.createElement("option",{key:e,vaule:(new Date).getFullYear()+e},(new Date).getFullYear()+e)}))),r.a.createElement(g.E,{top:"\u0412\u0440\u0435\u043c\u044f \u0433\u043e\u0434\u0430 (".concat(a+1,")"),name:"season",id:a,onChange:e.onChangeFrom,value:t.seasonSrc},Object.keys(ye).map((function(e){return r.a.createElement("option",{value:e,key:e},ye[e])}))),r.a.createElement(g.E,{top:"\u041c\u0435\u0441\u044f\u0446 \u0433\u043e\u0434\u0430 (".concat(a+1,")"),name:"month",id:a,onChange:e.onChangeFrom,value:t.monthSrc},Object.keys(Ee).map((function(e){return r.a.createElement("option",{value:e,key:e},Ee[e])}))))})),c.length>1,r.a.createElement(g.j,{style:{display:"flex"}},c.length<3&&r.a.createElement(g.e,{size:"l",onClick:this.addFrom},r.a.createElement(ge.a,null)),c.length>1&&r.a.createElement(g.e,{size:"l",mode:"destructive",onClick:this.removeFrom},r.a.createElement(le.a,{color:"rgb(255, 26, 0)"}))),r.a.createElement(g.E,{top:"\u042f\u0437\u044b\u043a",name:"language",onChange:this.onChange,value:u},Object.keys(ve).map((function(e){return r.a.createElement("option",{value:e,key:e},ve[e])}))),r.a.createElement(g.E,{top:"\u0412\u0430\u043b\u044e\u0442\u0430",name:"currency",onChange:this.onChange,value:l},Object.keys(Ce).map((function(e){return r.a.createElement("option",{value:e,key:e},Ce[e])}))),r.a.createElement(g.E,{top:"\u0412\u0430\u043b\u044e\u0442\u0430 \u043c\u0435\u0442\u0430\u043f\u043e\u0438\u0441\u043a\u043e\u0432\u0438\u043a\u0430",name:"currencyForUrl",onChange:this.onChange,value:s},Object.keys(Ce).map((function(e){return r.a.createElement("option",{value:e,key:e},Ce[e])}))),r.a.createElement(g.E,{top:"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b",name:"passengers",onChange:this.onChange},Object.keys(ke).map((function(e){return r.a.createElement("option",{value:e,key:e},ke[e])}))),r.a.createElement(g.p,null,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c, ",l),r.a.createElement(g.i,{checked:f,onChange:function(t){e.setState({randomCost:t.currentTarget.checked})}},"\u041b\u044e\u0431\u0430\u044f"),r.a.createElement(g.B,{top:y+" - "+E,min:100,max:5e5,step:100,defaultValue:[100,5e5],value:[y,E],onChange:function(t){e.setState({costMin:t[0],costMax:t[1],randomCost:!1})}}),r.a.createElement(g.j,{style:{display:"flex"}},r.a.createElement(g.q,{onFocus:function(){console.log("focus")},value:y,type:"number",onChange:function(t){var a=parseInt(t.currentTarget.value,10);a&&a<E&&a>100&&e.setState({costMin:a})}}),r.a.createElement(g.q,{value:E,type:"number",onChange:function(t){var a=parseInt(t.currentTarget.value,10);a&&a>y&&a<5e5&&e.setState({costMax:a})}})),r.a.createElement(g.p,null,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b"),r.a.createElement(g.E,{name:"profitability",onChange:this.onChange,top:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0441 \u0432\u044b\u0433\u043e\u0434\u043e\u0439 \u0431\u043e\u043b\u044c\u0448\u0435, %"},r.a.createElement("option",null,"30"),r.a.createElement("option",null,"40"),r.a.createElement("option",null,"50"),r.a.createElement("option",null,"60"),r.a.createElement("option",null,"70"),r.a.createElement("option",null,"80"),r.a.createElement("option",null,"90")),r.a.createElement(g.p,null,"\u0412\u044b\u043b\u0435\u0442\u044b \u0432 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u0434\u043d\u0438 \u043d\u0435\u0434\u0435\u043b\u0438"),r.a.createElement(g.h,{indicator:r.a.createElement(g.i,{checked:this.state.allDays,name:"all",onChange:this.onChangeDays})},"\u041b\u044e\u0431\u043e\u0439"),r.a.createElement(g.j,{style:{marginTop:-20}},r.a.createElement(g.h,{indicator:r.a.createElement(g.i,{style:{padding:0},name:"0",onChange:this.onChangeDays,checked:S[0]||this.state.allDays})},"\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a"),r.a.createElement(g.h,{indicator:r.a.createElement(g.i,{style:{padding:0},name:"1",onChange:this.onChangeDays,checked:S[1]||this.state.allDays})},"\u0412\u0442\u043e\u0440\u043d\u0438\u043a"),r.a.createElement(g.h,{indicator:r.a.createElement(g.i,{style:{padding:0},name:"2",onChange:this.onChangeDays,checked:S[2]||this.state.allDays})},"\u0421\u0440\u0435\u0434\u0430"),r.a.createElement(g.h,{indicator:r.a.createElement(g.i,{style:{padding:0},name:"3",onChange:this.onChangeDays,checked:S[3]||this.state.allDays})},"\u0427\u0435\u0442\u0432\u0435\u0440\u0433"),r.a.createElement(g.h,{indicator:r.a.createElement(g.i,{style:{padding:0},name:"4",onChange:this.onChangeDays,checked:S[4]||this.state.allDays})},"\u041f\u044f\u0442\u043d\u0438\u0446\u0430"),r.a.createElement(g.h,{indicator:r.a.createElement(g.i,{style:{padding:0},name:"5",onChange:this.onChangeDays,checked:S[5]||this.state.allDays})},"\u0421\u0443\u0431\u0431\u043e\u0442\u0430"),r.a.createElement(g.h,{indicator:r.a.createElement(g.i,{style:{padding:0},name:"6",onChange:this.onChangeDays,checked:S[6]||this.state.allDays})},"\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435")),r.a.createElement(g.p,null,"\u041f\u043e\u0433\u043e\u0434\u0430"),r.a.createElement(g.B,{top:"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0432\u043e\u0437\u0434\u0443\u0445\u0430 \u0434\u043d\u0435\u043c \u0432 \u0434\u0435\u043d\u044c \u043f\u0440\u0438\u043b\u0435\u0442\u0430",bottom:"\u041e\u0442 "+b+" \u0434\u043e "+v,min:-50,max:50,step:1,defaultValue:[-50,50],value:[b,v],onChange:function(t){e.setState({dayTempMin:t[0],dayTempMax:t[1],randomCost:!1})}}),r.a.createElement(g.B,{top:"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0432\u043e\u0437\u0434\u0443\u0445\u0430 \u043d\u043e\u0447\u044c\u044e \u0432 \u0434\u0435\u043d\u044c \u043f\u0440\u0438\u043b\u0435\u0442\u0430",bottom:"\u041e\u0442 "+k+" \u0434\u043e "+C,min:-50,max:50,step:1,defaultValue:[-50,50],value:[k,C],onChange:function(t){e.setState({nighTempMin:t[0],nighTempMax:t[1],randomCost:!1})}}),r.a.createElement(g.e,{mode:"primary",size:"xl",onClick:this.sort_res},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),this.state.snackbar)}}]),a}(n.Component),De=a(54),Te=a.n(De),Oe=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={inp:e.props.default,list:null},e.onChange=function(t){fetch("https://autocomplete.travelpayouts.com/places2?term=".concat(t.currentTarget.value,"&locale=ru")).then((function(e){return e.json()})).then((function(t){if(t.length>0){var a=[];t.forEach((function(e){a.findIndex((function(t){return t.country_name===e.country_name}))<=-1&&a.push(e)})),e.setState({list:a})}}))},e.onChoose=function(t){e.props.changeFunction(t),e.props.back()},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.state.list,a=this.props,n=a.id,o=a.back,c=a.text;return r.a.createElement(g.w,{id:n},r.a.createElement(g.x,{left:r.a.createElement(g.y,{onClick:o})},c),r.a.createElement(g.j,null,r.a.createElement(g.q,{onChange:this.onChange})),null===t?r.a.createElement(g.A,null,"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u0430\u043d\u044b"):r.a.createElement(g.s,null,t&&t.map((function(t,a){return r.a.createElement(g.H,{onClick:function(){return e.onChoose(t.country_name)},id:t.country_name,key:a,after:t.country_name===c&&r.a.createElement(Te.a,null)},t.country_name)}))))}}]),a}(n.Component),je=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={inp:e.props.default,list:null},e.onChange=function(t){var a="";"citySrc"==e.props.changeDefaultName&&(a=e.props.state.countrySrc),"cityDst"==e.props.changeDefaultName&&(a=e.props.state.countryDst),"city_"==e.props.changeDefaultName&&(a=e.props.state.user.country.title),console.log(e.props.state),fetch("https://autocomplete.travelpayouts.com/places2?term=".concat(a," ").concat(t.currentTarget.value,"&locale=ru&types[]=city")).then((function(e){return e.json()})).then((function(t){if(t.length>0){var n=[];t.forEach((function(e){e.country_name===a&&n.push(e)})),e.setState({list:n})}}))},e.onChoose=function(t){e.props.changeFunction(t),e.props.back()},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.state.list,a=this.props,n=a.id,o=a.back,c=a.text;return r.a.createElement(g.w,{id:n},r.a.createElement(g.x,{left:r.a.createElement(g.y,{onClick:o})},c),r.a.createElement(g.j,null,r.a.createElement(g.q,{onChange:this.onChange})),null===t?r.a.createElement(g.A,null,"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430"):r.a.createElement(g.s,null,t&&t.map((function(t,a){return r.a.createElement(g.H,{onClick:function(){return e.onChoose(t.name)},id:t.name,key:a,after:t.name===c&&r.a.createElement(Te.a,null)},t.name)}))))}}]),a}(n.Component),we=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={inp:e.props.default,list:null},e.onChange=function(t){var a=t.currentTarget.value.toLowerCase();fetch("https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/countries/byContinent/".concat(e.props.state.continentDst)).then((function(e){return e.json()})).then((function(t){var n=t.map((function(e){return e.nameTranslations.ru})).filter((function(e){return e.toLowerCase().indexOf(a)>-1}));console.log(n),e.setState({list:n})}))},e.onChoose=function(t){e.props.changeFunction(t),e.props.back()},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.state.list,a=this.props,n=a.id,o=a.back,c=a.text;return r.a.createElement(g.w,{id:n},r.a.createElement(g.x,{left:r.a.createElement(g.y,{onClick:o})},c),r.a.createElement(g.j,null,r.a.createElement(g.q,{onChange:this.onChange})),null===t?r.a.createElement(g.A,null,"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u0430\u043d\u044b"):r.a.createElement(g.s,null,t&&t.map((function(t,a){return r.a.createElement(g.H,{onClick:function(){return e.onChoose(t)},id:t,key:a,after:t===c&&r.a.createElement(Te.a,null)},t)}))))}}]),a}(n.Component),Pe={color:"var(--accent)"},xe={all:"\u043b\u044e\u0431\u043e\u0435",winter:"\u0437\u0438\u043c\u0430",spring:"\u0432\u0435\u0441\u043d\u0430",summer:"\u043b\u0435\u0442\u043e",fall:"\u043e\u0441\u0435\u043d\u044c"},Me={0:"\u043b\u044e\u0431\u043e\u0439",1:"\u044f\u043d\u0432\u0430\u0440\u044c",2:"\u0444\u0435\u0432\u0440\u0430\u043b\u044c",3:"\u043c\u0430\u0440\u0442",4:"\u0430\u043f\u0440\u0435\u043b\u044c",5:"\u043c\u0430\u0439",6:"\u0438\u044e\u043d\u044c",7:"\u0438\u044e\u043b\u044c",8:"\u0430\u0432\u0433\u0443\u0441\u0442",9:"\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c",10:"\u043e\u043a\u0442\u044f\u0431\u0440\u044c",11:"\u043d\u043e\u044f\u0431\u0440\u044c",12:"\u0434\u0435\u043a\u0430\u0431\u0440\u044c"},Ne={random:"\u043b\u044e\u0431\u0430\u044f",E:"\u0415\u0432\u0440\u043e\u043f\u0430",F:"\u0410\u0444\u0440\u0438\u043a\u0430",O:"\u041e\u043a\u0435\u0430\u043d\u0438\u044f",A:"\u0410\u0437\u0438\u044f",S:"\u042e\u0436\u043d\u0430\u044f \u0410\u043c\u0435\u0440\u0438\u043a\u0430",N:"\u0421\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0410\u043c\u0435\u0440\u0438\u043a\u0430"},_e={url:"1 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440, \u044d\u043a\u043e\u043d\u043e\u043c\u043a\u043b\u0430\u0441\u0441",url1Business:"1 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440, \u0431\u0438\u0437\u043d\u0435\u0441-\u043a\u043b\u0430\u0441\u0441",url2Passengers:"2 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430, \u044d\u043a\u043e\u043d\u043e\u043c\u043a\u043b\u0430\u0441\u0441",urlForma:"\u043e\u0442\u043a\u0440\u044b\u0442\u0430\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0435\u043c\u0430\u044f \u0444\u043e\u0440\u043c\u0430 \u043f\u043e\u0438\u0441\u043a\u0430"},Ae={AZN:"\u043c\u0430\u043d\u0430\u0442",BYN:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",CNY:"\u044e\u0430\u043d\u044c",EUR:"\u0435\u0432\u0440\u043e",KGS:"\u0441\u043e\u043c",KZT:"\u0442\u0435\u043d\u0433\u0435 ",RUB:"\u0440\u0443\u0431\u043b\u044c ",THB:"\u0431\u0430\u0442",UAH:"\u0433\u0440\u0438\u0432\u043d\u0430",USD:"\u0434\u043e\u043b\u043b\u0430\u0440",UZS:"\u0441\u0443\u043c"},Fe={AZN:"\u043c\u0430\u043d\u0430\u0442",BYN:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u0441\u043a\u0438\u0445 \u0440\u0443\u0431\u043b\u0435\u0439",CNY:"\u044e\u0430\u043d\u044c",EUR:"\u0435\u0432\u0440\u043e",KGS:"\u0441\u043e\u043c",KZT:"\u0442\u0435\u043d\u0433\u0435 ",RUB:"\u0440\u0443\u0431\u043b\u0435\u0439",THB:"\u0431\u0430\u0442",UAH:"\u0433\u0440\u0438\u0432\u043d\u0430",USD:"\u0434\u043e\u043b\u043b\u0430\u0440",UZS:"\u0441\u0443\u043c"},qe={de:"\u043d\u0435\u043c\u0435\u0446\u043a\u0438\u0439",en:"\u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439",es:"\u0438\u0441\u043f\u0430\u043d\u0441\u043a\u0438\u0439",fr:"\u0444\u0440\u0430\u043d\u0446\u0443\u0437\u0441\u043a\u0438\u0439",it:"\u0438\u0442\u0430\u043b\u044c\u044f\u043d\u0441\u043a\u0438\u0439",ru:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439",th:"\u0442\u0430\u0439\u0441\u043a\u0438\u0439",tr:"\u0442\u0443\u0440\u0435\u0446\u043a\u0438\u0439"},Ue=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={activeStory:"settings",activePanel:"home",activeModal:null,popout:null,currentCatalog:0,catalog:null,appId:null,form:null,obj:{from:null,to:null,all:!1}},e.sortData=function(){var t=Object(p.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],a.forEach(function(){var e=Object(p.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:-1===(a=n.findIndex((function(e){return e.catalog===t.catalog})))&&(n.push({catalog:t.catalog,to:[]}),a=n.length-1),t.section?-1===(r=n[a].to.findIndex((function(e){return e.section===t.section})))?n[a].to.push({section:t.section,arr:[t]}):n[a].to[r].arr.push(t):n[a].to.push(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.shift(),n.splice(n.findIndex((function(e){return""===e.catalog})),1),e.setState({catalog:n}),e.setPopout(null);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onStoryChange=function(t){e.setState({activeStory:t.currentTarget.dataset.story,activePanel:"home"})},e.setPopout=function(t){e.setState({popout:t})},e.openCatalog=function(t){e.setState({activePanel:"catalog",currentCatalog:parseInt(t.currentTarget.id,10)})},e.openModal=function(t){console.log(t),e.setState({activeModal:t})},e.chooseGlobal=function(t){console.log(e.state.changeDefaultName,t),e.setState(Object(s.a)({},e.state.changeDefaultName,t))},e.go=function(t){e.setState({activePanel:t,currentSection:null})},e.chooseSection=function(t){e.setState({activePanel:"sectionCatalog",currentSection:parseInt(t.currentTarget.id,10)})},e.save_request=function(){e.setState({popout:r.a.createElement(g.D,null)}),fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-user-api-request",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},referrer:"https://appvk.flights.ru/",referrerPolicy:"no-referrer-when-downgrade",body:JSON.stringify(e.state.item),method:"POST"}).then((function(e){return e.json()})).then((function(t){"ok"===t.response&&(e.setState({popout:null,activeModal:null}),console.log(t))})).catch((function(t){e.setState({snackbar:r.a.createElement(W,{close:function(){return e.setState({snackbar:null})}})}),e.setState({popout:null})}))},e.onChangeGroups=function(t,a){console.log(a),e.setState(Object(s.a)({},t,a))},e.onChangeForm=function(t,a,n,r,o){e.setState({countrySrc:t,citySrc:a,countryDst:n,cityDst:r,request_id:o})},e.choose=function(t){e.setState({obj:Object(l.a)(Object(l.a)({},e.state.obj),{},Object(s.a)({},t.currentTarget.name,e.state.obj[t.currentTarget.name].map((function(e,a){return a===parseInt(t.currentTarget.id,10)?(e.checked=t.currentTarget.checked,e):e}))))});var a=!0;e.state.obj.from.forEach((function(e){e.checked||(a=!1)})),e.state.obj.to.forEach((function(e){e.checked||(a=!1)})),e.setState({obj:Object(l.a)(Object(l.a)({},e.state.obj),{},{all:a})})},e.chooseAll=function(){var t=!e.state.obj.all,a=e.state.obj,n=a.from,r=a.to;e.setState({obj:Object(l.a)(Object(l.a)({},e.state.obj),{},{from:n.map((function(e,a){return e.checked=t,e})),to:r.map((function(e,a){return e.checked=t,e})),all:t})})},e.submit=Object(p.a)(i.a.mark((function t(){var a,n,o,c,l,s,u,p,m,h,d;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.state.obj,n=a.from,o=a.to,c=a.name,l=a.groupId,a.id,s=e.state,u=s.catalog,p=s.currentCatalog,m=s.currentSection,h=s.user,e.setPopout(r.a.createElement(g.D,null)),n.filter((function(e){return e.checked})).length>0&&o.filter((function(e){return e.checked})).length>0&&(d=(d=(d=[]).concat(n.filter((function(e){return e.checked})).map((function(e){return e.tag+"/"+l+"/"+c+"/"+u[p].catalog+"/"+(m||"\u041b\u044e\u0431\u043e\u0439")})))).concat(o.filter((function(e){return e.checked})).map((function(e){return e.tag+"/"+l+"/"+c+"/"+u[p].catalog+"/"+(m||"\u041b\u044e\u0431\u043e\u0439")}))),fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-tags",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},body:JSON.stringify({user_id:String(h.id)}),method:"POST"}).then((function(e){return e.json()})).then((function(t){t.tags.length>0&&(d=d.concat(t.tags.map((function(e){return e.body+"/"+e.group_id+"/"+e.group_name+"/"+e.category+"/"+e.section})))),fetch("https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-tags",{headers:{accept:"*/*","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","content-type":"application/json;charset=utf-8"},referrer:"https://appvk.flights.ru/",referrerPolicy:"no-referrer-when-downgrade",body:JSON.stringify({user_id:String(h.id),checkbox:d}),method:"POST"}).then((function(e){return e.json()})).then((function(t){"ok"===t.response&&e.setState({popout:null,activeModal:null})}))})));case 4:case"end":return t.stop()}}),t)}))),e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.a.sendPromise("VKWebAppGetUserInfo").then((function(t){var a=null;fetch("https://autocomplete.travelpayouts.com/places2?term=".concat(t.city.title,"&locale=ru&types[]=city")).then((function(e){return e.json()})).then((function(n){0!==n.length&&(a=t.city.title),e.setState({appId:parseInt(window.location.href.split("vk_app_id=")[1].split("&")[0],10),user:t,countrySrc:t.country.title,citySrc:a})})),v.a.get("https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Channels").then(function(){var t=Object(p.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sortData(a.data);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.activePanel,n=t.popout,o=t.defaultCountry,c=t.chooseCountryText,l=(t.changeFunction,t.changeDefaultName),s=t.item,u=this.state.obj,i=u.from,p=u.to,m=u.all;return r.a.createElement(g.k,{activeStory:this.state.activeStory,tabbar:r.a.createElement(g.K,null,r.a.createElement(g.L,{onClick:this.onStoryChange,selected:"groups"===this.state.activeStory,"data-story":"groups",text:"\u0421\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430"},r.a.createElement(k.a,null)),r.a.createElement(g.L,{onClick:this.onStoryChange,selected:"settings"===this.state.activeStory,"data-story":"settings",text:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"},r.a.createElement(D.a,null)),r.a.createElement(g.L,{onClick:this.onStoryChange,selected:"subscribes"===this.state.activeStory,"data-story":"subscribes",text:"\u041c\u043e\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"},r.a.createElement(O.a,null)),r.a.createElement(g.L,{onClick:this.onStoryChange,selected:"friends"===this.state.activeStory,"data-story":"friends",text:"\u0414\u0440\u0443\u0437\u044c\u044f"},r.a.createElement(w.a,null)),r.a.createElement(g.L,{onClick:this.onStoryChange,selected:"aviasales"===this.state.activeStory,"data-story":"aviasales",text:"Aviasales"},r.a.createElement(x.a,null)))},r.a.createElement(g.P,{id:"groups",activePanel:a,popout:n,modal:r.a.createElement(g.v,{activeModal:this.state.activeModal},r.a.createElement(g.t,{id:"subscribeCities",onClose:function(){return e.setState({activeModal:null})},dynamicContentHeight:!0,settlingHeight:100,header:r.a.createElement(g.u,null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430")},r.a.createElement(g.j,{style:{position:"relative",textAlign:"left",overflowX:"hidden",overflowY:"auto",backgroundColor:"#fff"},className:"SubscribeCities"},r.a.createElement(g.h,{indicator:r.a.createElement(g.J,{checked:m,onChange:this.chooseAll})},"\u0412\u0441\u0435"),r.a.createElement(g.O,{level:"3",weight:"bold"},"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b \u0438\u0437:"),r.a.createElement(g.m,null,i&&i.map((function(t,a){return r.a.createElement(g.i,{key:a,id:a,name:"from",onChange:e.choose,checked:t.checked},t.tag.split("#")[1].split("@")[0])})),r.a.createElement(g.O,{level:"3",weight:"bold"},"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b \u0432:"),p&&p.map((function(t,a){return r.a.createElement(g.i,{key:a,id:a,name:"to",onChange:e.choose,checked:t.checked},t.tag.split("#")[1].split("@")[0])})),r.a.createElement(g.e,{mode:"commerce",size:"xl",onClick:this.submit},"\u041f\u0440\u0435\u043c\u0435\u043d\u0438\u0442\u044c")))))},r.a.createElement(M,{id:"home",state:this.state,setPopout:this.setPopout,openCatalog:this.openCatalog}),r.a.createElement(q,{id:"catalog",state:this.state,setPopout:this.setPopout,openModal:this.openModal,go:this.go,onChangeGroups:this.onChangeGroups,chooseSection:this.chooseSection}),r.a.createElement(U,{id:"sectionCatalog",state:this.state,setPopout:this.setPopout,openModal:this.openModal,onChangeGroups:this.onChangeGroups,go:this.go})),r.a.createElement(g.P,{id:"settings",activePanel:a,popout:n,modal:r.a.createElement(g.v,{activeModal:this.state.activeModal},r.a.createElement(g.t,{id:"confirm_settings",header:r.a.createElement(g.u,null,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435"),onClose:function(){return e.setState({activeModal:null})},settlingHeight:100},s&&r.a.createElement(g.f,{size:"l",mode:"shadow"},r.a.createElement(g.j,{style:{padding:"20px",lineHeight:1.5}},"\u0418\u0437 \u0441\u0442\u0440\u0430\u043d\u044b ",r.a.createElement("b",{style:Pe},s.output.countrySrc?s.output.countrySrc:"\u043b\u044e\u0431\u0430\u044f")," \u0438 \u0433\u043e\u0440\u043e\u0434\u0430 ",r.a.createElement("b",{style:Pe},s.output.citySrc?s.output.citySrc:"\u043b\u044e\u0431\u043e\u0439"),r.a.createElement("br",null),"\u0412 \u0447\u0430\u0441\u0442\u044c \u0441\u0432\u0435\u0442\u0430 ",r.a.createElement("b",null,Ne[s.output.continentDst])," \u0438 \u0441\u0442\u0440\u0430\u043d\u0443 ",r.a.createElement("b",{style:Pe},s.output.countryDst?s.output.countryDst:"\u043b\u044e\u0431\u0430\u044f"),r.a.createElement("br",null),"\u0412 \u0433\u043e\u0440\u043e\u0434 ",r.a.createElement("b",{style:Pe},s.output.cityDst?s.output.cityDst:"\u043b\u044e\u0431\u043e\u0439"),r.a.createElement("br",null),"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0442\u043e\u0432 - ",r.a.createElement("b",{style:Pe},s.output.forward?"\u0442\u0443\u0434\u0430":"\u0442\u0443\u0434\u0430-\u043e\u0431\u0440\u0430\u0442\u043d\u043e"),r.a.createElement("br",null),s.output.dates.map((function(e,t){return r.a.createElement("div",{key:t},"\u0413\u043e\u0434 \u0432\u044b\u043b\u0435\u0442\u0430 (",t+1,") ",r.a.createElement("b",{style:Pe},e.year),r.a.createElement("br",null),"\u0412\u0440\u0435\u043c\u044f \u0433\u043e\u0434\u0430 (",t+1,") ",r.a.createElement("b",{style:Pe},xe[e.season]),r.a.createElement("br",null),"\u041c\u0435\u0441\u044f\u0446 (",t+1,") ",r.a.createElement("b",{style:Pe},Me[e.month]),r.a.createElement("br",null))})),r.a.createElement("br",null),"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b ",r.a.createElement("b",{style:Pe},_e[s.output.passengers]),r.a.createElement("br",null),"\u0426\u0435\u043d\u0430 \u043e\u0442 ",r.a.createElement("b",{style:Pe},s.output.costMin)," \u0434\u043e ",r.a.createElement("b",{style:Pe},s.output.costMax)," ",Fe[s.output.currency],r.a.createElement("br",null),"\u041f\u0435\u0440\u0438\u043e\u0434 \u043f\u043e\u043a\u0430\u0437\u0430 ",r.a.createElement("b",{style:Pe},s.output.interval)," \u043c\u0438\u043d\u0443\u0442",r.a.createElement("br",null),"\u0413\u043b\u0443\u0431\u0438\u043d\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 ",r.a.createElement("b",{style:Pe},s.output.updated)," \u043c\u0438\u043d\u0443\u0442",r.a.createElement("br",null),"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0437\u0430 24 \u0447\u0430\u0441\u0430 ",r.a.createElement("b",{style:Pe},"0"===s.output.limit?"\u0432\u0441\u0435":s.output.limit),r.a.createElement("br",null),"\u042f\u0437\u044b\u043a (\u0442\u0443\u0434\u0430-\u043e\u0431\u0440\u0430\u0442\u043d\u043e) ",r.a.createElement("b",{style:Pe},qe[s.output.language]),r.a.createElement("br",null),"\u0412\u0430\u043b\u044e\u0442\u0430 (\u0446\u0435\u043d\u0430) ",r.a.createElement("b",{style:Pe},Ae[s.output.currency]),r.a.createElement("br",null),"\u0412\u0430\u043b\u044e\u0442\u0430 (\u043c\u0435\u0442\u0430\u043f\u043e\u0438\u0441\u043a\u043e\u0432\u0438\u043a\u0430) ",r.a.createElement("b",{style:Pe},Ae[s.output.currencyForUrl]),r.a.createElement("br",null),s.output.optional&&r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{style:{color:"var(--tabbar_inactive_icon)"}},"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b"),s.output.profitability&&"\u0412\u044b\u0433\u043e\u0434\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u043a\u0443\u043f\u043a\u0438 \u0431\u043e\u043b\u044c\u0448\u0435 ",s.output.profitability&&r.a.createElement("b",{style:Pe},s.output.profitability+"%"),r.a.createElement("br",null),"\u0414\u043d\u0438 \u043d\u0435\u0434\u0435\u043b\u0438 \u0432\u044b\u043b\u0435\u0442\u0430 ",r.a.createElement("b",{style:Pe},function(e){var t=["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],a=0;if(e.every((function(e,t,n){return a++,!0===e})),7===a)return"\u0432\u0441\u0435";for(var n="",r=1;r<e.length;r++)e[r]&&(n+=t[r].toLowerCase()+", ");return n+=t[0].toLowerCase()}(s.output.days)),r.a.createElement("br",null),s.output.showAddionalWeather&&r.a.createElement("div",null,"\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u043f\u043e\u0433\u043e\u0434\u044b \u0432 \u0434\u0435\u043d\u044c \u043f\u0440\u0438\u043b\u0435\u0442\u0430",r.a.createElement("br",null),"\u0414\u043d\u0435\u043c \u043e\u0442 ",r.a.createElement("b",{style:Pe},s.output["dayTemp.min"])," \u0421 \u0434\u043e ",r.a.createElement("b",{style:Pe},s.output["dayTemp.max"])," \u0421",r.a.createElement("br",null),"\u041d\u043e\u0447\u044c\u044e \u043e\u0442 ",r.a.createElement("b",{style:Pe},s.output["nightTemp.min"])," \u0421 \u0434\u043e ",r.a.createElement("b",{style:Pe},s.output["nightTemp.max"])," \u0421",r.a.createElement("br",null)))),r.a.createElement(g.j,null,r.a.createElement(g.e,{size:"xl",onClick:this.save_request},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c")))))},r.a.createElement(de,{id:"home",state:this.state,setPopout:this.setPopout,onChangeGroups:this.onChangeGroups,openModal:this.openModal,go:this.go,changeDefault:function(t){return e.setState({chooseCountryText:t})},changeDefaultText:function(t){return e.setState({defaultCountry:t})},changeDefaultName:function(t){return e.setState({changeDefaultName:t})}}),r.a.createElement(Oe,{id:"chooseCountry",default:o,text:c,changeFunction:this.chooseGlobal,changeDefaultName:l,back:function(){return e.setState({activePanel:"home"})}}),r.a.createElement(je,{id:"chooseCity",default:o,text:c,changeFunction:this.chooseGlobal,changeDefaultName:l,state:this.state,back:function(){return e.setState({activePanel:"home"})}}),r.a.createElement(we,{id:"chooseCountryByContinent",default:o,text:c,changeFunction:this.chooseGlobal,changeDefaultName:l,state:this.state,back:function(){return e.setState({activePanel:"home"})}})),r.a.createElement(g.P,{id:"subscribes",activePanel:a,popout:n,modal:r.a.createElement(g.v,{activeModal:this.state.activeModal},r.a.createElement(g.t,{id:"subscribeCities",onClose:function(){return e.setState({activeModal:null})},dynamicContentHeight:!0,settlingHeight:100,header:r.a.createElement(g.u,null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430")},r.a.createElement(g.j,{style:{position:"relative",textAlign:"left",overflowX:"hidden",overflowY:"auto",backgroundColor:"#fff"},className:"SubscribeCities"},r.a.createElement(g.h,{indicator:r.a.createElement(g.J,{checked:m,onChange:this.chooseAll})},"\u0412\u0441\u0435"),r.a.createElement(g.O,{level:"3",weight:"bold"},"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b \u0438\u0437:"),r.a.createElement(g.m,null,i&&i.map((function(t,a){return r.a.createElement(g.i,{key:a,id:a,name:"from",onChange:e.choose,checked:t.checked},t.tag.split("#")[1].split("@")[0])})),r.a.createElement(g.O,{level:"3",weight:"bold"},"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b \u0432:"),p&&p.map((function(t,a){return r.a.createElement(g.i,{key:a,id:a,name:"to",onChange:e.choose,checked:t.checked},t.tag.split("#")[1].split("@")[0])})),r.a.createElement(g.e,{mode:"commerce",size:"xl",onClick:this.submit},"\u041f\u0440\u0435\u043c\u0435\u043d\u0438\u0442\u044c")))))},r.a.createElement(ee,{id:"home",state:this.state,go:this.go,onChange:this.onChangeForm,changeFunction:this.chooseGlobal,changeDefaultName:function(t){return e.setState({changeDefaultName:t},console.log(t))},openModal:this.openModal,onChangeGroups:this.onChangeGroups,setPopout:this.setPopout}),r.a.createElement(Se,{id:"edit-settings",go:this.go,back:function(){return e.go("home")},state:this.state,setPopout:this.setPopout,changeFunction:this.chooseGlobal,changeDefaultName:function(t){return e.setState({changeDefaultName:t})},changeDefault:function(t){return e.setState({chooseCountryText:t})},changeDefaultText:function(t){return e.setState({defaultCountry:t})}}),r.a.createElement(Oe,{id:"chooseCountry",default:o,text:c,changeFunction:this.chooseGlobal,changeDefaultName:l,back:function(){return e.setState({activePanel:"edit-settings"})}}),r.a.createElement(je,{id:"chooseCity",default:o,text:c,changeFunction:this.chooseGlobal,changeDefaultName:l,state:this.state,back:function(){return e.setState({activePanel:"edit-settings"})}})),r.a.createElement(g.P,{id:"friends",activePanel:a,popout:n},r.a.createElement(ne,{id:"home",state:this.state,setPopout:this.setPopout,go:this.go,changeFunction:this.chooseGlobal,changeDefaultName:function(t){return e.setState({changeDefaultName:t})},changeDefault:function(t){return e.setState({chooseCountryText:t})},changeDefaultText:function(t){return e.setState({defaultCountry:t})}}),r.a.createElement(je,{id:"chooseCity",default:o,text:c,changeFunction:this.chooseGlobal,changeDefaultName:l,state:this.state,back:function(){return e.setState({activePanel:"home"})}})),r.a.createElement(g.P,{id:"aviasales",activePanel:a,popout:n},r.a.createElement(g.w,{id:"home"})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ie=a(77),Be=a(183),Je=a(184);a(522),a(523);E.a.send("VKWebAppInit",{}),c.a.render(r.a.createElement(Ue,null),document.getElementById("root")),Ie.init(),Ie.add(Be),Ie.add(Je),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[215,1,2]]]);
//# sourceMappingURL=main.be70967b.chunk.js.map