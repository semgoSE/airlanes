{"version":3,"sources":["panels/Groups.jsx","components/SubscribeCities.jsx","panels/Catalog.jsx","panels/SectionCatalog.jsx","components/SnackbarError.jsx","components/MyGroups.jsx","components/MyDB.jsx","panels/MySubs.jsx","panels/Friends.jsx","panels/Settings.jsx","panels/EditSettings.jsx","components/ChooseCountry.jsx","components/ChooseCity.jsx","components/ChooseCountryByContinent.jsx","App.js","serviceWorker.js","index.js"],"names":["Groups","id","state","openCatalog","catalog","size","map","item","index","key","expandable","onClick","SubscribeCities","from","to","all","this","setState","props","obj","updateModalHeight","close","React","Component","Catalog","withModalRootContext","subscribe","e","screenName","currentTarget","split","bridge","sendPromise","app_id","appId","scope","request_id","then","auth","access_token","method","params","group_id","v","data","response","fetch","JSON","stringify","user_id","user","checkbox","subscribeMessages","name","setPopout","domain","tags","a","tagsIn","tagsOut","items","forEach","group","match","text","matchAll","length","matchOut","push","matchIn","filter","i","indexOf","groupId","tag","checked","onChangeGroups","openModal","catch","subscribeMessagesAlert","actions","title","autoclose","mode","action","onClose","go","left","currentCatalog","section","chooseSection","disabled","multiline","Fragment","channelName","window","open","description","SectionCatalog","currentSection","arr","SnakbarError","console","log","before","fill","MyGroups","snackbar","openMenu","edit_","body","openConfirm","delete","tag_id","json","check","splice","string","itemsWall","tags_obj","element","tags_name","err","String","SnackbarError","group_name","caption","after","category","SEASONS_TRANSCRIPTION","MONTHS_TRANSCRIPTION","0","1","2","3","4","5","6","7","8","9","10","11","12","CONTINENTS","PASSENGERS","url","url1Business","url2Passengers","urlForma","CURRENCY","AZN","BYN","CNY","EUR","KGS","KZT","RUB","THB","UAH","USD","UZS","CURRENCY1","LANGUAGES","de","en","es","fr","it","ru","th","tr","MyDB","openAlert","edit","parse","output","onChange","countrySrc","citySrc","countryDst","cityDst","changeDefaultName","setTimeout","changeFunction","requests","separator","style","padding","lineHeight","continentDst","forward","dates","year","season","month","passengers","costMin","costMax","currency","interval","updated","limit","language","currencyForUrl","optional","color","profitability","days","daysOfWeek","every","array","res","toLowerCase","showAddionalWeather","MySubs","activeTab","vertical","selected","marginTop","Friends","friends","getFriends","fields","city","city_","getPrice","cities","myCode","code","friendCode","isEmpty","changeDefault","indexPrice","Object","keys","parseInt","price","src","photo_50","first_name","last_name","icon","header","CONTINENT_DST","E","F","D","A","S","N","Settings","datesCnt","Date","getFullYear","dual","randomCost","dayTempMin","dayTempMax","value","onChangeCheck","onChangeFrom","addFrom","yearSrc","seasonSrc","monthSrc","removeFrom","onChangeDays","allDays","bool","Number","t","sort_res","nighTempMax","nighTempMin","top","data-type","placeholder","changeDefaultText","continent","defaultValue","Array","s","m","getMonth","n","display","min","max","step","onFocus","type","indicator","bottom","B","C","EditSettings","form","save_request","back","vaule","ChooseCountry","inp","default","list","resArr","findIndex","x","country_name","onChoose","ChooseCity","country","ChooseCountryByContinentp","search","nameTranslations","App","activeStory","activePanel","activeModal","popout","sortData","sectionIndex","shift","onStoryChange","dataset","story","modal","chooseGlobal","onChangeForm","choose","chooseAll","submit","concat","location","href","axios","get","defaultCountry","chooseCountryText","tabbar","data-story","dynamicContentHeight","settlingHeight","position","textAlign","overflowX","overflowY","backgroundColor","className","level","weight","ChooseCountryByContinent","Boolean","hostname","send","ReactDOM","render","document","getElementById","eruda","erudaCode","erudaDom","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.def9cb50.chunk.js","sourcesContent":["import React from 'react'\nimport { Panel, PanelHeader, List, SimpleCell, PanelSpinner } from '@vkontakte/vkui'\n\nconst Groups = ({ id, state, openCatalog }) => (\n  <Panel id={id}>\n    <PanelHeader>Сообщества</PanelHeader>\n      {state.catalog === null ? \n        <PanelSpinner size='large'/>\n      :\n    <List>\n      {\n        state.catalog && (\n          state.catalog.map((item, index) => \n            <SimpleCell\n              key={item.catalog}\n              id={index}\n              expandable\n              onClick={openCatalog}\n            >\n              {item.catalog}\n            </SimpleCell>\n          )\n        )\n          \n       \n      }\n    </List>\n    }\n  </Panel>\n)\n\nexport default Groups\n","import React from 'react'\nimport { Div, Checkbox, Title, FormLayout, Switch, Cell, ScreenSpinner, ModalPage, withModalRootContext } from '@vkontakte/vkui'\n\nexport class SubscribeCities extends React.Component {\n  state = {\n    from: null,\n    to: null,\n    all:false,\n  }\n\n  componentDidMount() {\n    this.setState({ from: this.props.state.obj.from, to: this.props.state.obj.to })\n    this.props.updateModalHeight();\n  }\n\n\n\n\n  render() {\n    const {\n      from,\n      to,\n      all\n    } = this.state\n    const {\n      id,\n      close,\n      state\n    } = this.props\n    return (\n    \n<div />\n      \n\n    )\n  }\n}\nexport default withModalRootContext(SubscribeCities);\n\n","import React, { Component } from 'react'\nimport { Panel, PanelHeader, PanelHeaderBack, RichCell, SimpleCell, Link, Button, Alert, ScreenSpinner } from '@vkontakte/vkui'\nimport Icon28SettingsOutline from '@vkontakte/icons/dist/28/settings_outline';\nimport bridge from '@vkontakte/vk-bridge'\nimport SubscribeCities from '../components/SubscribeCities'\n\nexport class Catalog extends Component {\n  // Подписка на сообщество\n  subscribe = e => {\n    const screenName = e.currentTarget.id.split(\"com/\")[1]\n    const { state } = this.props\n    bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n      app_id: state.appId,\n      scope: \"wall,groups\",\n      request_id: 1\n    })\n    .then(auth => {\n      if(auth.access_token && auth.scope === \"wall,groups\"){\n        bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n          method: \"groups.getById\",\n          request_id: 2,\n          params: {\n            group_id: screenName,\n            access_token: auth.access_token,\n            v: 5.107,\n          }\n        })\n        .then(data => {\n          bridge.sendPromise(\"VKWebAppJoinGroup\", {\"group_id\": data.response[0].id})\n          .then(() => {\n            // Если пользователь подписался, то отправляем запрос \n            // на сохранение этих данных\n            fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-groups\", {\n              \"headers\": {\n                \"accept\": \"*/*\",\n                \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n                \"content-type\": \"application/json;charset=utf-8\",\n              },\n              \"body\": JSON.stringify({\n                user_id: state.user.id,\n                app_id: state.appId,\n                checkbox: data.response[0].id\n              }),\n              \"method\": \"POST\",\n            });\n          })\n        })\n      }\n    })\n  }\n\n  // Запрос на сообщения\n  subscribeMessages = (screenName, name) => {\n    const { state } = this.props\n    this.props.setPopout(<ScreenSpinner />)\n    bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n      app_id: state.appId,\n      scope: \"wall,groups\",\n      request_id: 1\n    })\n    .then(auth => {\n      if(auth.access_token && auth.scope === \"wall,groups\"){\n        bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n          method: \"groups.getById\",\n          request_id: 2,\n          params: {\n            group_id: screenName,\n            access_token: auth.access_token,\n            v: 5.107,\n          }\n        })\n        .then(data => {\n          bridge.sendPromise(\"VKWebAppAllowMessagesFromGroup\", {\"group_id\": data.response[0].id, \"key\": \"dBuBKe1kFcdemzB\"})\n          .then(() => {\n            bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n              method: \"wall.get\",\n              request_id: 2,\n              params: {\n                domain: screenName,\n                access_token: auth.access_token,\n                v: 5.107,\n              }\n            })\n            .then(async tags => {\n              let tagsIn = [];\n              let tagsOut = [];\n              let itemsWall = tags.response.items;\n              itemsWall.forEach((group) => {\n                let match = [...group.text.matchAll(/(#.*@.*)/g)];\n                if (match.length) {\n                  if (match.length > 2) {\n                    let matchOut = match[2];\n                    tagsOut.push(matchOut)\n                }\n                let matchIn = match[0];\n                tagsIn.push(matchIn)\n                }\n              });\n              tagsIn = tagsIn.map((item) => \n                item[0]\n              )\n              tagsIn = tagsIn.filter((v,i) => tagsIn.indexOf(v) === i)\n              tagsOut = tagsOut.map((item) => \n                item[0]\n              )\n              tagsOut = tagsOut.filter((v,i) => tagsOut.indexOf(v) === i)\n              let obj = {\n                name:name,\n                id:null,\n                groupId:data.response[0].id, \n                from:tagsOut.map((item) => {\n                  return {\n                    tag: item,\n                    checked: false\n                  }\n                }),\n                to:tagsIn.map((item) => {\n                  return {\n                    tag: item,\n                    checked: false\n                  }\n                })\n\n              }\n              this.props.onChangeGroups('obj', obj);\n              this.props.openModal('subscribeCities')\n              this.props.setPopout(null) \n              \n            })\n            .catch(() => this.props.setPopout(null))\n          })\n          .catch(() => this.props.setPopout(null))\n        })\n        .catch(() => this.props.setPopout(null))\n      }\n    })\n    .catch(() => this.props.setPopout(null))\n  }\n\n  // Предупреждение с информацией\n  subscribeMessagesAlert = e => {\n    const screenName = e.currentTarget.id.split(\"com/\")[1]\n    const name = e.currentTarget.name\n    this.props.setPopout(\n      <Alert\n        actions={[{\n          title: 'Отмена',\n          autoclose: true,\n          mode: 'cancel'\n        }, {\n          title: 'Разрешить',\n          autoclose: true,\n          action: () => this.subscribeMessages(screenName, name),\n        }]}\n        onClose={() => this.props.setPopout(null)}\n      >\n        <p>Вы можете получать со стены сообщества в личные сообщения только те авиабилеты, которые Вам интересны. Для этого разрешите сейчас сообщения в сообществе и выберите города прилета из списка.</p>\n      </Alert>\n    )\n  }\n\n  render() {\n    const {\n      id,\n      state,\n      go,\n    } = this.props\n    return (\n      <Panel id={id}>\n        <PanelHeader\n          left={\n            <PanelHeaderBack onClick={() => go(\"home\")} />\n          }\n        >{state.catalog[state.currentCatalog].catalog}</PanelHeader>\n        {\n          state.catalog && (\n            state.catalog[state.currentCatalog].to.map((item, index) => \n              item.section ? \n                <SimpleCell\n                  key={index}\n                  expandable\n                  id={index}\n                  onClick={this.props.chooseSection}\n                >\n                  <Link>{item.section}</Link>\n                </SimpleCell>\n              :\n              <RichCell\n                key={index}\n                disabled\n                multiline\n                actions={\n                  <React.Fragment>\n                    <Button\n                      mode=\"outline\"\n                      id={item.channelName}\n                      onClick={this.subscribe}\n                    >Подписаться</Button>\n                     <Button\n                      mode=\"outline\"\n                      id={item.channelName}\n                      onClick={e => window.open(e.currentTarget.id, '_blank')}\n                    >Посмотреть</Button>\n                    <Link name={item.description} id={item.channelName} onClick={this.subscribeMessagesAlert}>\n                      <Icon28SettingsOutline />\n                    </Link>\n                  </React.Fragment>\n                }\n              >\n                {item.description}\n              </RichCell>\n            )\n          )\n        }\n      </Panel>\n    )\n  }\n}\n\nexport default Catalog\n","import React, { Component } from 'react'\nimport { Panel, PanelHeader, PanelHeaderBack, RichCell, Link, Button, Header, ScreenSpinner, Alert } from '@vkontakte/vkui'\nimport Icon28SettingsOutline from '@vkontakte/icons/dist/28/settings_outline';\nimport bridge from '@vkontakte/vk-bridge'\nimport SubscribeCities from '../components/SubscribeCities'\n\nexport class SectionCatalog extends Component {\n  // Подписка на сообщество\n  subscribe = e => {\n    const screenName = e.currentTarget.id.split(\"com/\")[1]\n    const { state } = this.props\n    bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n      app_id: state.appId,\n      scope: \"wall,groups\",\n      request_id: 1\n    })\n    .then(auth => {\n      if(auth.access_token && auth.scope === \"wall,groups\"){\n        bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n          method: \"groups.getById\",\n          request_id: 2,\n          params: {\n            group_id: screenName,\n            access_token: auth.access_token,\n            v: 5.107,\n          }\n        })\n        .then(data => {\n          bridge.sendPromise(\"VKWebAppJoinGroup\", {\"group_id\": data.response[0].id})\n          .then(() => {\n            // Если пользователь подписался, то отправляем запрос \n            // на сохранение этих данных\n            fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-groups\", {\n              \"headers\": {\n                \"accept\": \"*/*\",\n                \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n                \"content-type\": \"application/json;charset=utf-8\",\n                \"sec-fetch-dest\": \"empty\",\n                \"sec-fetch-mode\": \"cors\",\n                \"sec-fetch-site\": \"same-origin\"\n              },\n              \"body\": JSON.stringify({\n                user_id: state.user.id,\n                app_id: state.appId,\n                checkbox: data.response[0].id\n              }),\n              \"method\": \"POST\",\n              \"mode\": \"cors\",\n              \"credentials\": \"include\"\n            });\n          })\n        })\n      }\n    })\n  }\n\n    // Запрос на сообщения\n    subscribeMessages = (screenName, name) => {\n      const { state } = this.props\n      this.props.setPopout(<ScreenSpinner />)\n      bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n        app_id: state.appId,\n        scope: \"wall,groups\",\n        request_id: 1\n      })\n      .then(auth => {\n        if(auth.access_token && auth.scope === \"wall,groups\"){\n          bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n            method: \"groups.getById\",\n            request_id: 2,\n            params: {\n              group_id: screenName,\n              access_token: auth.access_token,\n              v: 5.107,\n            }\n          })\n          .then(data => {\n            bridge.sendPromise(\"VKWebAppAllowMessagesFromGroup\", {\"group_id\": data.response[0].id, \"key\": \"dBuBKe1kFcdemzB\"})\n            .then(() => {\n              bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n                method: \"wall.get\",\n                request_id: 2,\n                params: {\n                  domain: screenName,\n                  access_token: auth.access_token,\n                  v: 5.107,\n                }\n              })\n              .then(async tags => {\n                let tagsIn = [];\n                let tagsOut = [];\n                let itemsWall = tags.response.items;\n                itemsWall.forEach((group) => {\n                  let match = [...group.text.matchAll(/(#.*@.*)/g)];\n                  if (match.length) {\n                    if (match.length > 2) {\n                      let matchOut = match[2];\n                      tagsOut.push(matchOut)\n                  }\n                  let matchIn = match[0];\n                  tagsIn.push(matchIn)\n                  }\n                });\n                tagsIn = tagsIn.map((item) => \n                  item[0]\n                )\n                tagsIn = tagsIn.filter((v,i) => tagsIn.indexOf(v) === i)\n                tagsOut = tagsOut.map((item) => \n                  item[0]\n                )\n                tagsOut = tagsOut.filter((v,i) => tagsOut.indexOf(v) === i)\n                let obj = {\n                  name:name,\n                  id:null,\n                  groupId:data.response[0].id, \n                  from:tagsOut.map((item) => {\n                    return {\n                      tag: item,\n                      checked: false\n                    }\n                  }),\n                  to:tagsIn.map((item) => {\n                    return {\n                      tag: item,\n                      checked: false\n                    }\n                  })\n  \n                }\n                this.props.onChangeGroups('obj', obj);\n                this.props.openModal('subscribeCities')\n                this.props.setPopout(null)\n              })\n              .catch(() => this.props.setPopout(null))\n            })\n            .catch(() => this.props.setPopout(null))\n          })\n          .catch(() => this.props.setPopout(null))\n        }\n      })\n      .catch(() => this.props.setPopout(null))\n    }\n  \n    // Предупреждение с информацией\n    subscribeMessagesAlert = e => {\n      const screenName = e.currentTarget.id.split(\"com/\")[1]\n      const name = e.currentTarget.name\n      this.props.setPopout(\n        <Alert\n          actions={[{\n            title: 'Отмена',\n            autoclose: true,\n            mode: 'cancel'\n          }, {\n            title: 'Разрешить',\n            autoclose: true,\n            action: () => this.subscribeMessages(screenName, name),\n          }]}\n          onClose={() => this.props.setPopout(null)}\n        >\n          <p>Вы можете получать со стены сообщества в личные сообщения только те авиабилеты, которые Вам интересны. Для этого разрешите сейчас сообщения в сообществе и выберите города прилета из списка.</p>\n        </Alert>\n      )\n    }\n\n  render() {\n    const {\n      id,\n      state,\n      go,\n    } = this.props\n    return (\n      <Panel id={id}>\n        <PanelHeader\n          left={\n            <PanelHeaderBack onClick={() => go(\"catalog\")} />\n          }\n        >{state.catalog[state.currentCatalog].catalog}</PanelHeader>\n        {\n          (state.currentSection || state.currentSection === 0) && (\n            <Header>{state.catalog[state.currentCatalog].to[state.currentSection].section}</Header>\n          )\n        }\n        {\n          (state.currentSection || state.currentSection === 0) && (\n            state.catalog && (\n              state.catalog[state.currentCatalog].to[state.currentSection].arr.map((item, index) => \n                <RichCell\n                  key={index}\n                  disabled\n                  multiline\n                  actions={\n                    <React.Fragment>\n                      <Button\n                        mode=\"outline\"\n                        id={item.channelName}\n                        onClick={this.subscribe}\n                      >Подписаться</Button>\n                       <Button\n                        mode=\"outline\"\n                        id={item.channelName}\n                        onClick={e => window.open(e.currentTarget.id, '_blank')}\n                      >Посмотреть</Button>\n                      <Link name={item.description} id={item.channelName} onClick={this.subscribeMessagesAlert}>\n                        <Icon28SettingsOutline />\n                      </Link>\n                    </React.Fragment>\n                  }\n                >\n                  {item.description}\n                </RichCell>\n              )\n            )\n          )\n        }\n      </Panel>\n    )\n  }\n}\n\nexport default SectionCatalog\n","import React, { Component } from 'react'\r\nimport { render } from '@testing-library/react';\r\nimport { Snackbar } from '@vkontakte/vkui';\r\n\r\nimport Icon24Error from '@vkontakte/icons/dist/24/error';\r\n\r\nexport class SnakbarError extends Component {\r\n    state = {\r\n        \r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(this.props.text);\r\n    }\r\n\r\n    render() {\r\n        return(\r\n        <Snackbar onClose={this.props.close} before={<Icon24Error fill='#FA5728'/>}>{this.props.text ? this.props.text : \"Ошибка интернет-соеденения.\"}</Snackbar>\r\n        )\r\n    }\r\n}\r\n \r\nexport default SnakbarError;","import React, { Component } from 'react'\nimport bridge from '@vkontakte/vk-bridge'\nimport { Group, ScreenSpinner, List, RichCell, Link, Separator, Placeholder, ActionSheet, ActionSheetItem, Alert } from '@vkontakte/vkui'\nimport Icon28EditOutline from '@vkontakte/icons/dist/28/edit_outline';\nimport Icon28DeleteOutlineAndroid from '@vkontakte/icons/dist/28/delete_outline_android';\n\n\nimport SnackbarError from './SnackbarError';\n\nexport class MyGroups extends Component {\n  state = {\n    data: null,\n    snackbar:null,\n  }\n  componentDidMount() {\n    this.props.setPopout(<ScreenSpinner />)\n    fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-tags\", {\n      \"headers\": {\n        \"accept\": \"*/*\",\n        \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n        \"content-type\": \"application/json;charset=utf-8\",\n      },\n      \"body\": JSON.stringify({\n        user_id: String(this.props.state.user.id)\n      }),\n      \"method\": \"POST\",\n    })\n    .then(response => response.json())\n    .then(data => {\n      this.setState({ data: data.tags })\n      this.props.setPopout(null)\n    }).catch(err => {\n      this.props.setPopout(null)\n      this.setState({snackbar:<SnackbarError close={() => this.setState({snackbar:null})}/>, data:'error'})\n    })\n  }\n\n  openMenu = (item, i) => {\n    this.props.setPopout(\n      <ActionSheet onClose={() => this.props.setPopout(null)}>\n        <ActionSheetItem autoclose before={<Icon28EditOutline />} onClick={() => this.edit_(item.body, item.id)}>\n          Редактировать\n        </ActionSheetItem>\n        <ActionSheetItem mode=\"destructive\" before={<Icon28DeleteOutlineAndroid />} onClick={() => this.openConfirm(item.id, i)}>\n          Удалить  \n        </ActionSheetItem>\n      </ActionSheet>\n    )\n  }\n\n  openConfirm = (id, i) => {\n    this.props.setPopout(\n      <Alert\n      onClose={() => this.props.setPopout(null)}\n      actions={[{\n        title: 'Нет',\n        autoclose: true,\n        mode: 'cancel'\n      }, {\n        title: 'Да',\n        autoclose: true,\n        mode: 'destructive',\n        action: () => this.delete(id, i),\n      }]}>\n       Вы уверены?\n      </Alert>\n    )\n  }\n\n  delete = (id, i) => {\n    console.log(i)\n    this.props.setPopout(<ScreenSpinner />);\n    fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/remove-tag\", {\n      \"headers\": {\n        \"accept\": \"*/*\",\n        \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n        \"content-type\": \"application/json;charset=utf-8\",\n      },\n      \"referrer\": \"https://appvk.flights.ru/\",\n      \"referrerPolicy\": \"no-referrer-when-downgrade\",\n      \"body\": JSON.stringify({tag_id:id, user_id:this.props.state.user.id}),\n      \"method\": \"POST\",\n    })\n    .then(response => response.json())\n    .then(check => {\n      if(check.response === 'ok'){\n        this.state.data.splice(i, 1);\n        this.props.setPopout(null);\n      }\n    })\n  }\n\n  edit_ = (string, id) => {\n    let name = string.split('#')[1];\n    let screenName = string.split('@')[1];\n    const { state } = this.props\n    this.props.setPopout(<ScreenSpinner />)\n    bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n      app_id: state.appId,\n      scope: \"wall,groups\",\n      request_id: 1\n    })\n    .then(auth => {\n      if(auth.access_token && auth.scope === \"wall,groups\"){\n        bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n          method: \"groups.getById\",\n          request_id: 2,\n          params: {\n            group_id: screenName,\n            access_token: auth.access_token,\n            v: 5.107,\n          }\n        })\n        .then(data => {\n          bridge.sendPromise(\"VKWebAppAllowMessagesFromGroup\", {\"group_id\": data.response[0].id, \"key\": \"dBuBKe1kFcdemzB\"})\n          .then(() => {\n            bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n              method: \"wall.get\",\n              request_id: 2,\n              params: {\n                domain: screenName,\n                access_token: auth.access_token,\n                v: 5.107,\n              }\n            })\n            .then(async tags => {\n              let tagsIn = [];\n              let tagsOut = [];\n              let itemsWall = tags.response.items;\n              let tags_obj = this.state.data.filter(element => { if(element.body.split('@')[1] ===  screenName) { return true; }});\n              let tags_name = tags_obj.map(e => { return e.body});\n              console.log(tags_name);\n              itemsWall.forEach((group) => {\n                let match = [...group.text.matchAll(/(#.*@.*)/g)];\n                if (match.length) {\n                  if (match.length > 2) {\n                    let matchOut = match[2];\n                    tagsOut.push(matchOut)\n                }\n                let matchIn = match[0];\n                tagsIn.push(matchIn)\n                }\n              });\n              tagsIn = tagsIn.map((item) => \n                item[0]\n              )\n              tagsIn = tagsIn.filter((v,i) => tagsIn.indexOf(v) === i)\n              tagsOut = tagsOut.map((item) => \n                item[0]\n              )\n              tagsOut = tagsOut.filter((v,i) => tagsOut.indexOf(v) === i)\n              let obj = {\n                name:name,\n                id:id,\n                groupId:data.response[0].id, \n                from:tagsOut.map((item) => {\n                  return {\n                    tag: item,\n                    checked: tags_name.indexOf(item) !== -1\n                  }\n                }),\n                to:tagsIn.map((item) => {\n                  return {\n                    tag: item,\n                    checked: tags_name.indexOf(item) !== -1\n                  }\n                })\n              }\n              this.props.onChangeGroups('obj', obj);\n              this.props.openModal('subscribeCities');\n              this.props.setPopout(null);\n\n            })\n            .catch((err) => {this.props.setPopout(null); console.log(err)})\n          })\n          .catch((err) => {this.props.setPopout(null); console.log(err)})\n        })\n        .catch((err) => {this.props.setPopout(null); console.log(err)})\n      }\n    })\n    .catch(() => this.props.setPopout(null))\n  }\n\n  render() {\n    const {\n      data\n    } = this.state\n    return (\n      <Group>\n        {this.state.data === 'error' ? <Placeholder>Ошибка интернет-соеденения</Placeholder>:\n        data && (\n        <div>\n          {data.length === 0 ? <Placeholder>У вас нет подписок.</Placeholder>:\n        <List>\n          {\n            \n              data.map((item, i) =>\n                <div key={i}>\n                  <RichCell\n                    onClick={() => this.openMenu(item, i)}\n                    text={item.group_name}\n                    caption={\n                      \"Куда: \"+item.body.split(\"#\")[1].split(\"@\")[0]\n                    }\n                    after={\n                      <div>\n                        <Link>\n                          <Icon28EditOutline />\n                        </Link><br /><br />\n                        <Link>\n                          <Icon28DeleteOutlineAndroid />\n                        </Link>\n                      </div>\n                    }\n                  >\n                    {item.category}\n                  </RichCell>\n                  <Separator />\n                </div>\n              )\n            \n          }\n        </List>\n        }\n        </div>\n        )\n      }\n      {this.state.snackbar}\n      </Group>\n    )\n  }\n}\n\nexport default MyGroups\n","import React, { Component } from 'react'\nimport SnackbarError from './SnackbarError';\nimport { Group, ScreenSpinner, CardGrid, Card, Div, Button, Alert, Placeholder } from '@vkontakte/vkui'\n\nconst SEASONS_TRANSCRIPTION = {\n  'all': 'любое',\n  'winter': 'зима',\n  'spring': 'весна',\n  'summer': 'лето',\n  'fall': 'осень',\n};\nconst MONTHS_TRANSCRIPTION = {\n  0: 'любой',\n  1: 'январь', 2: 'февраль', 3: 'март', 4: 'апрель',\n  5: 'май', 6: 'июнь', 7: 'июль', 8: 'август',\n  9: 'сентябрь', 10: 'октябрь', 11: 'ноябрь', 12: 'декабрь',\n};\n\nconst CONTINENTS = {\n  'random': 'любая',\n  'E': 'Европа',\n  'F': 'Африка',\n  'O': 'Океания',\n  'A': 'Азия',\n  'S': 'Южная Америка',\n  'N': 'Северная Америка',\n};\n\nconst PASSENGERS = {\n  url: \"1 пассажир, экономкласс\",\n  url1Business: \"1 пассажир, бизнес-класс\",\n  url2Passengers: \"2 пассажира, экономкласс\",\n  urlForma: \"открытая редактируемая форма поиска\"\n}\n\nconst CURRENCY = {\n  AZN: \"манат\",\n  BYN: \"беларусский рубль\",\n  CNY: \"юань\",\n  EUR: \"евро\",\n  KGS: \"сом\",\n  KZT: \"тенге \",\n  RUB: \"рубль \",\n  THB: \"бат\",\n  UAH: \"гривна\",\n  USD: \"доллар\",\n  UZS: \"сум\"\n}\n\nconst CURRENCY1 = {\n  AZN: \"манат\",\n  BYN: \"беларусских рублей\",\n  CNY: \"юань\",\n  EUR: \"евро\",\n  KGS: \"сом\",\n  KZT: \"тенге \",\n  RUB: \"рублей\",\n  THB: \"бат\",\n  UAH: \"гривна\",\n  USD: \"доллар\",\n  UZS: \"сум\"\n}\n\nconst LANGUAGES = {\n  de: \"немецкий\",\n  en: \"английский\",\n  es: \"испанский\",\n  fr: \"французский\",\n  it: \"итальянский\",\n  ru: \"русский\",\n  th: \"тайский\",\n  tr: \"турецкий\"\n}\n\nexport class MyDB extends Component {\n  state = {\n    snackbar:null\n  }\n\n  componentDidMount() {\n    this.props.setPopout(<ScreenSpinner />)\n    fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-requests\", {\n      \"headers\": {\n        \"accept\": \"*/*\",\n        \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n        \"content-type\": \"application/json;charset=utf-8\",\n      },\n      \"body\": JSON.stringify({\n        user_id: String(this.props.state.user.id)\n      }),\n      \"method\": \"POST\",\n    })\n    .then(response => response.json())\n    .then(data => {\n      this.setState({ data: data.requests })\n      this.props.setPopout(null)\n    }).catch(err => {\n      this.props.setPopout(null)\n      this.setState({snackbar:<SnackbarError close={() => this.setState({snackbar:null})}/>, data:'error'})\n    })\n  }\n\n  openAlert = (request_id, i) => {\n    console.log(request_id)\n      this.props.setPopout(\n        <Alert\n        actions={[{\n          title: 'Нет',\n          autoclose: true,\n          mode: 'cancel'\n        }, {\n          title: 'Да',\n          autoclose: true,\n          mode: 'destructive',\n          action: () => this.delete(request_id, i),\n        }]}\n        onClose={() => this.props.setPopout(null)}>\n          <h1>Удалить?</h1>\n        </Alert>\n      )\n  }\n\n  delete = (request_id, i) => {\n    this.props.setPopout(<ScreenSpinner />);\n    fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/delete-request\", {\n      \"headers\": {\n        \"accept\": \"*/*\",\n        \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n        \"content-type\": \"application/json;charset=utf-8\",\n      },\n      \"referrer\": \"https://appvk.flights.ru/\",\n      \"referrerPolicy\": \"no-referrer-when-downgrade\",\n      \"body\": JSON.stringify({request_id:request_id}),\n      \"method\": \"POST\",\n    })\n    .then(response => response.json())\n    .then(check => {\n      if(check.response === 'ok'){\n        let remove = this.state.data.splice(i, 1);\n\n        this.props.setPopout(null);\n      }\n    })\n  }\n\n  edit = (obj) => {\n    let data = JSON.parse(obj.output);\n    this.props.onChange(data.countrySrc,data.citySrc,data.countryDst,data.cityDst, obj.id);\n    this.props.changeDefaultName('form');\n    setTimeout(() => this.props.changeFunction(data), 200);\n    setTimeout(() => this.props.go('edit-settings'), 500);\n    \n  }\n  \n\n  render() {\n    const {\n      data\n    } = this.state\n    return (\n      <div>\n        {\n          data &&        \n          <div>\n          {data === 'error' ? <Placeholder>Ошибка интернет-соеденения</Placeholder> :\n          <div>\n            {data.length === 0 ? <Placeholder>У вас нет подписок.</Placeholder>:\n          (\n            data.map((item, index) => \n            <Group separator=\"hide\" key={index}>\n              <CardGrid>\n                <Card size=\"l\" mode=\"shadow\">\n                  <Div style={{ padding: '20px', lineHeight: 1.5 }}>\n                    Из страны <b>{\n                      JSON.parse(item.output).countrySrc ? JSON.parse(item.output).countrySrc : \"любая\"\n                    }</b> и города <b>{JSON.parse(item.output).citySrc ? JSON.parse(item.output).citySrc : \"любой\"}</b><br />\n                    В часть света <b>{CONTINENTS[JSON.parse(item.output).continentDst]}</b> и страну <b>{JSON.parse(item.output).countryDst ? JSON.parse(item.output).countryDst : \"любая\"}</b><br />\n                    В город <b>{JSON.parse(item.output).cityDst ? JSON.parse(item.output).cityDst : \"любой\"}</b><br />\n                    Направление полетов - <b>{JSON.parse(item.output).forward ? \"туда\" : \"туда-обратно\"}</b><br />\n                    {\n                      JSON.parse(item.output).dates.map((item, i) => \n                        <div key={i}>\n                          Год вылета ({i+1}) <b>{item.year}</b><br />\n                          Время года ({i+1}) <b>{SEASONS_TRANSCRIPTION[item.season]}</b><br />\n                          Месяц ({i+1}) <b>{MONTHS_TRANSCRIPTION[item.month]}</b><br />\n                        </div>    \n                      )\n                    }<br />\n                    Пассажиры <b>{PASSENGERS[JSON.parse(item.output).passengers]}</b><br />\n                    Цена от <b>{JSON.parse(item.output).costMin}</b> до <b>{JSON.parse(item.output).costMax}</b> {CURRENCY1[JSON.parse(item.output).currency]}<br />\n\n                    Период показа <b>{JSON.parse(item.output).interval}</b> минут<br />\n                    Глубина поиска <b>{JSON.parse(item.output).updated}</b> минут<br />\n                    Максимальное количество билетов за 24 часа <b>{JSON.parse(item.output).limit === \"0\" ? \"все\" : JSON.parse(item.output).limit}</b><br />\n                    Язык (туда-обратно) <b>{LANGUAGES[JSON.parse(item.output).language]}</b><br />\n                    Валюта (цена) <b>{CURRENCY[JSON.parse(item.output).currency]}</b><br />\n                    Валюта (метапоисковика) <b>{CURRENCY[JSON.parse(item.output).currencyForUrl]}</b><br />\n                    {\n                      JSON.parse(item.output).optional && (\n                        <div><br />\n                          <div style={{ color: 'var(--tabbar_inactive_icon)' }}>Дополнительные параметры</div>\n                          {\n                            JSON.parse(item.output).profitability && (\"Выгодность покупки больше \")\n                          }\n                          {\n                            JSON.parse(item.output).profitability && \n                            <b>{JSON.parse(item.output).profitability+\"%\"}</b>\n                          }<br />\n                          Дни недели вылета <b>{\n                            ((days) => {\n                              const daysOfWeek = [\n                                \"вс\",\n                                \"пн\",\n                                \"вт\",\n                                \"ср\",\n                                \"чт\",\n                                \"пт\",\n                                \"сб\"\n                              ]\n                              let check = 0;\n                              days.every((element, index, array) => {\n                                  check++;\n                                  return element === true;\n                              });\n                              if (check === 7) {\n                                  return 'все';\n                              }\n                              let res = '';\n                              for (let index = 1; index < days.length; index++) {\n                                  if (days[index]) {\n                                      res += daysOfWeek[index].toLowerCase() + ', ';\n                                  }\n                              }\n                              res += daysOfWeek[0].toLowerCase();\n                              return res;\n                            })(JSON.parse(item.output).days)\n                          }</b><br />\n                          {\n                            JSON.parse(item.output).showAddionalWeather && (\n                              <div>\n                                Прогноз погоды в день прилета<br />\n                                Днем от <b>{JSON.parse(item.output)['dayTemp.min']}</b> С до <b>{JSON.parse(item.output)['dayTemp.max']}</b> С<br />\n                                Ночью от <b>{JSON.parse(item.output)['nightTemp.min']}</b> С до <b>{JSON.parse(item.output)['nightTemp.max']}</b> С<br />\n                              </div>\n                            )\n                          }\n                        </div>\n                      )\n                    }\n                  </Div>\n                  <Div>\n                    <Button\n                      onClick={() => this.edit(item)}\n                      size=\"xl\"\n                    >\n                      Редактировать\n                    </Button><br />\n                    <Button\n                      onClick={() => this.openAlert(item.id, index)}\n                      size=\"xl\"\n                      mode=\"destructive\"\n                    >\n                      Удалить\n                    </Button>\n                  </Div>\n                </Card>\n              </CardGrid>\n            </Group>\n            )\n          )\n            }\n          </div>\n         }\n         </div> \n        }\n        {this.state.snackbar}\n      </div>\n    )\n  }\n}\n\nexport default MyDB\n","import React, { Component } from 'react'\nimport { Panel, PanelHeader, FixedLayout, Tabs, TabsItem } from '@vkontakte/vkui'\nimport MyGroups from '../components/MyGroups'\nimport MyDB from '../components/MyDB'\n\nexport class MySubs extends Component {\n  state = {\n    activeTab: 'groups',\n  }\n\n  render() {\n    const {\n      activeTab\n    } = this.state\n    const {\n      id,\n      state\n    } = this.props\n    return (\n      <Panel id={id}>\n        <PanelHeader>Мои подписки</PanelHeader>\n        <FixedLayout vertical=\"top\">\n          <Tabs>\n            <TabsItem\n              selected={activeTab === 'groups'}\n              onClick={() => this.setState({ activeTab: 'groups' })}\n            >Сообщества</TabsItem>\n            <TabsItem\n              selected={activeTab === 'database'}\n              onClick={() => this.setState({ activeTab: 'database' })}\n            >База данных</TabsItem>\n          </Tabs>\n        </FixedLayout>\n        <div style={{ marginTop: '60px' }} />\n        {\n          activeTab === 'groups' ? \n            <MyGroups\n              setPopout={this.props.setPopout}\n              onChangeGroups={this.props.onChangeGroups}\n              openModal={this.props.openModal}\n              state={state}\n            />\n          :\n            <MyDB\n              setPopout={this.props.setPopout}\n              state={state}\n              onChange={this.props.onChange}\n              go={this.props.go}\n              changeDefaultName={this.props.changeDefaultName}\n              changeFunction={this.props.changeFunction}\n            />\n        }\n      </Panel>\n    )\n  }\n}\n\nexport default MySubs\n","import React, { Component } from 'react'\nimport { Panel, PanelHeader, Placeholder, Button, RichCell, Avatar, ScreenSpinner } from '@vkontakte/vkui'\nimport Icon56UsersOutline from '@vkontakte/icons/dist/56/users_outline';\nimport bridge from '@vkontakte/vk-bridge'\nimport SnackbarError from '../components/SnackbarError';\n\nexport class Friends extends Component {\n  state = {\n    friends: null,\n    snackbar:null\n  }\n\n  componentDidMount() {\n    this.getFriends()\n  }\n  \n  getFriends = () => {\n    this.props.setPopout(<ScreenSpinner />)\n    bridge.sendPromise(\"VKWebAppGetAuthToken\", {\n      app_id: this.props.state.appId,\n      scope: \"friends\"\n    })\n    .then(data => {\n      if(data.access_token){\n        if(data.scope === \"friends\"){\n          bridge.sendPromise(\"VKWebAppCallAPIMethod\", {\n            method: \"friends.get\",\n            params: {\n              access_token: data.access_token,\n              fields: \"city,photo_50\",\n              v: 5.107\n            },\n            request_id: '3'\n          })\n          .then(data => {\n            if(data.response.items){\n              this.setState({\n                friends: data.response.items.filter((item) => item.city).filter((item) => \n                  item.city.id !== this.props.state.user.city.id && item.city.title !== this.props.state.city_\n                )\n              })\n              this.props.setPopout(null)\n            }else{\n              this.props.setPopout(null)\n            }\n          })\n          .catch(() => this.props.setPopout(null))\n        }else{\n          this.props.setPopout(null)\n        }\n      }else{\n        this.props.setPopout(null)\n      }\n    })\n    .catch(() => this.props.setPopout(null))\n  }\n\n   isEmpty(obj) {\n    for (let key in obj) {\n      return false;\n    }\n    return true;\n  }\n\n  getPrice = (e) => {\n    this.props.setPopout(<ScreenSpinner />)\n    const city = e.currentTarget.id.split(\"_\")[1]\n    const id = e.currentTarget.id.split(\"_\")[0]\n    fetch(\"https://cors-anywhere.herokuapp.com/https://api.travelpayouts.com/data/ru/cities.json\")\n    .then(response => response.json())\n    .then(cities => {\n      let myCode = cities.filter((item) => item.name === this.props.state.user.city.title)[0].code\n      if(this.props.state.city_ == null) \n        myCode = cities.filter((item) => item.name === this.props.state.user.city.title)[0].code\n      else\n        myCode = cities.filter((item) => item.name === this.props.state.city_)[0].code\n      const friendCode = cities.filter((item) => item.name === city)[0].code\n      fetch(`https://cors-anywhere.herokuapp.com/https://api.travelpayouts.com/v1/prices/calendar?&origin=${myCode}&destination=${friendCode}&calendar_type=departure_date&token=d378bb3f3b879e6fc87899314ba5ce5d`)\n      .then(response => response.json())\n      .then(data => {\n        console.log(data);\n        if(this.isEmpty(data.data)) {\n          this.props.changeDefaultName(\"city_\")\n          this.props.changeDefault(\"Город вылета\")\n          this.props.go(\"chooseCity\");\n        }\n        let indexPrice = Object.keys(data.data)[0]\n        if(Object.keys(data.data).length > 3){\n          indexPrice = Object.keys(data.data)[3]\n        }\n        this.setState({\n          friends: this.state.friends.map((item) => {\n            if(item.id === parseInt(id, 10)){\n              item.price = (data.data[indexPrice].price + \" \" + data.currency)\n            }\n            return item\n          })\n        })\n        this.props.setPopout(null)\n      }).catch(err => {\n        this.props.setPopout(null)\n        this.setState({snackbar:<SnackbarError text={\"Не нашли цену билета к этому другу :(\"} close={() => this.setState({snackbar:null})}/>})\n      })\n    }).catch(err => {\n      this.props.setPopout(null)\n      this.setState({snackbar:<SnackbarError close={() => this.setState({snackbar:null})}/>})\n    })\n  }\n\n  render() {\n    const {\n      id\n    } = this.props\n    const {\n      friends\n    } = this.state\n    return (\n      <Panel id={id}>\n        <PanelHeader>Друзья</PanelHeader>\n        {\n          friends ? \n          friends.map((item) => \n            <RichCell\n              key={item.id}\n              actions={\n                <React.Fragment>\n                  <Button\n                    id={item.id+\"_\"+item.city.title}\n                    onClick={this.getPrice}\n                  >\n                    {\n                      item.price ? item.price : \"Показать цену\"\n                    }\n                  </Button>\n                </React.Fragment>\n              }\n              text={item.city.title}\n              before={<Avatar src={item.photo_50}/>}\n            >\n              {item.first_name+\" \"+item.last_name}\n            </RichCell>\n          )\n          :\n          <Placeholder\n            icon={<Icon56UsersOutline />}\n            header=\"Друзья\"\n            action={<Button onClick={this.getFriends} size=\"l\">Показать список</Button>}\n          >\n            Чтобы получить список к друзьям, вам нужно предоставить доступ приложению.\n          </Placeholder>\n        }\n        {this.state.snackbar}\n      </Panel>\n    )\n  }\n}\n\nexport default Friends\n","import React, { Component } from 'react'\nimport SnackbarError from '../components/SnackbarError'; \nimport { Panel, PanelHeader, FormLayout, Header, Input, Select, Checkbox, Button, Div, RangeSlider, SelectMimicry, ScreenSpinner, SimpleCell, Cell, Switch } from '@vkontakte/vkui'\nimport Icon28AddCircleOutline from '@vkontakte/icons/dist/28/add_circle_outline';\nimport Icon28CancelCircleOutline from '@vkontakte/icons/dist/28/cancel_circle_outline';\n\nconst SEASONS_TRANSCRIPTION = {\n  'all': 'любое',\n  'winter': 'зима',\n  'spring': 'весна',\n  'summer': 'лето',\n  'fall': 'осень',\n};\n\nconst MONTHS_TRANSCRIPTION = {\n  0: 'любой',\n  1: 'январь', 2: 'февраль', 3: 'март', 4: 'апрель',\n  5: 'май', 6: 'июнь', 7: 'июль', 8: 'август',\n  9: 'сентябрь', 10: 'октябрь', 11: 'ноябрь', 12: 'декабрь',\n};\n\nconst CONTINENT_DST = {\n  all:\"Любая\",\n  E:'Европа',\n  F:\"Африка\",\n  D:'Океания',\n  A:\"Азия\",\n  S:\"Южная Америка\",\n  N:\"Северная Америка\"\n}\n\nconst LANGUAGES = {\n  de: \"немецкий\",\n  en: \"английский\",\n  es: \"испанский\",\n  fr: \"французский\",\n  it: \"итальянский\",\n  ru: \"русский\",\n  th: \"тайский\",\n  tr: \"турецкий\"\n}\n\nconst CURRENCY = {\n  AZN: \"манат\",\n  BYN: \"беларусский рубль\",\n  CNY: \"юань\",\n  EUR: \"евро\",\n  KGS: \"сом\",\n  KZT: \"тенге\",\n  RUB: \"рубль\",\n  THB: \"бат\",\n  UAH: \"гривна\",\n  USD: \"доллар\",\n  UZS: \"сум\"\n}\n\nconst PASSENGERS = {\n  url: \"1 пассажир, экономкласс\",\n  url1Business: \"1 пассажир, бизнес-класс\",\n  url2Passengers: \"2 пассажира, экономкласс\",\n  urlForma: \"открытая редактируемая форма поиска\"\n}\n\nexport class Settings extends Component {\n  state = {\n    updated: \"60\",\n    interval: \"60\",\n    limit: \"0\",\n    datesCnt: [{\n      year: (new Date()).getFullYear(),\n      season: 'all',\n      month: '0'\n    }],\n    language: 'ru',\n    dual: true,\n    forward: true,\n    profitability:30,\n    currency: 'RUB',\n    currencyForUrl: 'RUB',\n    passengers:'url',\n    randomCost:true,\n    costMin: 100,\n    costMax: 500000,\n    dayTempMin:-50,\n    dayTempMax:50,\n    interval:'60',\n    nighTempMin:-50,\n    nighTempMax:50,\n    days:[true, true, true, true, true, true, true],\n    allDays:true,\n    snackbar:null\n  }\n\n\n  onChange = e => {\n    \n    this.setState({\n      [e.currentTarget.name]: e.currentTarget.value\n    })\n  }\n\n  onChangeCheck = (e) => {\n    this.setState({\n      [e.currentTarget.name]: e.currentTarget.checked\n    })\n  }\n\n  onChangeFrom = e => {\n    const { datesCnt } = this.state\n    datesCnt[parseInt(e.currentTarget.id, 10)][e.currentTarget.name] = e.currentTarget.value\n    this.setState({\n      datesCnt\n    })\n  }\n\n  addFrom = () => {\n    const { datesCnt } = this.state\n    datesCnt.push({\n      yearSrc: (new Date()).getFullYear(),\n      seasonSrc: SEASONS_TRANSCRIPTION['all'],\n      monthSrc: MONTHS_TRANSCRIPTION['0']\n    })\n    this.setState({\n      datesCnt\n    })\n  }\n\n  removeFrom = () => {\n    const { datesCnt } = this.state\n    this.setState({\n      datesCnt: datesCnt.splice(0, datesCnt.length-1)\n    })\n  }\n\n  onChangeDays = (e) => {\n    console.log(e.currentTarget.name);\n    if(e.currentTarget.name == 'all') {\n      this.setState({ allDays:!this.state.allDays});\n    }else{\n      //this.setState({ allDays:!this.state.allDays});\n      let bool = !this.state.days[Number(e.currentTarget.name)];\n      let days = this.state.days.splice([Number(e.currentTarget.name)], 1, bool);\n      console.log(this.state.days);\n      \n      let t = true;\n      this.state.days.forEach(e => {\n        if(!e) t = false\n      })\n      this.setState({ days:this.state.days, allDays:t });\n    }\n\n  }\n\n\n  //проверка дней все или не все\n\n  sort_res = () => { //готовим данные к отправке\n    this.props.setPopout(<ScreenSpinner />)\n    const { user, citySrc, cityDst, countryDst, countrySrc } = this.props.state;\n    const { costMax, costMin, currency,currencyForUrl,language, randomCost, dual,forward, datesCnt, profitability, dayTempMin, dayTempMax, nighTempMax, nighTempMin,passengers, updated, interval, limit } = this.state;\n    let days;\n    if(this.state.allDays) {\n      days = [true, true, true, true, true, true, true];\n    }else{\n      days = this.state.days;\n    }\n    let output = {\n      citySrc, \n      cityDst,\n      countryDst,\n      countrySrc,\n      continentDst:this.props.state.continentDst,\n      costMax, \n      costMin,\n      currency,\n      currencyForUrl, \n      language,\n      randomCost,\n      forward,\n      dual,\n      passengers,\n      updated:Number(updated),\n      limit,\n      interval,\n      optional:true,\n      dates:datesCnt,\n      showAddionalWeather:true,\n      profitability:String(profitability),\n      ['nightTemp.max']:nighTempMax,\n      ['nightTemp.min']:nighTempMin,\n      ['dayTemp.max']:dayTempMax,\n      ['dayTemp.min']:dayTempMin,\n      days\n    }\n    let obj = {\n      id:null,\n      interval:interval,\n      limit:limit,\n      updated:Number(updated),\n      user_id:user.id,\n      output:output\n    }\n    //this.save_request(obj);\n    this.props.onChangeGroups('item', obj);\n    this.props.openModal('confirm_settings');\n    this.props.setPopout(null);\n  }\n\n\n\n  render() {\n    const {\n      id\n    } = this.props\n    const {\n      datesCnt,\n      currency,\n      currencyForUrl,\n      language,\n      countrySrc,\n      citySrc,\n      countryDst,\n      cityDst,\n      continentDst,\n      randomCost,\n      costMin,\n      costMax,\n      dayTempMin,\n      dayTempMax,\n      nighTempMax,\n      nighTempMin,\n      days,\n      dual,\n      updated,\n      interval,\n      forward\n    } = this.state\n    return (\n      <Panel id={id}>\n        <PanelHeader>Настройки</PanelHeader>\n        <FormLayout>\n          <Header>Откуда</Header>\n          <SelectMimicry\n            top=\"Страна вылета\"\n            name=\"countrySrc\"\n            data-type=\"country\"\n            placeholder=\"Выберете страну\"\n            onClick={() => {\n              this.props.changeDefaultName(\"countrySrc\")\n              this.props.changeDefault(\"Страна вылета\")\n              this.props.changeDefaultText(countrySrc)\n              this.props.go(\"chooseCountry\");\n            }}\n          >{this.props.state.countrySrc}</SelectMimicry>\n          <SelectMimicry\n            top=\"Город вылета\"\n            placeholder=\"Выберете город\"\n            name=\"citySrc\"\n            disabled={this.props.state.countrySrc == null}\n            onClick={() => {\n              this.props.changeDefaultName(\"citySrc\")\n              this.props.changeDefault(\"Город вылета\")\n              this.props.changeDefaultText(citySrc)\n              this.props.go(\"chooseCity\");\n            }}\n          >{this.props.state.citySrc}</SelectMimicry>\n          <Header>Куда</Header>\n\n          <Select\n            top=\"Часть света\"\n            name=\"continentDst\"\n            onChange={(e) => {\n              this.props.onChangeGroups('continentDst', e.currentTarget.value)\n              this.props.onChangeGroups('countryDst', null)\n              this.props.onChangeGroups('cityDst', null)\n            }}\n            value={this.props.state.continentDst}\n          >\n            {\n              Object.keys(CONTINENT_DST).map((continent) => \n                <option value={continent} key={continent}>\n                  {CONTINENT_DST[continent]}\n                </option>\n              )\n            }\n          </Select>\n            {this.props.state.continentDst == null || this.props.state.continentDst == 'all' ? null :\n          <SelectMimicry\n            top=\"Страна\"\n            name=\"countryDst\"\n            placeholder=\"Выберете страну\"\n            onClick={() => {\n              this.props.changeDefaultName(\"countryDst\")\n              this.props.changeDefault(\"Страна прибытия\")\n              this.props.changeDefaultText(countryDst)\n              this.props.go(\"chooseCountryByContinent\");   \n             }          \n            }\n          >{this.props.state.countryDst == null ? 'Любая' : this.props.state.countryDst}</SelectMimicry>\n            }\n\n            {this.props.state.countryDst == null || this.props.state.continentDst == 'all' ? null :\n          <SelectMimicry\n            top=\"Город\"\n            name=\"cityDst\"\n            placeholder=\"Выберете город\"\n            onClick={() => {\n              this.props.changeDefaultName(\"cityDst\")\n              this.props.changeDefault(\"Город прибытия\")\n              this.props.changeDefaultText(cityDst)\n              this.props.go(\"chooseCity\");   \n             }          \n            }\n          >{this.props.state.cityDst == null ? \"Любой\" : this.props.state.cityDst}</SelectMimicry>\n            }\n          <Header>Интервал</Header>\n          <Select\n            top=\"Получать дешевые авиабилеты один раз в:\"\n            name=\"interval\"\n            onChange={this.onChange}\n          >\n            <option value=\"60\">Час</option>\n            <option value=\"240\">Четыре часа</option>\n            <option value=\"480\">Восемь часов</option>\n            <option value=\"1440\">24 часа</option>\n          </Select>\n\n          <Select\n            top=\"Получать информацию за крайние N, часов\"\n            name=\"updated\"\n            onChange={this.onChange}\n            defaultValue=\"60\"\n          >\n      <option value=\"60\">1 час</option>\n      {Number(interval) > 60 ? <option value=\"120\">2 часа</option> : null}\n      {Number(interval) > 60 ? <option value=\"180\">3 часа</option> : null}\n      {Number(interval) > 60 ? <option value=\"240\">4 часа</option> : null}\n      {Number(interval) > 240 ? <option value=\"240\">5 часов</option> : null}\n      {Number(interval) > 240 ? <option value=\"240\">6 часов</option> : null}\n      {Number(interval) > 240 ? <option value=\"240\">7 часов</option> : null}\n      {Number(interval) > 240 ? <option value=\"240\">8 часов</option> : null}\n      </Select>\n\n          <Header>Количество</Header>\n          <Select\n            top=\"Сколько дешевых авиабилетов показывать в сутки?\"\n            name=\"limit\"\n            defaultValue=\"0\"\n          >\n            <option value=\"0\">Все</option>\n            <option value=\"20\">20</option>\n            <option value=\"50\">50</option>\n            <option value=\"100\">100</option>\n            <option value=\"300\">300</option>\n          </Select>\n          <Header>Полеты</Header>\n          <Checkbox name=\"forward\" onChange={this.onChangeCheck} checked={forward}>Туда</Checkbox>\n          <Checkbox name=\"dual\" onChange={this.onChangeCheck} checked={dual}>Туда-обратно</Checkbox>\n          <Header>Когда</Header>\n          {\n            datesCnt && (\n              datesCnt.map((item, i) => \n                <FormLayout key={i}>\n                  <Select\n                    top={`Год вылета (${i+1})`}\n                    name=\"year\"\n                    id={i}\n                    onChange={this.onChangeFrom}\n                    value={item.year}\n                  >\n                    {\n                      Array.from(Array(31).keys()).map((year) => \n                        <option key={year} value={(new Date()).getFullYear()+year}>\n                          {(new Date()).getFullYear()+year}\n                        </option>\n                      )\n                    }\n                  </Select>\n                  <Select\n                    top={`Время года (${i+1})`}\n                    name=\"season\"\n                    id={i}\n                    onChange={this.onChangeFrom}\n                    value={item.season}\n                  >\n                    {\n                      Object.keys(SEASONS_TRANSCRIPTION).filter((e) => {\n                        let s = e;\n                        let m = new Date().getMonth()+1;\n                      if(new Date().getFullYear() == item.year) {\n                        if(s == 'all') \n                          return s;\n                        if(s == 'winter' && m <= 12)\n                          return s;\n                        if(s == 'spring' && m <= 5) \n                          return s;\n                        if(s == 'summer' && m <= 8) \n                          return s;\n                        if(s == 'fall' && m <= 11)\n                          return s;\n                      }else return e;\n                      }).map((season) => \n                        <option value={season} key={season}>\n                          {SEASONS_TRANSCRIPTION[season]}\n                        </option>\n                      )\n                    }\n                  </Select>\n                  <Select\n                    top={`Месяц года (${i+1})`}\n                    name=\"month\"\n                    id={i}\n                    onChange={this.onChangeFrom}\n                    value={item.month}\n                  >\n                    {\n                      Object.keys(MONTHS_TRANSCRIPTION).filter((n) => {\n                        let m = new Date().getMonth()+1;\n                       if(new Date().getFullYear() == item.year) { \n                        switch(item.season) {\n                          case 'all': \n                            return n;\n                          break;\n\n                          case 'winter':\n                            if((n == 12 && m <= n) || (n == 1 && m <= n) || (n == 2 && m <= n)) {\n                              return n;\n                            }\n                          break;  \n                          case 'summer':\n                            if((n == 6 && m <= n) || (n == 7 && m <= n) || (n == 8 && m <= n)) {\n                              return n;\n                            }\n                          break;  \n                          case 'fall':\n                            if((n == 9 && n >= m) || (n == 10 && n >= m) || (n == 11 && n >= m)) {\n                              return n;\n                            }\n                          break; \n\n                          case 'spring':\n                            if((n == 3 && n >= m) || (n == 4 && n >= m) || (n == 5 && n >= m)) {\n                              return n;\n                            }\n                          break;  \n                        }\n                      }else{\n                        switch(item.season) {\n                          case 'all': \n                            return n;\n                          break;\n\n                          case 'winter':\n                            if((n == 12 ) || (n == 1) || (n == 2)) {\n                              return n;\n                            }\n                          break;  \n                          case 'summer':\n                            if((n == 6 ) || (n == 7) || (n == 8)) {\n                              return n;\n                            }\n                          break;  \n                          case 'fall':\n                            if((n == 9) || (n == 10) || (n == 11)) {\n                              return n;\n                            }\n                          break; \n\n                          case 'spring':\n                            if((n == 3 ) || (n == 4 ) || (n == 5)) {\n                              return n;\n                            }\n                          break;  \n                        }\n                      }\n                      }).map((month) => \n                        <option value={month} key={month}>\n                          {MONTHS_TRANSCRIPTION[month]}\n                        </option>\n                      )\n                    }\n                  </Select>\n                </FormLayout>\n              )\n            )\n          }\n          {\n            datesCnt.length > 1\n          }\n          <Div style={{ display: 'flex' }}>\n            {\n              datesCnt.length < 3 && (\n                <Button\n                  size=\"l\"\n                  onClick={this.addFrom}\n                >\n                  <Icon28AddCircleOutline />\n                </Button>\n              )\n            }\n            {\n              datesCnt.length > 1 && (\n                <Button\n                  size=\"l\"\n                  mode=\"destructive\"\n                  onClick={this.removeFrom}\n                >\n                  <Icon28CancelCircleOutline color=\"rgb(255, 26, 0)\" />\n                </Button>\n              )\n            }\n          </Div>\n          <Select\n            top=\"Язык\"\n            name=\"language\"\n            onChange={this.onChange}\n            value={language}\n          >\n            {\n              Object.keys(LANGUAGES).map((language) => \n                <option value={language} key={language}>\n                  {LANGUAGES[language]}\n                </option>\n              )\n            }\n          </Select>\n          <Select\n            top=\"Валюта\"\n            name=\"currency\"\n            onChange={this.onChange}\n            value={currency}\n          >\n            {\n              Object.keys(CURRENCY).map((currency) => \n                <option value={currency} key={currency}>\n                  {CURRENCY[currency]}\n                </option>\n              )\n            }\n          </Select>\n          <Select\n            top=\"Валюта метапоисковика\"\n            name=\"currencyForUrl\"\n            onChange={this.onChange}\n            value={currencyForUrl}\n          >\n            {\n              Object.keys(CURRENCY).map((currency) => \n                <option value={currency} key={currency}>\n                  {CURRENCY[currency]}\n                </option>\n              )\n            }\n          </Select>\n          <Select\n            top=\"Пассажиры\"\n            name=\"passengers\"\n            onChange={this.onChange}\n          >\n            {\n              Object.keys(PASSENGERS).map((passengers) => \n                <option value={passengers} key={passengers}>\n                  {PASSENGERS[passengers]}\n                </option>\n              )\n            }\n          </Select>\n          <Header>Стоимость, {currency}</Header>\n          <Checkbox\n            checked={randomCost}\n            onChange={(e) => {\n              this.setState({\n                randomCost: e.currentTarget.checked\n              })\n            }}\n          >\n            Любая\n          </Checkbox>\n          <RangeSlider\n            top={costMin + \" - \" + costMax}\n            min={100}\n            max={500000}\n            step={100}\n            defaultValue={[100, 500000]}\n            value={[costMin, costMax]}\n            onChange={(value) => {\n              this.setState({\n                costMin: value[0],\n                costMax: value[1],\n                randomCost: false\n              })\n            }}\n          />\n          <Div style={{ display: 'flex' }}>\n            <Input\n              onFocus={() => {\n                console.log('focus')\n              }}\n              value={costMin}\n              type=\"number\"\n              onChange={(e) => {\n                const value = parseInt(e.currentTarget.value, 10)\n                if(value){\n                  if(value < costMax && value > 100){\n                    this.setState({ costMin: value })\n                  }\n                }\n              }}\n            />\n            <Input\n              value={costMax}\n              type=\"number\"\n              onChange={(e) => {\n                const value = parseInt(e.currentTarget.value, 10)\n                if(value){\n                  if(value > costMin && value < 500000){\n                    this.setState({ costMax: value })\n                  }\n                }\n              }}\n            />\n          </Div>\n          <Header>Дополнительные параметры</Header>\n          <Select name='profitability' onChange={this.onChange} top=\"Показывать авиабилеты только с выгодой больше, %\">\n            <option>30</option>\n            <option>40</option>\n            <option>50</option>\n            <option>60</option>\n            <option>70</option>\n            <option>80</option>\n            <option>90</option>\n          </Select>\n          <Header>Вылеты в определенные дни недели</Header>\n            <Cell indicator={<Checkbox checked={this.state.allDays} name='all' onChange={this.onChangeDays}/>}>Любой</Cell>\n            <Div style={{marginTop:-20}}>\n              <Cell indicator={<Checkbox style={{ padding:0}} name='0' onChange={this.onChangeDays} checked={days[0] || this.state.allDays} />}>Понедельник</Cell>\n              <Cell indicator={<Checkbox style={{ padding:0}} name='1' onChange={this.onChangeDays} checked={days[1] || this.state.allDays}/>} >Вторник</Cell>\n              <Cell indicator={<Checkbox style={{ padding:0}} name='2' onChange={this.onChangeDays} checked={days[2] || this.state.allDays}/>}>Среда</Cell>\n              <Cell indicator={<Checkbox style={{ padding:0}} name='3' onChange={this.onChangeDays} checked={days[3] || this.state.allDays}/>}>Четверг</Cell>\n              <Cell indicator={<Checkbox style={{ padding:0}} name='4' onChange={this.onChangeDays} checked={days[4] || this.state.allDays}/>}>Пятница</Cell>\n              <Cell indicator={<Checkbox style={{ padding:0}} name='5' onChange={this.onChangeDays} checked={days[5] || this.state.allDays}/>}>Суббота</Cell>\n              <Cell indicator={<Checkbox style={{ padding:0}} name='6' onChange={this.onChangeDays} checked={days[6] || this.state.allDays}/>}>Воскресенье</Cell>\n            </Div>\n          <Header>Погода</Header>\n          <RangeSlider\n            top=\"Температура воздуха днем в день прилета\"\n            bottom={\"От \" + dayTempMin + \" до \" + dayTempMax}\n            min={-50}\n            max={50}\n            step={1}\n            defaultValue={[-50, 50]}\n            value={[dayTempMin, dayTempMax]}\n            onChange={(value) => {\n              this.setState({\n                dayTempMin: value[0],\n                dayTempMax: value[1],\n                randomCost: false\n              })\n            }}\n          />\n          <RangeSlider\n            top=\"Температура воздуха ночью в день прилета\"\n            bottom={\"От\" + nighTempMin + \" до \" + nighTempMax}\n            min={-50}\n            max={50}\n            step={1}\n            defaultValue={[-50, 50]}\n            value={[nighTempMin, nighTempMax]}\n            onChange={(value) => {\n              this.setState({\n                nighTempMin: value[0],\n                nighTempMax: value[1],\n                randomCost: false\n              })\n            }}\n          />\n          <Button mode='primary' size='xl' onClick={this.sort_res}>Применить</Button>\n        </FormLayout>\n        {this.state.snackbar}\n      </Panel>\n    )\n  }\n}\n\nexport default Settings \n","\r\nimport React, { Component } from 'react'\r\nimport SnackbarError from '../components/SnackbarError'; \r\nimport { Panel, PanelHeader, FormLayout, Header, Input, Select, Checkbox, Button, Div, RangeSlider, SelectMimicry, ScreenSpinner, SimpleCell, Cell, Switch, PanelHeaderBack } from '@vkontakte/vkui'\r\nimport Icon28AddCircleOutline from '@vkontakte/icons/dist/28/add_circle_outline';\r\nimport Icon28CancelCircleOutline from '@vkontakte/icons/dist/28/cancel_circle_outline';\r\n\r\nconst SEASONS_TRANSCRIPTION = {\r\n  'all': 'любое',\r\n  'winter': 'зима',\r\n  'spring': 'весна',\r\n  'summer': 'лето',\r\n  'fall': 'осень',\r\n};\r\n\r\nconst MONTHS_TRANSCRIPTION = {\r\n  0: 'любой',\r\n  1: 'январь', 2: 'февраль', 3: 'март', 4: 'апрель',\r\n  5: 'май', 6: 'июнь', 7: 'июль', 8: 'август',\r\n  9: 'сентябрь', 10: 'октябрь', 11: 'ноябрь', 12: 'декабрь',\r\n};\r\n\r\nconst CONTINENT_DST = {\r\n  A:\"Любая\",\r\n  B:'Европа',\r\n  C:\"Африка\",\r\n  D:'Океания',\r\n  E:\"Азия\",\r\n  F:\"Южная Америка\",\r\n  D:\"Северная Америка\"\r\n}\r\n\r\nconst LANGUAGES = {\r\n  de: \"немецкий\",\r\n  en: \"английский\",\r\n  es: \"испанский\",\r\n  fr: \"французский\",\r\n  it: \"итальянский\",\r\n  ru: \"русский\",\r\n  th: \"тайский\",\r\n  tr: \"турецкий\"\r\n}\r\n\r\nconst CURRENCY = {\r\n  AZN: \"манат\",\r\n  BYN: \"беларусский рубль\",\r\n  CNY: \"юань\",\r\n  EUR: \"евро\",\r\n  KGS: \"сом\",\r\n  KZT: \"тенге\",\r\n  RUB: \"рубль\",\r\n  THB: \"бат\",\r\n  UAH: \"гривна\",\r\n  USD: \"доллар\",\r\n  UZS: \"сум\"\r\n}\r\n\r\nconst PASSENGERS = {\r\n  url: \"1 пассажир, экономкласс\",\r\n  url1Business: \"1 пассажир, бизнес-класс\",\r\n  url2Passengers: \"2 пассажира, экономкласс\",\r\n  urlForma: \"открытая редактируемая форма поиска\"\r\n}\r\n\r\nexport class EditSettings extends Component {\r\n\r\n  state = {\r\n    updated: \"60\",\r\n    limit: \"0\",\r\n    datesCnt: [{\r\n      year: (new Date()).getFullYear(),\r\n      season: 'all',\r\n      month: '0'\r\n    }],\r\n    language: this.props.state.form.language,\r\n    profitability:this.props.state.form.profitability,\r\n    currency: this.props.state.form.currency,\r\n    currencyForUrl: this.props.state.form.currencyForUrl,\r\n    passengers:this.props.state.form.passengers,\r\n    randomCost:this.props.state.form.randomCost,\r\n    costMin: this.props.state.form.costMin,\r\n    costMax: this.props.state.form.costMax,\r\n    dayTempMin: this.props.state.form['dayTemp.min'],\r\n    dayTempMax: this.props.state.form['dayTemp.max'],\r\n    interval: this.props.state.form.interval,\r\n    nighTempMin:this.props.state.form['nightTemp.min'],\r\n    nighTempMax:this.props.state.form['nightTemp.max'],\r\n    dual:this.props.state.form.dual,\r\n    forward:this.props.state.form.forward,\r\n    days:this.props.state.form.days,\r\n    allDays:(this.props.state.form.days.indexOf(false) == -1 ? true : false),\r\n    snackbar:null\r\n  }\r\n\r\n  componentDidMount() {\r\n      console.log(this.props.state);\r\n  }\r\n\r\n\r\n  onChange = e => {\r\n    this.setState({\r\n      [e.currentTarget.name]: e.currentTarget.value\r\n    })\r\n  }\r\n\r\n  onChangeFrom = e => {\r\n    const { datesCnt } = this.state\r\n    datesCnt[parseInt(e.currentTarget.id, 10)][e.currentTarget.name] = e.currentTarget.value\r\n    this.setState({\r\n      datesCnt\r\n    })\r\n  }\r\n\r\n  addFrom = () => {\r\n    const { datesCnt } = this.state\r\n    datesCnt.push({\r\n      yearSrc: (new Date()).getFullYear(),\r\n      seasonSrc: SEASONS_TRANSCRIPTION['all'],\r\n      monthSrc: MONTHS_TRANSCRIPTION['0']\r\n    })\r\n    this.setState({\r\n      datesCnt\r\n    })\r\n  }\r\n\r\n  removeFrom = () => {\r\n    const { datesCnt } = this.state\r\n    this.setState({\r\n      datesCnt: datesCnt.splice(0, datesCnt.length-1)\r\n    })\r\n  }\r\n\r\n  onChangeDays = (e) => {\r\n    console.log(e.currentTarget.name);\r\n    if(e.currentTarget.name == 'all') {\r\n      this.setState({ allDays:!this.state.allDays});\r\n    }else{\r\n      let bool = !this.state.days[Number(e.currentTarget.name)];\r\n      let days = this.state.days.splice([Number(e.currentTarget.name)], 1, bool);\r\n      console.log(this.state.days);\r\n      \r\n      let t = true;\r\n      this.state.days.forEach(e => {\r\n        if(!e) t = false\r\n      })\r\n      this.setState({ days:this.state.days, allDays:t });\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  sort_res = () => { //готовим данные к отправке\r\n    this.props.setPopout(<ScreenSpinner />)\r\n    const { user, citySrc, cityDst, countryDst, countrySrc } = this.props.state;\r\n    const { costMax, costMin, currency,currencyForUrl,language, randomCost, dual,forward, datesCnt, profitability, dayTempMin, dayTempMax, nighTempMax, nighTempMin,passengers, updated, interval, limit } = this.state;\r\n    let days;\r\n    if(this.state.allDays) {\r\n      days = [true, true, true, true, true, true, true];\r\n    }else{\r\n      days = this.state.days;\r\n    }\r\n    let output = {\r\n      citySrc, \r\n      cityDst,\r\n      countryDst,\r\n      countrySrc,\r\n      costMax, \r\n      costMin,\r\n      currency,\r\n      currencyForUrl, \r\n      language,\r\n      randomCost,\r\n      forward,\r\n      dual,\r\n      passengers,\r\n      updated:Number(updated),\r\n      limit,\r\n      interval,\r\n      optional:true,\r\n      dates:datesCnt,\r\n      showAddionalWeather:true,\r\n      profitability:String(profitability),\r\n      ['nightTemp.max']:nighTempMax,\r\n      ['nightTemp.min']:nighTempMin,\r\n      ['dayTemp.max']:dayTempMax,\r\n      ['dayTemp.min']:dayTempMin,\r\n      days\r\n    }\r\n    let obj = {\r\n      id:this.props.state.request_id,\r\n      interval:interval,\r\n      limit:limit,\r\n      updated:Number(updated),\r\n      user_id:user.id,\r\n      output:output\r\n    }\r\n    this.save_request(obj);\r\n    console.log(obj);\r\n  }\r\n\r\n  save_request = (obj) => {  //сохранение подписки\r\n    fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-user-api-request\", {\r\n      \"headers\": {\r\n        \"accept\": \"*/*\",\r\n        \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\r\n        \"content-type\": \"application/json;charset=utf-8\",\r\n      },\r\n      \"referrer\": \"https://appvk.flights.ru/\",\r\n      \"referrerPolicy\": \"no-referrer-when-downgrade\",\r\n      \"body\": JSON.stringify(obj),\r\n      \"method\": \"POST\",\r\n    })\r\n    .then(response => response.json())\r\n    .then(check => {\r\n      if(check.response === 'ok'){\r\n        this.props.setPopout(null);\r\n        this.props.back();\r\n      }\r\n    }).catch(err => {\r\n        this.setState({snackbar:<SnackbarError close={() => this.setState({snackbar:null})} />})\r\n        this.props.setPopout(null);\r\n        this.props.back();\r\n    })\r\n  }\r\n\r\n\r\n  render() {\r\n    const {\r\n      id,\r\n      state\r\n    } = this.props\r\n    const {\r\n      datesCnt,\r\n      currency,\r\n      currencyForUrl,\r\n      language,\r\n      countrySrc,\r\n      citySrc,\r\n      countryDst,\r\n      cityDst,\r\n      continentDst,\r\n      randomCost,\r\n      costMin,\r\n      costMax,\r\n      dayTempMin,\r\n      dayTempMax,\r\n      nighTempMax,\r\n      nighTempMin,\r\n      days\r\n    } = this.state\r\n    return (\r\n      <Panel id={id}>\r\n        <PanelHeader left={<PanelHeaderBack onClick={this.props.back}/>}>Настройки</PanelHeader>\r\n        <FormLayout>\r\n          <Header>Откуда</Header>\r\n          <SelectMimicry\r\n            top=\"Страна вылета\"\r\n            name=\"countrySrc\"\r\n            data-type=\"country\"\r\n            placeholder=\"Россия\"\r\n            onClick={() => {\r\n              this.props.changeDefaultName(\"countrySrc\")\r\n              this.props.changeDefault(\"Страна вылета\")\r\n              this.props.changeDefaultText(countrySrc)\r\n              this.props.go(\"chooseCountry\");\r\n            }}\r\n          >{state.countrySrc}</SelectMimicry>\r\n          <SelectMimicry\r\n            top=\"Город вылета\"\r\n            placeholder=\"Москва\"\r\n            name=\"citySrc\"\r\n            disabled={state.form.countrySrc == null}\r\n            onClick={() => {\r\n              this.props.changeDefaultName(\"citySrc\")\r\n              this.props.changeDefault(\"Город вылета\")\r\n              this.props.changeDefaultText(citySrc)\r\n              this.props.go(\"chooseCity\");\r\n            }}\r\n          >{state.citySrc}</SelectMimicry>\r\n          <Header>Куда</Header>\r\n\r\n          <Select\r\n            top=\"Часть света\"\r\n            name=\"continentDst\"\r\n            onChange={this.onChange}\r\n            value={continentDst}\r\n          >\r\n            {\r\n              Object.keys(CONTINENT_DST).map((continent) => \r\n                <option value={continent} key={continent}>\r\n                  {CONTINENT_DST[continent]}\r\n                </option>\r\n              )\r\n            }\r\n          </Select>\r\n\r\n          <SelectMimicry\r\n            top=\"Страна\"\r\n            name=\"countryDst\"\r\n            placeholder=\"Италия\"\r\n            onClick={() => {\r\n              this.props.changeDefaultName(\"countryDst\")\r\n              this.props.changeDefault(\"Страна прибытия\")\r\n              this.props.changeDefaultText(countryDst)\r\n              this.props.go(\"chooseCountry\");   \r\n             }          \r\n            }\r\n          >{state.countryDst}</SelectMimicry>\r\n          <SelectMimicry\r\n            top=\"Город\"\r\n            name=\"cityDst\"\r\n            placeholder=\"Рим\"\r\n            disabled={state.form.countryDst == null}\r\n            onClick={() => {\r\n              this.props.changeDefaultName(\"cityDst\")\r\n              this.props.changeDefault(\"Город прибытия\")\r\n              this.props.changeDefaultText(cityDst)\r\n              this.props.go(\"chooseCity\");   \r\n             }          \r\n            }\r\n          >{state.cityDst}</SelectMimicry>\r\n          <Header>Интервал</Header>\r\n          <Select\r\n            top=\"Получать дешевые авиабилеты один раз в:\"\r\n            name=\"interval\"\r\n          >\r\n            <option value=\"60\">Час</option>\r\n            <option value=\"240\">Четыре часа</option>\r\n            <option value=\"480\">Восемь часов</option>\r\n            <option value=\"1440\">24 часа</option>\r\n          </Select>\r\n          <Select\r\n            top=\"Получать информацию за крайние N, часов\"\r\n            name=\"updated\"\r\n            onChange={this.onChange}\r\n            defaultValue=\"60\"\r\n          >\r\n            <option value=\"60\">1 час</option>\r\n          </Select>\r\n          <Header>Количество</Header>\r\n          <Select\r\n            top=\"Сколько дешевых авиабилетов показывать в сутки?\"\r\n            name=\"limit\"\r\n            defaultValue=\"0\"\r\n          >\r\n            <option value=\"0\">Все</option>\r\n            <option value=\"20\">20</option>\r\n            <option value=\"50\">50</option>\r\n            <option value=\"100\">100</option>\r\n            <option value=\"300\">300</option>\r\n          </Select>\r\n          <Header>Полеты</Header>\r\n          <Checkbox name=\"forward\" checked={this.state.forward}            \r\n                    onChange={(e) => {\r\n                                 this.setState({\r\n                                    forward: e.currentTarget.checked\r\n                                })\r\n            }}>Туда</Checkbox>\r\n          <Checkbox name=\"dual\" checked={this.state.dual} \r\n                    onChange={(e) => {\r\n                                 this.setState({\r\n                                    dual: e.currentTarget.checked\r\n                                    })\r\n            }}>Туда-обратно</Checkbox>\r\n          <Header>Когда</Header>\r\n          {\r\n            datesCnt && (\r\n              datesCnt.map((item, i) => \r\n                <FormLayout key={i}>\r\n                  <Select\r\n                    top={`Год вылета (${i+1})`}\r\n                    name=\"year\"\r\n                    id={i}\r\n                    onChange={this.onChangeFrom}\r\n                    value={item.yearSrc}\r\n                  >\r\n                    {\r\n                      Array.from(Array(31).keys()).map((year) => \r\n                        <option key={year} vaule={(new Date()).getFullYear()+year}>\r\n                          {(new Date()).getFullYear()+year}\r\n                        </option>\r\n                      )\r\n                    }\r\n                  </Select>\r\n                  <Select\r\n                    top={`Время года (${i+1})`}\r\n                    name=\"season\"\r\n                    id={i}\r\n                    onChange={this.onChangeFrom}\r\n                    value={item.seasonSrc}\r\n                  >\r\n                    {\r\n                      Object.keys(SEASONS_TRANSCRIPTION).map((season) => \r\n                        <option value={season} key={season}>\r\n                          {SEASONS_TRANSCRIPTION[season]}\r\n                        </option>\r\n                      )\r\n                    }\r\n                  </Select>\r\n                  <Select\r\n                    top={`Месяц года (${i+1})`}\r\n                    name=\"month\"\r\n                    id={i}\r\n                    onChange={this.onChangeFrom}\r\n                    value={item.monthSrc}\r\n                  >\r\n                    {\r\n                      Object.keys(MONTHS_TRANSCRIPTION).map((month) => \r\n                        <option value={month} key={month}>\r\n                          {MONTHS_TRANSCRIPTION[month]}\r\n                        </option>\r\n                      )\r\n                    }\r\n                  </Select>\r\n                </FormLayout>\r\n              )\r\n            )\r\n          }\r\n          {\r\n            datesCnt.length > 1\r\n          }\r\n          <Div style={{ display: 'flex' }}>\r\n            {\r\n              datesCnt.length < 3 && (\r\n                <Button\r\n                  size=\"l\"\r\n                  onClick={this.addFrom}\r\n                >\r\n                  <Icon28AddCircleOutline />\r\n                </Button>\r\n              )\r\n            }\r\n            {\r\n              datesCnt.length > 1 && (\r\n                <Button\r\n                  size=\"l\"\r\n                  mode=\"destructive\"\r\n                  onClick={this.removeFrom}\r\n                >\r\n                  <Icon28CancelCircleOutline color=\"rgb(255, 26, 0)\" />\r\n                </Button>\r\n              )\r\n            }\r\n          </Div>\r\n          <Select\r\n            top=\"Язык\"\r\n            name=\"language\"\r\n            onChange={this.onChange}\r\n            value={language}\r\n          >\r\n            {\r\n              Object.keys(LANGUAGES).map((language) => \r\n                <option value={language} key={language}>\r\n                  {LANGUAGES[language]}\r\n                </option>\r\n              )\r\n            }\r\n          </Select>\r\n          <Select\r\n            top=\"Валюта\"\r\n            name=\"currency\"\r\n            onChange={this.onChange}\r\n            value={currency}\r\n          >\r\n            {\r\n              Object.keys(CURRENCY).map((currency) => \r\n                <option value={currency} key={currency}>\r\n                  {CURRENCY[currency]}\r\n                </option>\r\n              )\r\n            }\r\n          </Select>\r\n          <Select\r\n            top=\"Валюта метапоисковика\"\r\n            name=\"currencyForUrl\"\r\n            onChange={this.onChange}\r\n            value={currencyForUrl}\r\n          >\r\n            {\r\n              Object.keys(CURRENCY).map((currency) => \r\n                <option value={currency} key={currency}>\r\n                  {CURRENCY[currency]}\r\n                </option>\r\n              )\r\n            }\r\n          </Select>\r\n          <Select\r\n            top=\"Пассажиры\"\r\n            name=\"passengers\"\r\n            onChange={this.onChange}\r\n          >\r\n            {\r\n              Object.keys(PASSENGERS).map((passengers) => \r\n                <option value={passengers} key={passengers}>\r\n                  {PASSENGERS[passengers]}\r\n                </option>\r\n              )\r\n            }\r\n          </Select>\r\n          <Header>Стоимость, {currency}</Header>\r\n          <Checkbox\r\n            checked={randomCost}\r\n            onChange={(e) => {\r\n              this.setState({\r\n                randomCost: e.currentTarget.checked\r\n              })\r\n            }}\r\n          >\r\n            Любая\r\n          </Checkbox>\r\n          <RangeSlider\r\n            top={costMin + \" - \" + costMax}\r\n            min={100}\r\n            max={500000}\r\n            step={100}\r\n            defaultValue={[100, 500000]}\r\n            value={[costMin, costMax]}\r\n            onChange={(value) => {\r\n              this.setState({\r\n                costMin: value[0],\r\n                costMax: value[1],\r\n                randomCost: false\r\n              })\r\n            }}\r\n          />\r\n          <Div style={{ display: 'flex' }}>\r\n            <Input\r\n              onFocus={() => {\r\n                console.log('focus')\r\n              }}\r\n              value={costMin}\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                const value = parseInt(e.currentTarget.value, 10)\r\n                if(value){\r\n                  if(value < costMax && value > 100){\r\n                    this.setState({ costMin: value })\r\n                  }\r\n                }\r\n              }}\r\n            />\r\n            <Input\r\n              value={costMax}\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                const value = parseInt(e.currentTarget.value, 10)\r\n                if(value){\r\n                  if(value > costMin && value < 500000){\r\n                    this.setState({ costMax: value })\r\n                  }\r\n                }\r\n              }}\r\n            />\r\n          </Div>\r\n          <Header>Дополнительные параметры</Header>\r\n          <Select name='profitability' onChange={this.onChange} top=\"Показывать авиабилеты только с выгодой больше, %\">\r\n            <option>30</option>\r\n            <option>40</option>\r\n            <option>50</option>\r\n            <option>60</option>\r\n            <option>70</option>\r\n            <option>80</option>\r\n            <option>90</option>\r\n          </Select>\r\n          <Header>Вылеты в определенные дни недели</Header>\r\n            <Cell indicator={<Checkbox checked={this.state.allDays} name='all' onChange={this.onChangeDays}/>}>Любой</Cell>\r\n            <Div style={{marginTop:-20}}>\r\n              <Cell indicator={<Checkbox style={{ padding:0}} name='0' onChange={this.onChangeDays} checked={days[0] || this.state.allDays} />}>Понедельник</Cell>\r\n              <Cell indicator={<Checkbox style={{ padding:0}} name='1' onChange={this.onChangeDays} checked={days[1] || this.state.allDays}/>} >Вторник</Cell>\r\n              <Cell indicator={<Checkbox style={{ padding:0}} name='2' onChange={this.onChangeDays} checked={days[2] || this.state.allDays}/>}>Среда</Cell>\r\n              <Cell indicator={<Checkbox style={{ padding:0}} name='3' onChange={this.onChangeDays} checked={days[3] || this.state.allDays}/>}>Четверг</Cell>\r\n              <Cell indicator={<Checkbox style={{ padding:0}} name='4' onChange={this.onChangeDays} checked={days[4] || this.state.allDays}/>}>Пятница</Cell>\r\n              <Cell indicator={<Checkbox style={{ padding:0}} name='5' onChange={this.onChangeDays} checked={days[5] || this.state.allDays}/>}>Суббота</Cell>\r\n              <Cell indicator={<Checkbox style={{ padding:0}} name='6' onChange={this.onChangeDays} checked={days[6] || this.state.allDays}/>}>Воскресенье</Cell>\r\n            </Div>\r\n          <Header>Погода</Header>\r\n          <RangeSlider\r\n            top=\"Температура воздуха днем в день прилета\"\r\n            bottom={\"От \" + dayTempMin + \" до \" + dayTempMax}\r\n            min={-50}\r\n            max={50}\r\n            step={1}\r\n            defaultValue={[-50, 50]}\r\n            value={[dayTempMin, dayTempMax]}\r\n            onChange={(value) => {\r\n              this.setState({\r\n                dayTempMin: value[0],\r\n                dayTempMax: value[1],\r\n                randomCost: false\r\n              })\r\n            }}\r\n          />\r\n          <RangeSlider\r\n            top=\"Температура воздуха ночью в день прилета\"\r\n            bottom={\"От \" + nighTempMin + \" до \" + nighTempMax}\r\n            min={-50}\r\n            max={50}\r\n            step={1}\r\n            defaultValue={[-50, 50]}\r\n            value={[nighTempMin, nighTempMax]}\r\n            onChange={(value) => {\r\n              this.setState({\r\n                nighTempMin: value[0],\r\n                nighTempMax: value[1],\r\n                randomCost: false\r\n              })\r\n            }}\r\n          />\r\n          <Button mode='primary' size='xl' onClick={this.sort_res}>Сохранить</Button>\r\n        </FormLayout>\r\n        {this.state.snackbar}\r\n      </Panel>\r\n    )\r\n  }\r\n}\r\n\r\nexport default EditSettings \r\n","import React, { Component } from 'react'\nimport { Panel, PanelHeader, PanelHeaderBack, Div, Input, List, SimpleCell, Placeholder } from '@vkontakte/vkui'\nimport Icon24Done from '@vkontakte/icons/dist/24/done';\n\nexport class ChooseCountry extends Component {\n  state = {\n    inp: this.props.default,\n    list:null\n  }\n\n  onChange = (e) => {\n    fetch(`https://autocomplete.travelpayouts.com/places2?term=${\n      e.currentTarget.value\n    }&locale=ru`)\n    .then(response => response.json())\n    .then(list => {\n      if(list.length > 0){\n        var resArr = [];\n        list.forEach(function(item){\n          var i = resArr.findIndex(x => x.country_name === item.country_name);\n          if(i <= -1){\n            resArr.push(item);\n          }\n        });\n        this.setState({\n          list: resArr\n        })\n      }\n    })\n  }\n\n  onChoose = (country_name) => {\n    this.props.changeFunction(country_name);\n    this.props.back()\n  }\n\n  render() {\n    const {\n      list\n    } = this.state\n    const {\n      id,\n      back,\n      text\n    } = this.props\n    return (\n      <Panel id={id}>\n        <PanelHeader\n          left={\n            <PanelHeaderBack onClick={back} />\n          }\n        >{text}</PanelHeader>\n        <Div>\n          <Input\n            onChange={this.onChange}\n          />\n        </Div>\n        {list === null ? \n        <Placeholder>Начните вводить название страны</Placeholder>\n        :\n        <List>\n          {\n            list && list.map((item, i) => \n              <SimpleCell\n                onClick={() => this.onChoose(item.country_name)}\n                id={item.country_name}\n                key={i}\n                after={\n                  item.country_name === text && (\n                    <Icon24Done />\n                  )\n                }\n              >\n                {item.country_name}\n              </SimpleCell>\n            )\n          }\n        </List>\n       }\n      </Panel>\n    )\n  }\n}\n\nexport default ChooseCountry\n","import React, { Component } from 'react'\r\nimport { Panel, PanelHeader, PanelHeaderBack, Div, Input, List, SimpleCell, Placeholder } from '@vkontakte/vkui'\r\nimport Icon24Done from '@vkontakte/icons/dist/24/done';\r\n\r\nexport class ChooseCity extends Component {\r\n  state = {\r\n    inp: this.props.default,\r\n    list:null\r\n  }\r\n\r\n  onChange = (e) => {\r\n    let country = \"\";\r\n    if(this.props.changeDefaultName == 'citySrc') \r\n        country = this.props.state.countrySrc;\r\n    if(this.props.changeDefaultName == 'cityDst') \r\n        country = this.props.state.countryDst;\r\n    if(this.props.changeDefaultName == 'city_')\r\n        country = this.props.state.user.country.title;\r\n    console.log(this.props.state);        \r\n    fetch(`https://autocomplete.travelpayouts.com/places2?term=${country} ${\r\n      e.currentTarget.value\r\n    }&locale=ru&types[]=city`)\r\n    .then(response => response.json())\r\n    .then(list => {\r\n      if(list.length > 0){\r\n        var resArr = [];\r\n        list.forEach(function(item){\r\n          if(item.country_name === country){\r\n            resArr.push(item);\r\n          }\r\n        });\r\n        this.setState({\r\n          list: resArr\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  onChoose = (name) => {\r\n    this.props.changeFunction(name);\r\n    this.props.back()\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      list\r\n    } = this.state\r\n    const {\r\n      id,\r\n      back,\r\n      text\r\n    } = this.props\r\n    return (\r\n      <Panel id={id}>\r\n        <PanelHeader\r\n          left={\r\n            <PanelHeaderBack onClick={back} />\r\n          }\r\n        >{text}</PanelHeader>\r\n        <Div>\r\n          <Input\r\n            onChange={this.onChange}\r\n          />\r\n        </Div>\r\n        {list === null ? \r\n        <Placeholder>Начните вводить название города</Placeholder>:\r\n        <List>\r\n          {\r\n            list && list.map((item, i) => \r\n              <SimpleCell\r\n                onClick={() => this.onChoose(item.name)}\r\n                id={item.name}\r\n                key={i}\r\n                after={\r\n                  item.name === text && (\r\n                    <Icon24Done />\r\n                  )\r\n                }\r\n              >\r\n                {item.name}\r\n              </SimpleCell>\r\n            )\r\n          }\r\n        </List>\r\n      }\r\n      </Panel>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ChooseCity\r\n","import React, { Component } from 'react'\r\nimport { Panel, PanelHeader, PanelHeaderBack, Div, Input, List, SimpleCell, Placeholder } from '@vkontakte/vkui'\r\nimport Icon24Done from '@vkontakte/icons/dist/24/done';\r\n\r\nexport class ChooseCountryByContinentp extends Component {\r\n  state = {\r\n    inp: this.props.default,\r\n    list:null\r\n  }\r\n\r\n  onChange = (e) => {\r\n    const search = e.currentTarget.value.toLowerCase();\r\n    fetch(`https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/countries/byContinent/${\r\n      this.props.state.continentDst\r\n    }`)\r\n    .then(response => response.json())\r\n    .then(list => {\r\n\r\n        let arr = list.map((item) => { return item.nameTranslations.ru});\r\n        let resArr = arr.filter((name) => name.toLowerCase().indexOf(search) > -1);\r\n        console.log(resArr);\r\n        this.setState({\r\n          list: resArr\r\n        })\r\n      }\r\n    )\r\n  }\r\n\r\n  onChoose = (country_name) => {\r\n    this.props.changeFunction(country_name);\r\n    this.props.back()\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      list\r\n    } = this.state\r\n    const {\r\n      id,\r\n      back,\r\n      text\r\n    } = this.props\r\n    return (\r\n      <Panel id={id}>\r\n        <PanelHeader\r\n          left={\r\n            <PanelHeaderBack onClick={back} />\r\n          }\r\n        >{text}</PanelHeader>\r\n        <Div>\r\n          <Input\r\n            onChange={this.onChange}\r\n          />\r\n        </Div>\r\n        {list === null ? \r\n        <Placeholder>Начните вводить название страны</Placeholder>\r\n        :\r\n        <List>\r\n          {\r\n            list && list.map((item, i) => \r\n              <SimpleCell\r\n                onClick={() => this.onChoose(item)}\r\n                id={item}\r\n                key={i}\r\n                after={\r\n                    item === text && (\r\n                    <Icon24Done />\r\n                  )\r\n                }\r\n              >\r\n                {item}\r\n              </SimpleCell>\r\n            )\r\n          }\r\n        </List>\r\n       }\r\n      </Panel>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ChooseCountryByContinentp;\r\n","import React from 'react'\nimport { Epic, Tabbar, TabbarItem, View, Panel, ModalRoot, ModalPage,  Div, Checkbox, Title, FormLayout, Switch, Cell, ScreenSpinner, Button, ModalPageHeader, Card } from '@vkontakte/vkui'\nimport bridge from '@vkontakte/vk-bridge'\nimport axios from 'axios';\n\n// icons\nimport Icon28Users3Outline from '@vkontakte/icons/dist/28/users_3_outline';\nimport Icon28Settings from '@vkontakte/icons/dist/28/settings';\nimport Icon28HomeOutline from '@vkontakte/icons/dist/28/home_outline';\nimport Icon28Users from '@vkontakte/icons/dist/28/users';\nimport Icon28Send from '@vkontakte/icons/dist/28/send';\n\n\n// panels\nimport Groups from './panels/Groups'\nimport Catalog from './panels/Catalog'\nimport SectionCatalog from './panels/SectionCatalog'\nimport MySubs from './panels/MySubs'\nimport Friends from './panels/Friends'\nimport Settings from './panels/Settings'\nimport EditSettings from './panels/EditSettings';\nimport ChooseCountry from './components/ChooseCountry';\nimport ChooseCity from './components/ChooseCity';\nimport ChooseCountryByContinent from './components/ChooseCountryByContinent';\nimport SnackbarError from './components/SnackbarError';\n\n\n\nconst SEASONS_TRANSCRIPTION = {\n  'all': 'любое',\n  'winter': 'зима',\n  'spring': 'весна',\n  'summer': 'лето',\n  'fall': 'осень',\n};\nconst MONTHS_TRANSCRIPTION = {\n  0: 'любой',\n  1: 'январь', 2: 'февраль', 3: 'март', 4: 'апрель',\n  5: 'май', 6: 'июнь', 7: 'июль', 8: 'август',\n  9: 'сентябрь', 10: 'октябрь', 11: 'ноябрь', 12: 'декабрь',\n};\n\nconst CONTINENTS = {\n  'random': 'любая',\n  'E': 'Европа',\n  'F': 'Африка',\n  'O': 'Океания',\n  'A': 'Азия',\n  'S': 'Южная Америка',\n  'N': 'Северная Америка',\n};\n\nconst PASSENGERS = {\n  url: \"1 пассажир, экономкласс\",\n  url1Business: \"1 пассажир, бизнес-класс\",\n  url2Passengers: \"2 пассажира, экономкласс\",\n  urlForma: \"открытая редактируемая форма поиска\"\n}\n\nconst CURRENCY = {\n  AZN: \"манат\",\n  BYN: \"беларусский рубль\",\n  CNY: \"юань\",\n  EUR: \"евро\",\n  KGS: \"сом\",\n  KZT: \"тенге \",\n  RUB: \"рубль \",\n  THB: \"бат\",\n  UAH: \"гривна\",\n  USD: \"доллар\",\n  UZS: \"сум\"\n}\n\nconst CURRENCY1 = {\n  AZN: \"манат\",\n  BYN: \"беларусских рублей\",\n  CNY: \"юань\",\n  EUR: \"евро\",\n  KGS: \"сом\",\n  KZT: \"тенге \",\n  RUB: \"рублей\",\n  THB: \"бат\",\n  UAH: \"гривна\",\n  USD: \"доллар\",\n  UZS: \"сум\"\n}\n\nconst LANGUAGES = {\n  de: \"немецкий\",\n  en: \"английский\",\n  es: \"испанский\",\n  fr: \"французский\",\n  it: \"итальянский\",\n  ru: \"русский\",\n  th: \"тайский\",\n  tr: \"турецкий\"\n}\n\nclass App extends React.Component {\n  state = {\n    activeStory: 'settings',\n    activePanel: 'home',\n    activeModal: null,\n    popout: null,\n    currentCatalog: 0,\n    catalog:null,\n    appId: null,\n\n\n\n    form:null, //state для проброса значений из редактора подписки(база данных)\n    obj:{\n      from:null,\n      to:null,\n      all:false\n    } , //state для проброса значений из создания и редоктирования подписки база данных\n\n  }\n\n  componentDidMount() {\n    // Получаем данные о пользователе и каналы\n    // this.setPopout(<ScreenSpinner />)\n    bridge.sendPromise(\"VKWebAppGetUserInfo\")\n    .then(user => {\n      let citySrc = null;\n      fetch(`https://autocomplete.travelpayouts.com/places2?term=${\n        user.city.title\n      }&locale=ru&types[]=city`)\n      .then(response => response.json())\n      .then(list => {\n          if(list.length !== 0) {\n            citySrc = user.city.title;\n          }\n        \n        this.setState({\n          appId: parseInt(window.location.href.split(\"vk_app_id=\")[1].split(\"&\")[0], 10),\n          user,\n          countrySrc: user.country.title,\n          citySrc\n        })\n       }\n      )\n\n      axios.get(\"https://cors-anywhere.herokuapp.com/https://api.cheapflights.sale/api/Channels\")\n      .then(async data => {\n        await this.sortData(data.data)\n      })\n    })\n  }\n\n  // Приведение каналов в адекватный вид:\n  // [\n  //   {\n  //     catalog: \"catalog name\",\n  //     to: [\n  //       \"country\",\n  //       {\n  //         \"section\": \"в европу\",\n  //         arr: [\n  //           \"country\"\n  //         ]\n  //       }\n  //     ]\n  //   }\n  // ]\n  sortData = async data => {\n    const catalog = []\n    data.forEach(async item => {\n      let index = catalog.findIndex(a => a.catalog === item.catalog)\n      if(index === -1){\n        catalog.push({\n          catalog: item.catalog,\n          to: []\n        })\n        index = catalog.length-1\n      }\n      if(item.section){\n        const sectionIndex = catalog[index].to.findIndex(a => a.section === item.section)\n        if(sectionIndex === -1){\n          catalog[index].to.push({\n            section: item.section,\n            arr: [item]\n          })\n        }else{\n          catalog[index].to[sectionIndex].arr.push(item)\n        }\n      }else{\n        catalog[index].to.push(item)\n      }\n    })\n    catalog.shift()\n    catalog.splice(catalog.findIndex(a => a.catalog === \"\"),1)\n    this.setState({ catalog })\n    this.setPopout(null)\n  }\n  \n  // Смена табов\n  onStoryChange = (e) => {\n    this.setState({ activeStory: e.currentTarget.dataset.story, activePanel: 'home' })\n  }\n\n  // Рисование попаута\n  setPopout = popout => {\n    this.setState({ popout })\n  }\n\n  // Открытие той или иной части света\n  openCatalog = e => {\n    this.setState({ \n      activePanel: 'catalog',\n      currentCatalog: parseInt(e.currentTarget.id, 10),\n    })\n  }\n  //открытие модалки\n  openModal = modal => {\n    console.log(modal);\n    this.setState({activeModal: modal});\n  }\n\n  chooseGlobal = ( data) => {\n    console.log(this.state.changeDefaultName, data);\n    this.setState({[this.state.changeDefaultName]: data});\n  }\n\n  // Изменение панели\n  go = activePanel => {\n    this.setState({ activePanel, currentSection: null })\n  }\n\n  // Открыть секцию\n  chooseSection = e => {\n    this.setState({ activePanel: \"sectionCatalog\", currentSection: parseInt(e.currentTarget.id, 10) })\n  }\n\n  save_request = () => {  //сохранение подписки\n    this.setState({ popout: <ScreenSpinner /> });\n    fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-user-api-request\", {\n      \"headers\": {\n        \"accept\": \"*/*\",\n        \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n        \"content-type\": \"application/json;charset=utf-8\",\n      },\n      \"referrer\": \"https://appvk.flights.ru/\",\n      \"referrerPolicy\": \"no-referrer-when-downgrade\",\n      \"body\": JSON.stringify(this.state.item),\n      \"method\": \"POST\",\n    })\n    .then(response => response.json())\n    .then(check => {\n      if(check.response === 'ok'){\n        this.setState({ popout: null, activeModal: null});\n        console.log(check);\n      }\n    }).catch(err => {\n        this.setState({snackbar:<SnackbarError close={() => this.setState({snackbar:null})} />})\n        this.setState({ popout: null });\n    })\n  }\n  \n  //редактирование state(Дял формы редактирования и создания подписки на сообщества)\n  onChangeGroups = (name, obj) => {\n    console.log(obj)\n   this.setState({ [name]: obj });\n  }\n\n  //редактирование state(Дял формы редокттпование)\n  onChangeForm = (countrySrc,citySrc,countryDst,cityDst, request_id) => {\n    this.setState({ countrySrc, citySrc, countryDst, cityDst, request_id});\n  }\n\n  choose = e => {\n    this.setState({\n      obj:{ ...this.state.obj,\n      [e.currentTarget.name]: this.state.obj[e.currentTarget.name].map((item, i) => {\n        if(i === parseInt(e.currentTarget.id, 10)){\n          item.checked = e.currentTarget.checked\n          return item\n        }else{\n          return item\n        }\n      })\n    }\n    })\n    let bool = true;\n    this.state.obj.from.forEach(element => {\n      if(!element.checked) {\n        bool = false;\n      }\n    });\n    this.state.obj.to.forEach(element => {\n      if(!element.checked) {\n        bool = false;\n      }\n    })\n    this.setState({ obj:{ ...this.state.obj,all:bool }})\n  }\n\n  chooseAll = () => {\n    let bool = !this.state.obj.all;\n    const { from , to} = this.state.obj;\n    this.setState({\n      obj: {\n      ...this.state.obj,\n      from: from.map((item, i) => {  \n          item.checked = bool;\n          return item\n      }),\n      to: to.map((item, i) => {  \n        item.checked = bool;\n        return item\n    }), all:bool\n  }\n    })\n  }\n\n  submit = async () => {\n    const { from, to, name, groupId, id } = this.state.obj;\n    const { catalog, currentCatalog, currentSection, user} = this.state;\n    this.setPopout(<ScreenSpinner />);\n    if(from.filter((item) => item.checked).length > 0 && \n      to.filter((item) => item.checked).length > 0\n    ){\n      let arr = []\n      arr = arr.concat(from.filter((item) => item.checked)\n      .map((item) => item.tag+\"/\"+groupId+\"/\"+name+\"/\"+catalog[currentCatalog].catalog+\"/\"+(currentSection ? currentSection : \"Любой\")))\n      arr = arr.concat(to.filter((item) => item.checked)\n      .map((item) => item.tag+\"/\"+groupId+\"/\"+name+\"/\"+catalog[currentCatalog].catalog+\"/\"+(currentSection ? currentSection : \"Любой\")))\n\n      fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/get-tags\", {\n        \"headers\": {\n          \"accept\": \"*/*\",\n          \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n          \"content-type\": \"application/json;charset=utf-8\",\n        },\n        \"body\": JSON.stringify({\n          user_id: String(user.id)\n        }),\n        \"method\": \"POST\",\n      })\n      .then(response => response.json())\n      .then(data => {\n        if(data.tags.length > 0){\n          arr = arr.concat(\n            data.tags.map((item) => \n              item.body+\"/\"+item.group_id+\"/\"+item.group_name+\"/\"+item.category+\"/\"+item.section\n            )\n          )\n        }\n        fetch(\"https://cors-anywhere.herokuapp.com/https://appvk.flights.ru/save-tags\", {\n          \"headers\": {\n            \"accept\": \"*/*\",\n            \"accept-language\": \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\",\n            \"content-type\": \"application/json;charset=utf-8\",\n          },\n          \"referrer\": \"https://appvk.flights.ru/\",\n          \"referrerPolicy\": \"no-referrer-when-downgrade\",\n          \"body\": JSON.stringify({\n            user_id: String(user.id),\n            checkbox: arr\n          }),\n          \"method\": \"POST\",\n        })\n        .then(response => response.json())\n        .then(check => {\n          if(check.response === 'ok'){\n            this.setState({ popout: null, activeModal: null});\n          }\n        })\n      })\n    }\n  }\n\n  render () {\n    const {\n      activePanel,\n      popout,\n      defaultCountry,\n      chooseCountryText,\n      changeFunction,\n      changeDefaultName,\n      item\n    } = this.state\n    const {\n      from,\n      to,\n      all\n    } = this.state.obj;\n    return (\n      <Epic activeStory={this.state.activeStory}  tabbar={\n        <Tabbar>\n          <TabbarItem\n            onClick={this.onStoryChange}\n            selected={this.state.activeStory === 'groups'}\n            data-story=\"groups\"\n            text=\"Сообщества\"\n          ><Icon28Users3Outline /></TabbarItem>\n          <TabbarItem\n            onClick={this.onStoryChange}\n            selected={this.state.activeStory === 'settings'}\n            data-story=\"settings\"\n            text=\"Настройки\"\n          ><Icon28Settings /></TabbarItem>\n          <TabbarItem\n            onClick={this.onStoryChange}\n            selected={this.state.activeStory === 'subscribes'}\n            data-story=\"subscribes\"\n            text=\"Мои подписки\"\n          ><Icon28HomeOutline /></TabbarItem>\n          <TabbarItem\n            onClick={this.onStoryChange}\n            selected={this.state.activeStory === 'friends'}\n            data-story=\"friends\"\n            text=\"Друзья\"\n          ><Icon28Users /></TabbarItem>\n          <TabbarItem\n            onClick={this.onStoryChange}\n            selected={this.state.activeStory === 'aviasales'}\n            data-story=\"aviasales\"\n            text=\"Aviasales\"\n          ><Icon28Send /></TabbarItem>\n        </Tabbar>\n      }>\n        <View id=\"groups\" activePanel={activePanel} popout={popout} modal={\n        <ModalRoot activeModal={this.state.activeModal}>\n          <ModalPage id='subscribeCities' onClose={() => this.setState({ activeModal:null} )} dynamicContentHeight settlingHeight={100} header={<ModalPageHeader>Настройка</ModalPageHeader>}>\n          <Div style={{ position: \"relative\", textAlign: \"left\", overflowX: \"hidden\", overflowY: \"auto\", backgroundColor:'#fff' }} className=\"SubscribeCities\">\n          <Cell indicator={<Switch checked={all} onChange={this.chooseAll}/>}>Все</Cell>\n          <Title level=\"3\" weight=\"bold\">Показывать авиабилеты из:</Title>\n          <FormLayout>\n            {\n              from && (\n                from.map((item, index) => \n                  <Checkbox\n                    key={index}\n                    id={index}\n                    name=\"from\"\n                    onChange={this.choose}\n                    checked={item.checked}\n                  >\n                    {item.tag.split(\"#\")[1].split(\"@\")[0]}\n                  </Checkbox>\n                )\n              )\n            }\n            <Title level=\"3\" weight=\"bold\">Показывать авиабилеты в:</Title>\n            {\n              to && (\n                to.map((item, index) => \n                  <Checkbox\n                    key={index}\n                    id={index}\n                    name=\"to\"\n                    onChange={this.choose}\n                    checked={item.checked}\n                  >\n                    {item.tag.split(\"#\")[1].split(\"@\")[0]}\n                  </Checkbox>\n                )\n              )\n            }\n            <Button mode='commerce' size='xl' onClick={this.submit}>Пременить</Button>\n          </FormLayout>\n        </Div>\n          </ModalPage>\n\n        \n        </ModalRoot>\n      }>\n          <Groups\n            id=\"home\"\n            state={this.state}\n            setPopout={this.setPopout}\n            openCatalog={this.openCatalog}\n          />\n          <Catalog\n            id=\"catalog\"\n            state={this.state}\n            setPopout={this.setPopout}\n            openModal={this.openModal}\n            go={this.go}\n            onChangeGroups={this.onChangeGroups}\n            chooseSection={this.chooseSection}\n          />\n          <SectionCatalog\n            id=\"sectionCatalog\"\n            state={this.state}\n            setPopout={this.setPopout}\n            openModal={this.openModal}\n            onChangeGroups={this.onChangeGroups}\n            go={this.go}\n          />\n        </View>\n        <View id=\"settings\" activePanel={activePanel} popout={popout} modal={\n          <ModalRoot activeModal={this.state.activeModal}>\n            <ModalPage id='confirm_settings' header={<ModalPageHeader>Подтверждение</ModalPageHeader>} onClose={() => this.setState({ activeModal: null})} settlingHeight={100}>\n              {item && \n              <Card size=\"l\" mode=\"shadow\">\n                  <Div style={{ padding: '20px', lineHeight: 1.5 }}>\n                    Из страны <b>{\n                    (item.output).countrySrc ? (item.output).countrySrc : \"любая\"\n                    }</b> и города <b>{(item.output).citySrc ? (item.output).citySrc : \"любой\"}</b><br />\n                    В часть света <b>{CONTINENTS[(item.output).continentDst]}</b> и страну <b>{(item.output).countryDst ? (item.output).countryDst : \"любая\"}</b><br />\n                    В город <b>{(item.output).cityDst ? (item.output).cityDst : \"любой\"}</b><br />\n                    Направление полетов - <b>{(item.output).forward ? \"туда\" : \"туда-обратно\"}</b><br />\n                    {\n                      (item.output).dates.map((item, i) => \n                        <div key={i}>\n                          Год вылета ({i+1}) <b>{item.year}</b><br />\n                          Время года ({i+1}) <b>{SEASONS_TRANSCRIPTION[item.season]}</b><br />\n                          Месяц ({i+1}) <b>{MONTHS_TRANSCRIPTION[item.month]}</b><br />\n                        </div>    \n                      )\n                    }<br />\n                    Пассажиры <b>{PASSENGERS[(item.output).passengers]}</b><br />\n                    Цена от <b>{(item.output).costMin}</b> до <b>{(item.output).costMax}</b> {CURRENCY1[(item.output).currency]}<br />\n\n                    Период показа <b>{(item.output).interval}</b> минут<br />\n                    Глубина поиска <b>{(item.output).updated}</b> минут<br />\n                    Максимальное количество билетов за 24 часа <b>{(item.output).limit === \"0\" ? \"все\" : (item.output).limit}</b><br />\n                    Язык (туда-обратно) <b>{LANGUAGES[(item.output).language]}</b><br />\n                    Валюта (цена) <b>{CURRENCY[(item.output).currency]}</b><br />\n                    Валюта (метапоисковика) <b>{CURRENCY[(item.output).currencyForUrl]}</b><br />\n                    {\n                      (item.output).optional && (\n                        <div><br />\n                          <div style={{ color: 'var(--tabbar_inactive_icon)' }}>Дополнительные параметры</div>\n                          {\n                            (item.output).profitability && (\"Выгодность покупки больше \")\n                          }\n                          {\n                            (item.output).profitability && \n                            <b>{(item.output).profitability+\"%\"}</b>\n                          }<br />\n                          Дни недели вылета <b>{\n                            ((days) => {\n                              const daysOfWeek = [\n                                \"вс\",\n                                \"пн\",\n                                \"вт\",\n                                \"ср\",\n                                \"чт\",\n                                \"пт\",\n                                \"сб\"\n                              ]\n                              let check = 0;\n                              days.every((element, index, array) => {\n                                  check++;\n                                  return element === true;\n                              });\n                              if (check === 7) {\n                                  return 'все';\n                              }\n                              let res = '';\n                              for (let index = 1; index < days.length; index++) {\n                                  if (days[index]) {\n                                      res += daysOfWeek[index].toLowerCase() + ', ';\n                                  }\n                              }\n                              res += daysOfWeek[0].toLowerCase();\n                              return res;\n                            })((item.output).days)\n                          }</b><br />\n                          {\n                            (item.output).showAddionalWeather && (\n                              <div>\n                                Прогноз погоды в день прилета<br />\n                                Днем от <b>{(item.output)['dayTemp.min']}</b> С до <b>{(item.output)['dayTemp.max']}</b> С<br />\n                                Ночью от <b>{(item.output)['nightTemp.min']}</b> С до <b>{(item.output)['nightTemp.max']}</b> С<br />\n                              </div>\n                            )\n                          }\n                        </div>\n                      )\n                    }\n                  </Div>\n                  <Div>\n                    <Button size='xl' onClick={this.save_request}>Подтвердить</Button>\n                  </Div>\n                </Card>\n              }\n            </ModalPage>\n          </ModalRoot>\n        }>\n          <Settings\n            id=\"home\"\n            state={this.state}\n            setPopout={this.setPopout}\n            onChangeGroups={this.onChangeGroups}\n            openModal={this.openModal}\n            go={this.go}\n            changeDefault={(chooseCountryText) => this.setState({ chooseCountryText })}\n            changeDefaultText={(defaultCountry) => this.setState({ defaultCountry })}\n            changeDefaultName={(changeDefaultName) => this.setState({ changeDefaultName })}\n          />\n          <ChooseCountry\n            id=\"chooseCountry\"\n            default={defaultCountry}\n            text={chooseCountryText}\n            changeFunction={this.chooseGlobal}\n            changeDefaultName={changeDefaultName}\n            back={() => this.setState({ activePanel: 'home' })}\n          />\n\n          <ChooseCity\n            id='chooseCity'\n            default={defaultCountry}\n            text={chooseCountryText}\n            changeFunction={this.chooseGlobal}\n            changeDefaultName={changeDefaultName}\n            state={this.state}\n            back={() => this.setState({ activePanel: 'home' })}\n          />\n\n          <ChooseCountryByContinent \n            id='chooseCountryByContinent'\n            default={defaultCountry}\n            text={chooseCountryText}\n            changeFunction={this.chooseGlobal}\n            changeDefaultName={changeDefaultName}\n            state={this.state}\n            back={() => this.setState({ activePanel: 'home' })}\n          />\n        </View>\n\n        <View id=\"subscribes\" activePanel={activePanel} popout={popout} modal={\n        <ModalRoot activeModal={this.state.activeModal}>\n          <ModalPage id='subscribeCities' onClose={() => this.setState({ activeModal:null} )} dynamicContentHeight settlingHeight={100} header={<ModalPageHeader>Настройка</ModalPageHeader>}>\n          <Div style={{ position: \"relative\", textAlign: \"left\", overflowX: \"hidden\", overflowY: \"auto\", backgroundColor:'#fff' }} className=\"SubscribeCities\">\n          <Cell indicator={<Switch checked={all} onChange={this.chooseAll}/>}>Все</Cell>\n          <Title level=\"3\" weight=\"bold\">Показывать авиабилеты из:</Title>\n          <FormLayout>\n            {\n              from && (\n                from.map((item, index) => \n                  <Checkbox\n                    key={index}\n                    id={index}\n                    name=\"from\"\n                    onChange={this.choose}\n                    checked={item.checked}\n                  >\n                    {item.tag.split(\"#\")[1].split(\"@\")[0]}\n                  </Checkbox>\n                )\n              )\n            }\n            <Title level=\"3\" weight=\"bold\">Показывать авиабилеты в:</Title>\n            {\n              to && (\n                to.map((item, index) => \n                  <Checkbox\n                    key={index}\n                    id={index}\n                    name=\"to\"\n                    onChange={this.choose}\n                    checked={item.checked}\n                  >\n                    {item.tag.split(\"#\")[1].split(\"@\")[0]}\n                  </Checkbox>\n                )\n              )\n            }\n            <Button mode='commerce' size='xl' onClick={this.submit}>Пременить</Button>\n          </FormLayout>\n        </Div>\n          </ModalPage>\n\n        \n        </ModalRoot>\n      }>\n          <MySubs\n            id=\"home\"\n            state={this.state}\n            go={this.go}\n            onChange={this.onChangeForm}\n            changeFunction={this.chooseGlobal}\n            changeDefaultName={(changeDefaultName) => this.setState({ changeDefaultName }, console.log(changeDefaultName))}\n            openModal={this.openModal}\n            onChangeGroups={this.onChangeGroups}\n            setPopout={this.setPopout}\n          />\n\n          <EditSettings \n            id='edit-settings'\n            go={this.go}\n            back={() => this.go('home')}\n            state={this.state}\n            setPopout={this.setPopout}\n            changeFunction={this.chooseGlobal}\n            changeDefaultName={(changeDefaultName) => this.setState({ changeDefaultName })}\n            changeDefault={(chooseCountryText) => this.setState({ chooseCountryText })}\n            changeDefaultText={(defaultCountry) => this.setState({ defaultCountry })}\n          />\n\n          <ChooseCountry\n            id=\"chooseCountry\"\n            default={defaultCountry}\n            text={chooseCountryText}\n            changeFunction={this.chooseGlobal}\n            changeDefaultName={changeDefaultName}\n            back={() => this.setState({ activePanel: 'edit-settings' })}\n          />\n\n          <ChooseCity\n            id='chooseCity'\n            default={defaultCountry}\n            text={chooseCountryText}\n            changeFunction={this.chooseGlobal}\n            changeDefaultName={changeDefaultName}\n            state={this.state}\n            back={() => this.setState({ activePanel: 'edit-settings' })}\n          />\n        </View>\n        <View id=\"friends\" activePanel={activePanel} popout={popout}>\n          <Friends\n            id=\"home\"\n            state={this.state}\n            setPopout={this.setPopout}\n            go={this.go}\n            changeFunction={this.chooseGlobal}\n            changeDefaultName={(changeDefaultName) => this.setState({ changeDefaultName })}\n            changeDefault={(chooseCountryText) => this.setState({ chooseCountryText })}\n            changeDefaultText={(defaultCountry) => this.setState({ defaultCountry })}\n          />\n          <ChooseCity\n            id='chooseCity'\n            default={defaultCountry}\n            text={chooseCountryText}\n            changeFunction={this.chooseGlobal}\n            changeDefaultName={changeDefaultName}\n            state={this.state}\n            back={() => this.setState({ activePanel: 'home' })}\n          />  \n        </View>\n        <View id=\"aviasales\" activePanel={activePanel} popout={popout}>\n          <Panel id=\"home\"></Panel>\n        </View>\n      </Epic>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport * as eruda from 'eruda';\nimport * as erudaCode from 'eruda-code';\nimport * as erudaDom from 'eruda-dom';\nimport bridge from '@vkontakte/vk-bridge'\nimport '@vkontakte/vkui/dist/vkui.css';\n\nbridge.send(\"VKWebAppInit\", {})\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n\n\neruda.init();\neruda.add(erudaCode);\neruda.add(erudaDom);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}